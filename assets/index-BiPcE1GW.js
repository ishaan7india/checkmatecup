var CE=Object.defineProperty;var Ym=t=>{throw TypeError(t)};var kE=(t,e,r)=>e in t?CE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ge=(t,e,r)=>kE(t,typeof e!="symbol"?e+"":e,r),Ju=(t,e,r)=>e.has(t)||Ym("Cannot "+r);var F=(t,e,r)=>(Ju(t,e,"read from private field"),r?r.call(t):e.get(t)),Pe=(t,e,r)=>e.has(t)?Ym("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),be=(t,e,r,n)=>(Ju(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),$t=(t,e,r)=>(Ju(t,e,"access private method"),r);var vl=(t,e,r,n)=>({set _(s){be(t,e,s,r)},get _(){return F(t,e,n)}});function TE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function py(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var my={exports:{}},ou={},gy={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=Symbol.for("react.element"),jE=Symbol.for("react.portal"),NE=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),PE=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),AE=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),DE=Symbol.for("react.suspense"),LE=Symbol.for("react.memo"),ME=Symbol.for("react.lazy"),Jm=Symbol.iterator;function $E(t){return t===null||typeof t!="object"?null:(t=Jm&&t[Jm]||t["@@iterator"],typeof t=="function"?t:null)}var vy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yy=Object.assign,wy={};function Ro(t,e,r){this.props=t,this.context=e,this.refs=wy,this.updater=r||vy}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xy(){}xy.prototype=Ro.prototype;function np(t,e,r){this.props=t,this.context=e,this.refs=wy,this.updater=r||vy}var sp=np.prototype=new xy;sp.constructor=np;yy(sp,Ro.prototype);sp.isPureReactComponent=!0;var Xm=Array.isArray,by=Object.prototype.hasOwnProperty,ip={current:null},_y={key:!0,ref:!0,__self:!0,__source:!0};function Sy(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)by.call(e,n)&&!_y.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:rl,type:t,key:i,ref:o,props:s,_owner:ip.current}}function UE(t,e){return{$$typeof:rl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function op(t){return typeof t=="object"&&t!==null&&t.$$typeof===rl}function FE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Zm=/\/+/g;function Xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FE(""+t.key):e.toString(36)}function Xl(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rl:case jE:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Xu(o,0):n,Xm(s)?(r="",t!=null&&(r=t.replace(Zm,"$&/")+"/"),Xl(s,e,r,"",function(u){return u})):s!=null&&(op(s)&&(s=UE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Xm(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Xu(i,a);o+=Xl(i,e,r,l,s)}else if(l=$E(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Xu(i,a++),o+=Xl(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yl(t,e,r){if(t==null)return t;var n=[],s=0;return Xl(t,n,"","",function(i){return e.call(r,i,s++)}),n}function BE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},Zl={transition:null},zE={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Zl,ReactCurrentOwner:ip};function Ey(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:yl,forEach:function(t,e,r){yl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yl(t,function(){e++}),e},toArray:function(t){return yl(t,function(e){return e})||[]},only:function(t){if(!op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Ro;je.Fragment=NE;je.Profiler=PE;je.PureComponent=np;je.StrictMode=OE;je.Suspense=DE;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE;je.act=Ey;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=yy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ip.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)by.call(e,l)&&!_y.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:rl,type:t.type,key:s,ref:i,props:n,_owner:o}};je.createContext=function(t){return t={$$typeof:AE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RE,_context:t},t.Consumer=t};je.createElement=Sy;je.createFactory=function(t){var e=Sy.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:IE,render:t}};je.isValidElement=op;je.lazy=function(t){return{$$typeof:ME,_payload:{_status:-1,_result:t},_init:BE}};je.memo=function(t,e){return{$$typeof:LE,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Zl.transition;Zl.transition={};try{t()}finally{Zl.transition=e}};je.unstable_act=Ey;je.useCallback=function(t,e){return Zt.current.useCallback(t,e)};je.useContext=function(t){return Zt.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};je.useEffect=function(t,e){return Zt.current.useEffect(t,e)};je.useId=function(){return Zt.current.useId()};je.useImperativeHandle=function(t,e,r){return Zt.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Zt.current.useMemo(t,e)};je.useReducer=function(t,e,r){return Zt.current.useReducer(t,e,r)};je.useRef=function(t){return Zt.current.useRef(t)};je.useState=function(t){return Zt.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return Zt.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return Zt.current.useTransition()};je.version="18.3.1";gy.exports=je;var f=gy.exports;const Q=py(f),ap=TE({__proto__:null,default:Q},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE=f,HE=Symbol.for("react.element"),VE=Symbol.for("react.fragment"),qE=Object.prototype.hasOwnProperty,KE=WE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GE={key:!0,ref:!0,__self:!0,__source:!0};function Cy(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)qE.call(e,n)&&!GE.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:HE,type:t,key:i,ref:o,props:s,_owner:KE.current}}ou.Fragment=VE;ou.jsx=Cy;ou.jsxs=Cy;my.exports=ou;var c=my.exports,ky={exports:{}},Er={},Ty={exports:{}},jy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,O){var H=j.length;j.push(O);e:for(;0<H;){var Z=H-1>>>1,k=j[Z];if(0<s(k,O))j[Z]=O,j[H]=k,H=Z;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var O=j[0],H=j.pop();if(H!==O){j[0]=H;e:for(var Z=0,k=j.length,W=k>>>1;Z<W;){var z=2*(Z+1)-1,X=j[z],ae=z+1,A=j[ae];if(0>s(X,H))ae<k&&0>s(A,X)?(j[Z]=A,j[ae]=H,Z=ae):(j[Z]=X,j[z]=H,Z=z);else if(ae<k&&0>s(A,H))j[Z]=A,j[ae]=H,Z=ae;else break e}}return O}function s(j,O){var H=j.sortIndex-O.sortIndex;return H!==0?H:j.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,h=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=j)n(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=r(u)}}function _(j){if(g=!1,x(j),!v)if(r(l)!==null)v=!0,M(S);else{var O=r(u);O!==null&&V(_,O.startTime-j)}}function S(j,O){v=!1,g&&(g=!1,w(T),T=-1),m=!0;var H=h;try{for(x(O),p=r(l);p!==null&&(!(p.expirationTime>O)||j&&!Y());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,h=p.priorityLevel;var k=Z(p.expirationTime<=O);O=t.unstable_now(),typeof k=="function"?p.callback=k:p===r(l)&&n(l),x(O)}else n(l);p=r(l)}if(p!==null)var W=!0;else{var z=r(u);z!==null&&V(_,z.startTime-O),W=!1}return W}finally{p=null,h=H,m=!1}}var E=!1,C=null,T=-1,L=5,$=-1;function Y(){return!(t.unstable_now()-$<L)}function U(){if(C!==null){var j=t.unstable_now();$=j;var O=!0;try{O=C(!0,j)}finally{O?J():(E=!1,C=null)}}else E=!1}var J;if(typeof y=="function")J=function(){y(U)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,K=R.port2;R.port1.onmessage=U,J=function(){K.postMessage(null)}}else J=function(){b(U,0)};function M(j){C=j,E||(E=!0,J())}function V(j,O){T=b(function(){j(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,M(S))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var H=h;h=O;try{return j()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,O){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var H=h;h=j;try{return O()}finally{h=H}},t.unstable_scheduleCallback=function(j,O,H){var Z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,j){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=H+k,j={id:d++,callback:O,priorityLevel:j,startTime:H,expirationTime:k,sortIndex:-1},H>Z?(j.sortIndex=H,e(u,j),r(l)===null&&j===r(u)&&(g?(w(T),T=-1):g=!0,V(_,H-Z))):(j.sortIndex=k,e(l,j),v||m||(v=!0,M(S))),j},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(j){var O=h;return function(){var H=h;h=O;try{return j.apply(this,arguments)}finally{h=H}}}})(jy);Ty.exports=jy;var QE=Ty.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=f,Sr=QE;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ny=new Set,ba={};function yi(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(ba[t]=e,t=0;t<e.length;t++)Ny.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ch=Object.prototype.hasOwnProperty,JE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eg={},tg={};function XE(t){return ch.call(tg,t)?!0:ch.call(eg,t)?!1:JE.test(t)?tg[t]=!0:(eg[t]=!0,!1)}function ZE(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eC(t,e,r,n){if(e===null||typeof e>"u"||ZE(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function er(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new er(t,5,!1,t.toLowerCase(),null,!1,!1)});var lp=/[\-:]([a-z])/g;function cp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lp,cp);It[e]=new er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lp,cp);It[e]=new er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lp,cp);It[e]=new er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new er(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new er(t,1,!1,t.toLowerCase(),null,!0,!0)});function up(t,e,r,n){var s=It.hasOwnProperty(e)?It[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eC(e,r,s,n)&&(r=null),n||s===null?XE(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var qn=YE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),Oy=Symbol.for("react.provider"),Py=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),Ry=Symbol.for("react.offscreen"),rg=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=rg&&t[rg]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Zu;function ea(t){if(Zu===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Zu=e&&e[1]||""}return`
`+Zu+t}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ed=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ea(t):""}function tC(t){switch(t.tag){case 5:return ea(t.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return t=td(t.type,!1),t;case 11:return t=td(t.type.render,!1),t;case 1:return t=td(t.type,!0),t;default:return""}}function fh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bi:return"Fragment";case Fi:return"Portal";case uh:return"Profiler";case dp:return"StrictMode";case dh:return"Suspense";case hh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Py:return(t.displayName||"Context")+".Consumer";case Oy:return(t._context.displayName||"Context")+".Provider";case hp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fp:return e=t.displayName||null,e!==null?e:fh(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return fh(t(e))}catch{}}return null}function rC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fh(e);case 8:return e===dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ay(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nC(t){var e=Ay(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xl(t){t._valueTracker||(t._valueTracker=nC(t))}function Iy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ay(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ph(t,e){var r=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ng(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Os(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dy(t,e){e=e.checked,e!=null&&up(t,"checked",e,!1)}function mh(t,e){Dy(t,e);var r=Os(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gh(t,e.type,r):e.hasOwnProperty("defaultValue")&&gh(t,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function gh(t,e,r){(e!=="number"||wc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ta=Array.isArray;function Zi(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Os(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ig(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(q(92));if(ta(r)){if(1<r.length)throw Error(q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Os(r)}}function Ly(t,e){var r=Os(e.value),n=Os(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function og(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function My(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?My(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bl,$y=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bl=bl||document.createElement("div"),bl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _a(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sC=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(t){sC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aa[e]=aa[t]})});function Uy(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||aa.hasOwnProperty(t)&&aa[t]?(""+e).trim():e+"px"}function Fy(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Uy(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var iC=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wh(t,e){if(e){if(iC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function xh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=null;function pp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _h=null,eo=null,to=null;function ag(t){if(t=il(t)){if(typeof _h!="function")throw Error(q(280));var e=t.stateNode;e&&(e=du(e),_h(t.stateNode,t.type,e))}}function By(t){eo?to?to.push(t):to=[t]:eo=t}function zy(){if(eo){var t=eo,e=to;if(to=eo=null,ag(t),e)for(t=0;t<e.length;t++)ag(e[t])}}function Wy(t,e){return t(e)}function Hy(){}var rd=!1;function Vy(t,e,r){if(rd)return t(e,r);rd=!0;try{return Wy(t,e,r)}finally{rd=!1,(eo!==null||to!==null)&&(Hy(),zy())}}function Sa(t,e){var r=t.stateNode;if(r===null)return null;var n=du(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(q(231,e,typeof r));return r}var Sh=!1;if(Un)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Sh=!1}function oC(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var la=!1,xc=null,bc=!1,Eh=null,aC={onError:function(t){la=!0,xc=t}};function lC(t,e,r,n,s,i,o,a,l){la=!1,xc=null,oC.apply(aC,arguments)}function cC(t,e,r,n,s,i,o,a,l){if(lC.apply(this,arguments),la){if(la){var u=xc;la=!1,xc=null}else throw Error(q(198));bc||(bc=!0,Eh=u)}}function wi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lg(t){if(wi(t)!==t)throw Error(q(188))}function uC(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(q(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return lg(s),t;if(i===n)return lg(s),e;i=i.sibling}throw Error(q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?t:e}function Ky(t){return t=uC(t),t!==null?Gy(t):null}function Gy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gy(t);if(e!==null)return e;t=t.sibling}return null}var Qy=Sr.unstable_scheduleCallback,cg=Sr.unstable_cancelCallback,dC=Sr.unstable_shouldYield,hC=Sr.unstable_requestPaint,it=Sr.unstable_now,fC=Sr.unstable_getCurrentPriorityLevel,mp=Sr.unstable_ImmediatePriority,Yy=Sr.unstable_UserBlockingPriority,_c=Sr.unstable_NormalPriority,pC=Sr.unstable_LowPriority,Jy=Sr.unstable_IdlePriority,au=null,bn=null;function mC(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(au,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:yC,gC=Math.log,vC=Math.LN2;function yC(t){return t>>>=0,t===0?32:31-(gC(t)/vC|0)|0}var _l=64,Sl=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ra(a):(i&=o,i!==0&&(n=ra(i)))}else o=r&~s,o!==0?n=ra(o):i!==0&&(n=ra(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-nn(e),s=1<<r,n|=t[r],e&=~s;return n}function wC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-nn(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=wC(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ch(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xy(){var t=_l;return _l<<=1,!(_l&4194240)&&(_l=64),t}function nd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=r}function bC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-nn(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function gp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-nn(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Le=0;function Zy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ew,vp,tw,rw,nw,kh=!1,El=[],ws=null,xs=null,bs=null,Ea=new Map,Ca=new Map,ls=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ug(t,e){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(e.pointerId)}}function Ho(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=il(e),e!==null&&vp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SC(t,e,r,n,s){switch(e){case"focusin":return ws=Ho(ws,t,e,r,n,s),!0;case"dragenter":return xs=Ho(xs,t,e,r,n,s),!0;case"mouseover":return bs=Ho(bs,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ea.set(i,Ho(Ea.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ca.set(i,Ho(Ca.get(i)||null,t,e,r,n,s)),!0}return!1}function sw(t){var e=Qs(t.target);if(e!==null){var r=wi(e);if(r!==null){if(e=r.tag,e===13){if(e=qy(r),e!==null){t.blockedOn=e,nw(t.priority,function(){tw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Th(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);bh=n,r.target.dispatchEvent(n),bh=null}else return e=il(r),e!==null&&vp(e),t.blockedOn=r,!1;e.shift()}return!0}function dg(t,e,r){ec(t)&&r.delete(e)}function EC(){kh=!1,ws!==null&&ec(ws)&&(ws=null),xs!==null&&ec(xs)&&(xs=null),bs!==null&&ec(bs)&&(bs=null),Ea.forEach(dg),Ca.forEach(dg)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,kh||(kh=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,EC)))}function ka(t){function e(s){return Vo(s,t)}if(0<El.length){Vo(El[0],t);for(var r=1;r<El.length;r++){var n=El[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ws!==null&&Vo(ws,t),xs!==null&&Vo(xs,t),bs!==null&&Vo(bs,t),Ea.forEach(e),Ca.forEach(e),r=0;r<ls.length;r++)n=ls[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ls.length&&(r=ls[0],r.blockedOn===null);)sw(r),r.blockedOn===null&&ls.shift()}var ro=qn.ReactCurrentBatchConfig,Ec=!0;function CC(t,e,r,n){var s=Le,i=ro.transition;ro.transition=null;try{Le=1,yp(t,e,r,n)}finally{Le=s,ro.transition=i}}function kC(t,e,r,n){var s=Le,i=ro.transition;ro.transition=null;try{Le=4,yp(t,e,r,n)}finally{Le=s,ro.transition=i}}function yp(t,e,r,n){if(Ec){var s=Th(t,e,r,n);if(s===null)fd(t,e,n,Cc,r),ug(t,n);else if(SC(s,t,e,r,n))n.stopPropagation();else if(ug(t,n),e&4&&-1<_C.indexOf(t)){for(;s!==null;){var i=il(s);if(i!==null&&ew(i),i=Th(t,e,r,n),i===null&&fd(t,e,n,Cc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else fd(t,e,n,null,r)}}var Cc=null;function Th(t,e,r,n){if(Cc=null,t=pp(n),t=Qs(t),t!==null)if(e=wi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function iw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fC()){case mp:return 1;case Yy:return 4;case _c:case pC:return 16;case Jy:return 536870912;default:return 16}default:return 16}}var gs=null,wp=null,tc=null;function ow(){if(tc)return tc;var t,e=wp,r=e.length,n,s="value"in gs?gs.value:gs.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return tc=s.slice(t,1<n?1-n:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cl(){return!0}function hg(){return!1}function Cr(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cl:hg,this.isPropagationStopped=hg,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xp=Cr(Ao),sl=Ze({},Ao,{view:0,detail:0}),TC=Cr(sl),sd,id,qo,lu=Ze({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qo&&(qo&&t.type==="mousemove"?(sd=t.screenX-qo.screenX,id=t.screenY-qo.screenY):id=sd=0,qo=t),sd)},movementY:function(t){return"movementY"in t?t.movementY:id}}),fg=Cr(lu),jC=Ze({},lu,{dataTransfer:0}),NC=Cr(jC),OC=Ze({},sl,{relatedTarget:0}),od=Cr(OC),PC=Ze({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),RC=Cr(PC),AC=Ze({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IC=Cr(AC),DC=Ze({},Ao,{data:0}),pg=Cr(DC),LC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$C[t])?!!e[t]:!1}function bp(){return UC}var FC=Ze({},sl,{key:function(t){if(t.key){var e=LC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BC=Cr(FC),zC=Ze({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mg=Cr(zC),WC=Ze({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),HC=Cr(WC),VC=Ze({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),qC=Cr(VC),KC=Ze({},lu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GC=Cr(KC),QC=[9,13,27,32],_p=Un&&"CompositionEvent"in window,ca=null;Un&&"documentMode"in document&&(ca=document.documentMode);var YC=Un&&"TextEvent"in window&&!ca,aw=Un&&(!_p||ca&&8<ca&&11>=ca),gg=" ",vg=!1;function lw(t,e){switch(t){case"keyup":return QC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function JC(t,e){switch(t){case"compositionend":return cw(e);case"keypress":return e.which!==32?null:(vg=!0,gg);case"textInput":return t=e.data,t===gg&&vg?null:t;default:return null}}function XC(t,e){if(zi)return t==="compositionend"||!_p&&lw(t,e)?(t=ow(),tc=wp=gs=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aw&&e.locale!=="ko"?null:e.data;default:return null}}var ZC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZC[t.type]:e==="textarea"}function uw(t,e,r,n){By(n),e=kc(e,"onChange"),0<e.length&&(r=new xp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ua=null,Ta=null;function ek(t){bw(t,0)}function cu(t){var e=Vi(t);if(Iy(e))return t}function tk(t,e){if(t==="change")return e}var dw=!1;if(Un){var ad;if(Un){var ld="oninput"in document;if(!ld){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),ld=typeof wg.oninput=="function"}ad=ld}else ad=!1;dw=ad&&(!document.documentMode||9<document.documentMode)}function xg(){ua&&(ua.detachEvent("onpropertychange",hw),Ta=ua=null)}function hw(t){if(t.propertyName==="value"&&cu(Ta)){var e=[];uw(e,Ta,t,pp(t)),Vy(ek,e)}}function rk(t,e,r){t==="focusin"?(xg(),ua=e,Ta=r,ua.attachEvent("onpropertychange",hw)):t==="focusout"&&xg()}function nk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cu(Ta)}function sk(t,e){if(t==="click")return cu(e)}function ik(t,e){if(t==="input"||t==="change")return cu(e)}function ok(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:ok;function ja(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ch.call(e,s)||!on(t[s],e[s]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,e){var r=bg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bg(r)}}function fw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pw(){for(var t=window,e=wc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wc(t.document)}return e}function Sp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ak(t){var e=pw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&fw(r.ownerDocument.documentElement,r)){if(n!==null&&Sp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=_g(r,i);var o=_g(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lk=Un&&"documentMode"in document&&11>=document.documentMode,Wi=null,jh=null,da=null,Nh=!1;function Sg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||Wi==null||Wi!==wc(n)||(n=Wi,"selectionStart"in n&&Sp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),da&&ja(da,n)||(da=n,n=kc(jh,"onSelect"),0<n.length&&(e=new xp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wi)))}function kl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hi={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},cd={},mw={};Un&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function uu(t){if(cd[t])return cd[t];if(!Hi[t])return t;var e=Hi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in mw)return cd[t]=e[r];return t}var gw=uu("animationend"),vw=uu("animationiteration"),yw=uu("animationstart"),ww=uu("transitionend"),xw=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(t,e){xw.set(t,e),yi(e,[t])}for(var ud=0;ud<Eg.length;ud++){var dd=Eg[ud],ck=dd.toLowerCase(),uk=dd[0].toUpperCase()+dd.slice(1);Is(ck,"on"+uk)}Is(gw,"onAnimationEnd");Is(vw,"onAnimationIteration");Is(yw,"onAnimationStart");Is("dblclick","onDoubleClick");Is("focusin","onFocus");Is("focusout","onBlur");Is(ww,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dk=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Cg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,cC(n,e,void 0,t),t.currentTarget=null}function bw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Cg(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Cg(s,a,u),i=l}}}if(bc)throw t=Eh,bc=!1,Eh=null,t}function Ve(t,e){var r=e[Ih];r===void 0&&(r=e[Ih]=new Set);var n=t+"__bubble";r.has(n)||(_w(e,t,2,!1),r.add(n))}function hd(t,e,r){var n=0;e&&(n|=4),_w(r,t,n,e)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function Na(t){if(!t[Tl]){t[Tl]=!0,Ny.forEach(function(r){r!=="selectionchange"&&(dk.has(r)||hd(r,!1,t),hd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tl]||(e[Tl]=!0,hd("selectionchange",!1,e))}}function _w(t,e,r,n){switch(iw(e)){case 1:var s=CC;break;case 4:s=kC;break;default:s=yp}r=s.bind(null,e,r,t),s=void 0,!Sh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function fd(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Qs(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Vy(function(){var u=i,d=pp(r),p=[];e:{var h=xw.get(t);if(h!==void 0){var m=xp,v=t;switch(t){case"keypress":if(rc(r)===0)break e;case"keydown":case"keyup":m=BC;break;case"focusin":v="focus",m=od;break;case"focusout":v="blur",m=od;break;case"beforeblur":case"afterblur":m=od;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HC;break;case gw:case vw:case yw:m=RC;break;case ww:m=qC;break;case"scroll":m=TC;break;case"wheel":m=GC;break;case"copy":case"cut":case"paste":m=IC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mg}var g=(e&4)!==0,b=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,w!==null&&(_=Sa(y,w),_!=null&&g.push(Oa(y,_,x)))),b)break;y=y.return}0<g.length&&(h=new m(h,v,null,r,d),p.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==bh&&(v=r.relatedTarget||r.fromElement)&&(Qs(v)||v[Fn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Qs(v):null,v!==null&&(b=wi(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=fg,_="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=mg,_="onPointerLeave",w="onPointerEnter",y="pointer"),b=m==null?h:Vi(m),x=v==null?h:Vi(v),h=new g(_,y+"leave",m,r,d),h.target=b,h.relatedTarget=x,_=null,Qs(d)===u&&(g=new g(w,y+"enter",v,r,d),g.target=x,g.relatedTarget=b,_=g),b=_,m&&v)t:{for(g=m,w=v,y=0,x=g;x;x=ki(x))y++;for(x=0,_=w;_;_=ki(_))x++;for(;0<y-x;)g=ki(g),y--;for(;0<x-y;)w=ki(w),x--;for(;y--;){if(g===w||w!==null&&g===w.alternate)break t;g=ki(g),w=ki(w)}g=null}else g=null;m!==null&&kg(p,h,m,g,!1),v!==null&&b!==null&&kg(p,b,v,g,!0)}}e:{if(h=u?Vi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=tk;else if(yg(h))if(dw)S=ik;else{S=nk;var E=rk}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=sk);if(S&&(S=S(t,u))){uw(p,S,r,d);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&gh(h,"number",h.value)}switch(E=u?Vi(u):window,t){case"focusin":(yg(E)||E.contentEditable==="true")&&(Wi=E,jh=u,da=null);break;case"focusout":da=jh=Wi=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Sg(p,r,d);break;case"selectionchange":if(lk)break;case"keydown":case"keyup":Sg(p,r,d)}var C;if(_p)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else zi?lw(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(aw&&r.locale!=="ko"&&(zi||T!=="onCompositionStart"?T==="onCompositionEnd"&&zi&&(C=ow()):(gs=d,wp="value"in gs?gs.value:gs.textContent,zi=!0)),E=kc(u,T),0<E.length&&(T=new pg(T,t,null,r,d),p.push({event:T,listeners:E}),C?T.data=C:(C=cw(r),C!==null&&(T.data=C)))),(C=YC?JC(t,r):XC(t,r))&&(u=kc(u,"onBeforeInput"),0<u.length&&(d=new pg("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:u}),d.data=C))}bw(p,e)})}function Oa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kc(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sa(t,r),i!=null&&n.unshift(Oa(t,i,s)),i=Sa(t,e),i!=null&&n.push(Oa(t,i,s))),t=t.return}return n}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kg(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Sa(r,i),l!=null&&o.unshift(Oa(r,l,a))):s||(l=Sa(r,i),l!=null&&o.push(Oa(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var hk=/\r\n?/g,fk=/\u0000|\uFFFD/g;function Tg(t){return(typeof t=="string"?t:""+t).replace(hk,`
`).replace(fk,"")}function jl(t,e,r){if(e=Tg(e),Tg(t)!==e&&r)throw Error(q(425))}function Tc(){}var Oh=null,Ph=null;function Rh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,mk=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(t){return jg.resolve(null).then(t).catch(gk)}:Ah;function gk(t){setTimeout(function(){throw t})}function pd(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ka(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ka(e)}function _s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ng(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Io=Math.random().toString(36).slice(2),yn="__reactFiber$"+Io,Pa="__reactProps$"+Io,Fn="__reactContainer$"+Io,Ih="__reactEvents$"+Io,vk="__reactListeners$"+Io,yk="__reactHandles$"+Io;function Qs(t){var e=t[yn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fn]||r[yn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ng(t);t!==null;){if(r=t[yn])return r;t=Ng(t)}return e}t=r,r=t.parentNode}return null}function il(t){return t=t[yn]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function du(t){return t[Pa]||null}var Dh=[],qi=-1;function Ds(t){return{current:t}}function qe(t){0>qi||(t.current=Dh[qi],Dh[qi]=null,qi--)}function ze(t,e){qi++,Dh[qi]=t.current,t.current=e}var Ps={},Ht=Ds(Ps),ar=Ds(!1),li=Ps;function xo(t,e){var r=t.type.contextTypes;if(!r)return Ps;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function lr(t){return t=t.childContextTypes,t!=null}function jc(){qe(ar),qe(Ht)}function Og(t,e,r){if(Ht.current!==Ps)throw Error(q(168));ze(Ht,e),ze(ar,r)}function Sw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(q(108,rC(t)||"Unknown",s));return Ze({},r,n)}function Nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ps,li=Ht.current,ze(Ht,t),ze(ar,ar.current),!0}function Pg(t,e,r){var n=t.stateNode;if(!n)throw Error(q(169));r?(t=Sw(t,e,li),n.__reactInternalMemoizedMergedChildContext=t,qe(ar),qe(Ht),ze(Ht,t)):qe(ar),ze(ar,r)}var An=null,hu=!1,md=!1;function Ew(t){An===null?An=[t]:An.push(t)}function wk(t){hu=!0,Ew(t)}function Ls(){if(!md&&An!==null){md=!0;var t=0,e=Le;try{var r=An;for(Le=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}An=null,hu=!1}catch(s){throw An!==null&&(An=An.slice(t+1)),Qy(mp,Ls),s}finally{Le=e,md=!1}}return null}var Ki=[],Gi=0,Oc=null,Pc=0,Ar=[],Ir=0,ci=null,Dn=1,Ln="";function Hs(t,e){Ki[Gi++]=Pc,Ki[Gi++]=Oc,Oc=t,Pc=e}function Cw(t,e,r){Ar[Ir++]=Dn,Ar[Ir++]=Ln,Ar[Ir++]=ci,ci=t;var n=Dn;t=Ln;var s=32-nn(n)-1;n&=~(1<<s),r+=1;var i=32-nn(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Dn=1<<32-nn(e)+s|r<<s|n,Ln=i+t}else Dn=1<<i|r<<s|n,Ln=t}function Ep(t){t.return!==null&&(Hs(t,1),Cw(t,1,0))}function Cp(t){for(;t===Oc;)Oc=Ki[--Gi],Ki[Gi]=null,Pc=Ki[--Gi],Ki[Gi]=null;for(;t===ci;)ci=Ar[--Ir],Ar[Ir]=null,Ln=Ar[--Ir],Ar[Ir]=null,Dn=Ar[--Ir],Ar[Ir]=null}var br=null,xr=null,Qe=!1,en=null;function kw(t,e){var r=Lr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Rg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,br=t,xr=_s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,br=t,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ci!==null?{id:Dn,overflow:Ln}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Lr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,br=t,xr=null,!0):!1;default:return!1}}function Lh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mh(t){if(Qe){var e=xr;if(e){var r=e;if(!Rg(t,e)){if(Lh(t))throw Error(q(418));e=_s(r.nextSibling);var n=br;e&&Rg(t,e)?kw(n,r):(t.flags=t.flags&-4097|2,Qe=!1,br=t)}}else{if(Lh(t))throw Error(q(418));t.flags=t.flags&-4097|2,Qe=!1,br=t}}}function Ag(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function Nl(t){if(t!==br)return!1;if(!Qe)return Ag(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rh(t.type,t.memoizedProps)),e&&(e=xr)){if(Lh(t))throw Tw(),Error(q(418));for(;e;)kw(t,e),e=_s(e.nextSibling)}if(Ag(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xr=_s(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xr=null}}else xr=br?_s(t.stateNode.nextSibling):null;return!0}function Tw(){for(var t=xr;t;)t=_s(t.nextSibling)}function bo(){xr=br=null,Qe=!1}function kp(t){en===null?en=[t]:en.push(t)}var xk=qn.ReactCurrentBatchConfig;function Ko(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,t))}return t}function Ol(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ig(t){var e=t._init;return e(t._payload)}function jw(t){function e(w,y){if(t){var x=w.deletions;x===null?(w.deletions=[y],w.flags|=16):x.push(y)}}function r(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=ks(w,y),w.index=0,w.sibling=null,w}function i(w,y,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<y?(w.flags|=2,y):x):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,x,_){return y===null||y.tag!==6?(y=_d(x,w.mode,_),y.return=w,y):(y=s(y,x),y.return=w,y)}function l(w,y,x,_){var S=x.type;return S===Bi?d(w,y,x.props.children,_,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ss&&Ig(S)===y.type)?(_=s(y,x.props),_.ref=Ko(w,y,x),_.return=w,_):(_=cc(x.type,x.key,x.props,null,w.mode,_),_.ref=Ko(w,y,x),_.return=w,_)}function u(w,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Sd(x,w.mode,_),y.return=w,y):(y=s(y,x.children||[]),y.return=w,y)}function d(w,y,x,_,S){return y===null||y.tag!==7?(y=oi(x,w.mode,_,S),y.return=w,y):(y=s(y,x),y.return=w,y)}function p(w,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=_d(""+y,w.mode,x),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wl:return x=cc(y.type,y.key,y.props,null,w.mode,x),x.ref=Ko(w,null,y),x.return=w,x;case Fi:return y=Sd(y,w.mode,x),y.return=w,y;case ss:var _=y._init;return p(w,_(y._payload),x)}if(ta(y)||zo(y))return y=oi(y,w.mode,x,null),y.return=w,y;Ol(w,y)}return null}function h(w,y,x,_){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(w,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:return x.key===S?l(w,y,x,_):null;case Fi:return x.key===S?u(w,y,x,_):null;case ss:return S=x._init,h(w,y,S(x._payload),_)}if(ta(x)||zo(x))return S!==null?null:d(w,y,x,_,null);Ol(w,x)}return null}function m(w,y,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(x)||null,a(y,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wl:return w=w.get(_.key===null?x:_.key)||null,l(y,w,_,S);case Fi:return w=w.get(_.key===null?x:_.key)||null,u(y,w,_,S);case ss:var E=_._init;return m(w,y,x,E(_._payload),S)}if(ta(_)||zo(_))return w=w.get(x)||null,d(y,w,_,S,null);Ol(y,_)}return null}function v(w,y,x,_){for(var S=null,E=null,C=y,T=y=0,L=null;C!==null&&T<x.length;T++){C.index>T?(L=C,C=null):L=C.sibling;var $=h(w,C,x[T],_);if($===null){C===null&&(C=L);break}t&&C&&$.alternate===null&&e(w,C),y=i($,y,T),E===null?S=$:E.sibling=$,E=$,C=L}if(T===x.length)return r(w,C),Qe&&Hs(w,T),S;if(C===null){for(;T<x.length;T++)C=p(w,x[T],_),C!==null&&(y=i(C,y,T),E===null?S=C:E.sibling=C,E=C);return Qe&&Hs(w,T),S}for(C=n(w,C);T<x.length;T++)L=m(C,w,T,x[T],_),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?T:L.key),y=i(L,y,T),E===null?S=L:E.sibling=L,E=L);return t&&C.forEach(function(Y){return e(w,Y)}),Qe&&Hs(w,T),S}function g(w,y,x,_){var S=zo(x);if(typeof S!="function")throw Error(q(150));if(x=S.call(x),x==null)throw Error(q(151));for(var E=S=null,C=y,T=y=0,L=null,$=x.next();C!==null&&!$.done;T++,$=x.next()){C.index>T?(L=C,C=null):L=C.sibling;var Y=h(w,C,$.value,_);if(Y===null){C===null&&(C=L);break}t&&C&&Y.alternate===null&&e(w,C),y=i(Y,y,T),E===null?S=Y:E.sibling=Y,E=Y,C=L}if($.done)return r(w,C),Qe&&Hs(w,T),S;if(C===null){for(;!$.done;T++,$=x.next())$=p(w,$.value,_),$!==null&&(y=i($,y,T),E===null?S=$:E.sibling=$,E=$);return Qe&&Hs(w,T),S}for(C=n(w,C);!$.done;T++,$=x.next())$=m(C,w,T,$.value,_),$!==null&&(t&&$.alternate!==null&&C.delete($.key===null?T:$.key),y=i($,y,T),E===null?S=$:E.sibling=$,E=$);return t&&C.forEach(function(U){return e(w,U)}),Qe&&Hs(w,T),S}function b(w,y,x,_){if(typeof x=="object"&&x!==null&&x.type===Bi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:e:{for(var S=x.key,E=y;E!==null;){if(E.key===S){if(S=x.type,S===Bi){if(E.tag===7){r(w,E.sibling),y=s(E,x.props.children),y.return=w,w=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ss&&Ig(S)===E.type){r(w,E.sibling),y=s(E,x.props),y.ref=Ko(w,E,x),y.return=w,w=y;break e}r(w,E);break}else e(w,E);E=E.sibling}x.type===Bi?(y=oi(x.props.children,w.mode,_,x.key),y.return=w,w=y):(_=cc(x.type,x.key,x.props,null,w.mode,_),_.ref=Ko(w,y,x),_.return=w,w=_)}return o(w);case Fi:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(w,y.sibling),y=s(y,x.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else e(w,y);y=y.sibling}y=Sd(x,w.mode,_),y.return=w,w=y}return o(w);case ss:return E=x._init,b(w,y,E(x._payload),_)}if(ta(x))return v(w,y,x,_);if(zo(x))return g(w,y,x,_);Ol(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(w,y.sibling),y=s(y,x),y.return=w,w=y):(r(w,y),y=_d(x,w.mode,_),y.return=w,w=y),o(w)):r(w,y)}return b}var _o=jw(!0),Nw=jw(!1),Rc=Ds(null),Ac=null,Qi=null,Tp=null;function jp(){Tp=Qi=Ac=null}function Np(t){var e=Rc.current;qe(Rc),t._currentValue=e}function $h(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function no(t,e){Ac=t,Tp=Qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(or=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(Tp!==t)if(t={context:t,memoizedValue:e,next:null},Qi===null){if(Ac===null)throw Error(q(308));Qi=t,Ac.dependencies={lanes:0,firstContext:t}}else Qi=Qi.next=t;return e}var Ys=null;function Op(t){Ys===null?Ys=[t]:Ys.push(t)}function Ow(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Op(e)):(r.next=s.next,s.next=r),e.interleaved=r,Bn(t,n)}function Bn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var is=!1;function Pp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Bn(t,r)}return s=n.interleaved,s===null?(e.next=e,Op(n)):(e.next=s.next,s.next=e),n.interleaved=e,Bn(t,r)}function nc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gp(t,r)}}function Dg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ic(t,e,r,n){var s=t.updateQueue;is=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(h=e,m=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){p=v.call(m,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,p,h):v,h==null)break e;p=Ze({},p,h);break e;case 2:is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=p):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);di|=o,t.lanes=o,t.memoizedState=p}}function Lg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(q(191,s));s.call(n)}}}var ol={},_n=Ds(ol),Ra=Ds(ol),Aa=Ds(ol);function Js(t){if(t===ol)throw Error(q(174));return t}function Rp(t,e){switch(ze(Aa,e),ze(Ra,t),ze(_n,ol),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yh(e,t)}qe(_n),ze(_n,e)}function So(){qe(_n),qe(Ra),qe(Aa)}function Rw(t){Js(Aa.current);var e=Js(_n.current),r=yh(e,t.type);e!==r&&(ze(Ra,t),ze(_n,r))}function Ap(t){Ra.current===t&&(qe(_n),qe(Ra))}var Je=Ds(0);function Dc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gd=[];function Ip(){for(var t=0;t<gd.length;t++)gd[t]._workInProgressVersionPrimary=null;gd.length=0}var sc=qn.ReactCurrentDispatcher,vd=qn.ReactCurrentBatchConfig,ui=0,Xe=null,pt=null,_t=null,Lc=!1,ha=!1,Ia=0,bk=0;function Ut(){throw Error(q(321))}function Dp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!on(t[r],e[r]))return!1;return!0}function Lp(t,e,r,n,s,i){if(ui=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sc.current=t===null||t.memoizedState===null?Ck:kk,t=r(n,s),ha){i=0;do{if(ha=!1,Ia=0,25<=i)throw Error(q(301));i+=1,_t=pt=null,e.updateQueue=null,sc.current=Tk,t=r(n,s)}while(ha)}if(sc.current=Mc,e=pt!==null&&pt.next!==null,ui=0,_t=pt=Xe=null,Lc=!1,e)throw Error(q(300));return t}function Mp(){var t=Ia!==0;return Ia=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=t:_t=_t.next=t,_t}function Ur(){if(pt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=_t===null?Xe.memoizedState:_t.next;if(e!==null)_t=e,pt=t;else{if(t===null)throw Error(q(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},_t===null?Xe.memoizedState=_t=t:_t=_t.next=t}return _t}function Da(t,e){return typeof e=="function"?e(t):e}function yd(t){var e=Ur(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=pt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((ui&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=n):l=l.next=p,Xe.lanes|=d,di|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,on(n,e.memoizedState)||(or=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Xe.lanes|=i,di|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wd(t){var e=Ur(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);on(i,e.memoizedState)||(or=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Aw(){}function Iw(t,e){var r=Xe,n=Ur(),s=e(),i=!on(n.memoizedState,s);if(i&&(n.memoizedState=s,or=!0),n=n.queue,$p(Mw.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,La(9,Lw.bind(null,r,n,s,e),void 0,null),Ct===null)throw Error(q(349));ui&30||Dw(r,e,s)}return s}function Dw(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Lw(t,e,r,n){e.value=r,e.getSnapshot=n,$w(e)&&Uw(t)}function Mw(t,e,r){return r(function(){$w(e)&&Uw(t)})}function $w(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!on(t,r)}catch{return!0}}function Uw(t){var e=Bn(t,1);e!==null&&sn(e,t,1,-1)}function Mg(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},e.queue=t,t=t.dispatch=Ek.bind(null,Xe,t),[e.memoizedState,t]}function La(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Fw(){return Ur().memoizedState}function ic(t,e,r,n){var s=fn();Xe.flags|=t,s.memoizedState=La(1|e,r,void 0,n===void 0?null:n)}function fu(t,e,r,n){var s=Ur();n=n===void 0?null:n;var i=void 0;if(pt!==null){var o=pt.memoizedState;if(i=o.destroy,n!==null&&Dp(n,o.deps)){s.memoizedState=La(e,r,i,n);return}}Xe.flags|=t,s.memoizedState=La(1|e,r,i,n)}function $g(t,e){return ic(8390656,8,t,e)}function $p(t,e){return fu(2048,8,t,e)}function Bw(t,e){return fu(4,2,t,e)}function zw(t,e){return fu(4,4,t,e)}function Ww(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hw(t,e,r){return r=r!=null?r.concat([t]):null,fu(4,4,Ww.bind(null,e,t),r)}function Up(){}function Vw(t,e){var r=Ur();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dp(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function qw(t,e){var r=Ur();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dp(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Kw(t,e,r){return ui&21?(on(r,e)||(r=Xy(),Xe.lanes|=r,di|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=r)}function _k(t,e){var r=Le;Le=r!==0&&4>r?r:4,t(!0);var n=vd.transition;vd.transition={};try{t(!1),e()}finally{Le=r,vd.transition=n}}function Gw(){return Ur().memoizedState}function Sk(t,e,r){var n=Cs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qw(t))Yw(e,r);else if(r=Ow(t,e,r,n),r!==null){var s=Xt();sn(r,t,n,s),Jw(r,e,n)}}function Ek(t,e,r){var n=Cs(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qw(t))Yw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,on(a,o)){var l=e.interleaved;l===null?(s.next=s,Op(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ow(t,e,s,n),r!==null&&(s=Xt(),sn(r,t,n,s),Jw(r,e,n))}}function Qw(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function Yw(t,e){ha=Lc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Jw(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gp(t,r)}}var Mc={readContext:$r,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},Ck={readContext:$r,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:$g,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ic(4194308,4,Ww.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return ic(4,2,t,e)},useMemo:function(t,e){var r=fn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=fn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Sk.bind(null,Xe,t),[n.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:Mg,useDebugValue:Up,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=Mg(!1),e=t[0];return t=_k.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Xe,s=fn();if(Qe){if(r===void 0)throw Error(q(407));r=r()}else{if(r=e(),Ct===null)throw Error(q(349));ui&30||Dw(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,$g(Mw.bind(null,n,i,t),[t]),n.flags|=2048,La(9,Lw.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=fn(),e=Ct.identifierPrefix;if(Qe){var r=Ln,n=Dn;r=(n&~(1<<32-nn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ia++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=bk++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kk={readContext:$r,useCallback:Vw,useContext:$r,useEffect:$p,useImperativeHandle:Hw,useInsertionEffect:Bw,useLayoutEffect:zw,useMemo:qw,useReducer:yd,useRef:Fw,useState:function(){return yd(Da)},useDebugValue:Up,useDeferredValue:function(t){var e=Ur();return Kw(e,pt.memoizedState,t)},useTransition:function(){var t=yd(Da)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Gw,unstable_isNewReconciler:!1},Tk={readContext:$r,useCallback:Vw,useContext:$r,useEffect:$p,useImperativeHandle:Hw,useInsertionEffect:Bw,useLayoutEffect:zw,useMemo:qw,useReducer:wd,useRef:Fw,useState:function(){return wd(Da)},useDebugValue:Up,useDeferredValue:function(t){var e=Ur();return pt===null?e.memoizedState=t:Kw(e,pt.memoizedState,t)},useTransition:function(){var t=wd(Da)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Gw,unstable_isNewReconciler:!1};function Kr(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Uh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ze({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var pu={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Xt(),s=Cs(t),i=Mn(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ss(t,i,s),e!==null&&(sn(e,t,s,n),nc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Xt(),s=Cs(t),i=Mn(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ss(t,i,s),e!==null&&(sn(e,t,s,n),nc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Xt(),n=Cs(t),s=Mn(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ss(t,s,n),e!==null&&(sn(e,t,n,r),nc(e,t,n))}};function Ug(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ja(r,n)||!ja(s,i):!0}function Xw(t,e,r){var n=!1,s=Ps,i=e.contextType;return typeof i=="object"&&i!==null?i=$r(i):(s=lr(e)?li:Ht.current,n=e.contextTypes,i=(n=n!=null)?xo(t,s):Ps),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Fg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&pu.enqueueReplaceState(e,e.state,null)}function Fh(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Pp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$r(i):(i=lr(e)?li:Ht.current,s.context=xo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Uh(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&pu.enqueueReplaceState(s,s.state,null),Ic(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var r="",n=e;do r+=tC(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Bh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jk=typeof WeakMap=="function"?WeakMap:Map;function Zw(t,e,r){r=Mn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uc||(Uc=!0,Jh=n),Bh(t,e)},r}function ex(t,e,r){r=Mn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Bh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Bh(t,e),typeof n!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Bg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jk;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=zk.bind(null,t,e,r),e.then(t,t))}function zg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wg(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Mn(-1,1),e.tag=2,Ss(r,e,1))),r.lanes|=1),t)}var Nk=qn.ReactCurrentOwner,or=!1;function Yt(t,e,r,n){e.child=t===null?Nw(e,null,r,n):_o(e,t.child,r,n)}function Hg(t,e,r,n,s){r=r.render;var i=e.ref;return no(e,s),n=Lp(t,e,r,n,i,s),r=Mp(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zn(t,e,s)):(Qe&&r&&Ep(e),e.flags|=1,Yt(t,e,n,s),e.child)}function Vg(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Kp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,tx(t,e,i,n,s)):(t=cc(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ja,r(o,n)&&t.ref===e.ref)return zn(t,e,s)}return e.flags|=1,t=ks(i,n),t.ref=e.ref,t.return=e,e.child=t}function tx(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ja(i,n)&&t.ref===e.ref)if(or=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(or=!0);else return e.lanes=t.lanes,zn(t,e,s)}return zh(t,e,r,n,s)}function rx(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ji,mr),mr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Ji,mr),mr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ze(Ji,mr),mr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ze(Ji,mr),mr|=n;return Yt(t,e,s,r),e.child}function nx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function zh(t,e,r,n,s){var i=lr(r)?li:Ht.current;return i=xo(e,i),no(e,s),r=Lp(t,e,r,n,i,s),n=Mp(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zn(t,e,s)):(Qe&&n&&Ep(e),e.flags|=1,Yt(t,e,r,s),e.child)}function qg(t,e,r,n,s){if(lr(r)){var i=!0;Nc(e)}else i=!1;if(no(e,s),e.stateNode===null)oc(t,e),Xw(e,r,n),Fh(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=$r(u):(u=lr(r)?li:Ht.current,u=xo(e,u));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Fg(e,o,n,u),is=!1;var h=e.memoizedState;o.state=h,Ic(e,n,o,s),l=e.memoizedState,a!==n||h!==l||ar.current||is?(typeof d=="function"&&(Uh(e,r,d,n),l=e.memoizedState),(a=is||Ug(e,r,a,n,h,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Pw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Kr(e.type,a),o.props=u,p=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=$r(l):(l=lr(r)?li:Ht.current,l=xo(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==l)&&Fg(e,o,n,l),is=!1,h=e.memoizedState,o.state=h,Ic(e,n,o,s);var v=e.memoizedState;a!==p||h!==v||ar.current||is?(typeof m=="function"&&(Uh(e,r,m,n),v=e.memoizedState),(u=is||Ug(e,r,u,n,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Wh(t,e,r,n,i,s)}function Wh(t,e,r,n,s,i){nx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Pg(e,r,!1),zn(t,e,i);n=e.stateNode,Nk.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=_o(e,t.child,null,i),e.child=_o(e,null,a,i)):Yt(t,e,a,i),e.memoizedState=n.state,s&&Pg(e,r,!0),e.child}function sx(t){var e=t.stateNode;e.pendingContext?Og(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Og(t,e.context,!1),Rp(t,e.containerInfo)}function Kg(t,e,r,n,s){return bo(),kp(s),e.flags|=256,Yt(t,e,r,n),e.child}var Hh={dehydrated:null,treeContext:null,retryLane:0};function Vh(t){return{baseLanes:t,cachePool:null,transitions:null}}function ix(t,e,r){var n=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ze(Je,s&1),t===null)return Mh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vu(o,n,0,null),t=oi(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vh(r),e.memoizedState=Hh,t):Fp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ok(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ks(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ks(a,i):(i=oi(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Vh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Hh,n}return i=t.child,t=i.sibling,n=ks(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Fp(t,e){return e=vu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pl(t,e,r,n){return n!==null&&kp(n),_o(e,t.child,null,r),t=Fp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ok(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=xd(Error(q(422))),Pl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=vu({mode:"visible",children:n.children},s,0,null),i=oi(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&_o(e,t.child,null,o),e.child.memoizedState=Vh(o),e.memoizedState=Hh,i);if(!(e.mode&1))return Pl(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(q(419)),n=xd(i,n,void 0),Pl(t,e,o,n)}if(a=(o&t.childLanes)!==0,or||a){if(n=Ct,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bn(t,s),sn(n,t,s,-1))}return qp(),n=xd(Error(q(421))),Pl(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Wk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,xr=_s(s.nextSibling),br=e,Qe=!0,en=null,t!==null&&(Ar[Ir++]=Dn,Ar[Ir++]=Ln,Ar[Ir++]=ci,Dn=t.id,Ln=t.overflow,ci=e),e=Fp(e,n.children),e.flags|=4096,e)}function Gg(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$h(t.return,e,r)}function bd(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ox(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Yt(t,e,n.children,r),n=Je.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,r,e);else if(t.tag===19)Gg(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ze(Je,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Dc(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),bd(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Dc(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}bd(e,!0,r,null,i);break;case"together":bd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),di|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,r=ks(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ks(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Pk(t,e,r){switch(e.tag){case 3:sx(e),bo();break;case 5:Rw(e);break;case 1:lr(e.type)&&Nc(e);break;case 4:Rp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ze(Rc,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ze(Je,Je.current&1),e.flags|=128,null):r&e.child.childLanes?ix(t,e,r):(ze(Je,Je.current&1),t=zn(t,e,r),t!==null?t.sibling:null);ze(Je,Je.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ox(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Je,Je.current),n)break;return null;case 22:case 23:return e.lanes=0,rx(t,e,r)}return zn(t,e,r)}var ax,qh,lx,cx;ax=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qh=function(){};lx=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Js(_n.current);var i=null;switch(r){case"input":s=ph(t,s),n=ph(t,n),i=[];break;case"select":s=Ze({},s,{value:void 0}),n=Ze({},n,{value:void 0}),i=[];break;case"textarea":s=vh(t,s),n=vh(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Tc)}wh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ba.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ba.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};cx=function(t,e,r,n){r!==n&&(e.flags|=4)};function Go(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Rk(t,e,r){var n=e.pendingProps;switch(Cp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return lr(e.type)&&jc(),Ft(e),null;case 3:return n=e.stateNode,So(),qe(ar),qe(Ht),Ip(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&(ef(en),en=null))),qh(t,e),Ft(e),null;case 5:Ap(e);var s=Js(Aa.current);if(r=e.type,t!==null&&e.stateNode!=null)lx(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(q(166));return Ft(e),null}if(t=Js(_n.current),Nl(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[yn]=e,n[Pa]=i,t=(e.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(s=0;s<na.length;s++)Ve(na[s],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":ng(n,i),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",n);break;case"textarea":ig(n,i),Ve("invalid",n)}wh(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&jl(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jl(n.textContent,a,t),s=["children",""+a]):ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",n)}switch(r){case"input":xl(n),sg(n,i,!0);break;case"textarea":xl(n),og(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Tc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=My(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[yn]=e,t[Pa]=n,ax(t,e,!1,!1),e.stateNode=t;e:{switch(o=xh(r,n),r){case"dialog":Ve("cancel",t),Ve("close",t),s=n;break;case"iframe":case"object":case"embed":Ve("load",t),s=n;break;case"video":case"audio":for(s=0;s<na.length;s++)Ve(na[s],t);s=n;break;case"source":Ve("error",t),s=n;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=n;break;case"details":Ve("toggle",t),s=n;break;case"input":ng(t,n),s=ph(t,n),Ve("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ze({},n,{value:void 0}),Ve("invalid",t);break;case"textarea":ig(t,n),s=vh(t,n),Ve("invalid",t);break;default:s=n}wh(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Fy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$y(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_a(t,l):typeof l=="number"&&_a(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ba.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ve("scroll",t):l!=null&&up(t,i,l,o))}switch(r){case"input":xl(t),sg(t,n,!1);break;case"textarea":xl(t),og(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Os(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Zi(t,!!n.multiple,i,!1):n.defaultValue!=null&&Zi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Tc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)cx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(q(166));if(r=Js(Aa.current),Js(_n.current),Nl(e)){if(n=e.stateNode,r=e.memoizedProps,n[yn]=e,(i=n.nodeValue!==r)&&(t=br,t!==null))switch(t.tag){case 3:jl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jl(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yn]=e,e.stateNode=n}return Ft(e),null;case 13:if(qe(Je),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&xr!==null&&e.mode&1&&!(e.flags&128))Tw(),bo(),e.flags|=98560,i=!1;else if(i=Nl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[yn]=e}else bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),i=!1}else en!==null&&(ef(en),en=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?mt===0&&(mt=3):qp())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return So(),qh(t,e),t===null&&Na(e.stateNode.containerInfo),Ft(e),null;case 10:return Np(e.type._context),Ft(e),null;case 17:return lr(e.type)&&jc(),Ft(e),null;case 19:if(qe(Je),i=e.memoizedState,i===null)return Ft(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Go(i,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dc(t),o!==null){for(e.flags|=128,Go(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ze(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&it()>Co&&(e.flags|=128,n=!0,Go(i,!1),e.lanes=4194304)}else{if(!n)if(t=Dc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Ft(e),null}else 2*it()-i.renderingStartTime>Co&&r!==1073741824&&(e.flags|=128,n=!0,Go(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=it(),e.sibling=null,r=Je.current,ze(Je,n?r&1|2:r&1),e):(Ft(e),null);case 22:case 23:return Vp(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?mr&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Ak(t,e){switch(Cp(e),e.tag){case 1:return lr(e.type)&&jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),qe(ar),qe(Ht),Ip(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ap(e),null;case 13:if(qe(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Je),null;case 4:return So(),null;case 10:return Np(e.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var Rl=!1,Wt=!1,Ik=typeof WeakSet=="function"?WeakSet:Set,te=null;function Yi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(t,e,n)}else r.current=null}function Kh(t,e,r){try{r()}catch(n){nt(t,e,n)}}var Qg=!1;function Dk(t,e){if(Oh=Ec,t=pw(),Sp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,h=null;t:for(;;){for(var m;p!==r||s!==0&&p.nodeType!==3||(a=o+s),p!==i||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++d===n&&(l=o),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ph={focusedElem:t,selectionRange:r},Ec=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Kr(e.type,g),b);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(_){nt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return v=Qg,Qg=!1,v}function fa(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kh(e,r,i)}s=s.next}while(s!==n)}}function mu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Gh(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ux(t){var e=t.alternate;e!==null&&(t.alternate=null,ux(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yn],delete e[Pa],delete e[Ih],delete e[vk],delete e[yk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dx(t){return t.tag===5||t.tag===3||t.tag===4}function Yg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Tc));else if(n!==4&&(t=t.child,t!==null))for(Qh(t,e,r),t=t.sibling;t!==null;)Qh(t,e,r),t=t.sibling}function Yh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Yh(t,e,r),t=t.sibling;t!==null;)Yh(t,e,r),t=t.sibling}var Pt=null,Xr=!1;function Jn(t,e,r){for(r=r.child;r!==null;)hx(t,e,r),r=r.sibling}function hx(t,e,r){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(au,r)}catch{}switch(r.tag){case 5:Wt||Yi(r,e);case 6:var n=Pt,s=Xr;Pt=null,Jn(t,e,r),Pt=n,Xr=s,Pt!==null&&(Xr?(t=Pt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Pt.removeChild(r.stateNode));break;case 18:Pt!==null&&(Xr?(t=Pt,r=r.stateNode,t.nodeType===8?pd(t.parentNode,r):t.nodeType===1&&pd(t,r),ka(t)):pd(Pt,r.stateNode));break;case 4:n=Pt,s=Xr,Pt=r.stateNode.containerInfo,Xr=!0,Jn(t,e,r),Pt=n,Xr=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kh(r,e,o),s=s.next}while(s!==n)}Jn(t,e,r);break;case 1:if(!Wt&&(Yi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){nt(r,e,a)}Jn(t,e,r);break;case 21:Jn(t,e,r);break;case 22:r.mode&1?(Wt=(n=Wt)||r.memoizedState!==null,Jn(t,e,r),Wt=n):Jn(t,e,r);break;default:Jn(t,e,r)}}function Jg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ik),e.forEach(function(n){var s=Hk.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Wr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Xr=!1;break e;case 3:Pt=a.stateNode.containerInfo,Xr=!0;break e;case 4:Pt=a.stateNode.containerInfo,Xr=!0;break e}a=a.return}if(Pt===null)throw Error(q(160));hx(i,o,s),Pt=null,Xr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){nt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fx(e,t),e=e.sibling}function fx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wr(e,t),hn(t),n&4){try{fa(3,t,t.return),mu(3,t)}catch(g){nt(t,t.return,g)}try{fa(5,t,t.return)}catch(g){nt(t,t.return,g)}}break;case 1:Wr(e,t),hn(t),n&512&&r!==null&&Yi(r,r.return);break;case 5:if(Wr(e,t),hn(t),n&512&&r!==null&&Yi(r,r.return),t.flags&32){var s=t.stateNode;try{_a(s,"")}catch(g){nt(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Dy(s,i),xh(a,o);var u=xh(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?Fy(s,p):d==="dangerouslySetInnerHTML"?$y(s,p):d==="children"?_a(s,p):up(s,d,p,u)}switch(a){case"input":mh(s,i);break;case"textarea":Ly(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Zi(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Zi(s,!!i.multiple,i.defaultValue,!0):Zi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pa]=i}catch(g){nt(t,t.return,g)}}break;case 6:if(Wr(e,t),hn(t),n&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){nt(t,t.return,g)}}break;case 3:if(Wr(e,t),hn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ka(e.containerInfo)}catch(g){nt(t,t.return,g)}break;case 4:Wr(e,t),hn(t);break;case 13:Wr(e,t),hn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wp=it())),n&4&&Jg(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||d,Wr(e,t),Wt=u):Wr(e,t),hn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(p=te=d;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:fa(4,h,h.return);break;case 1:Yi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){nt(n,r,g)}}break;case 5:Yi(h,h.return);break;case 22:if(h.memoizedState!==null){Zg(p);continue}}m!==null?(m.return=h,te=m):Zg(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uy("display",o))}catch(g){nt(t,t.return,g)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){nt(t,t.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Wr(e,t),hn(t),n&4&&Jg(t);break;case 21:break;default:Wr(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(dx(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_a(s,""),n.flags&=-33);var i=Yg(t);Yh(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Yg(t);Qh(t,a,o);break;default:throw Error(q(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lk(t,e,r){te=t,px(t)}function px(t,e,r){for(var n=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Rl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Rl;var u=Wt;if(Rl=o,(Wt=l)&&!u)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?ev(s):l!==null?(l.return=o,te=l):ev(s);for(;i!==null;)te=i,px(i),i=i.sibling;te=s,Rl=a,Wt=u}Xg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):Xg(t)}}function Xg(t){for(;te!==null;){var e=te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||mu(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Wt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Kr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lg(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Lg(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ka(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Wt||e.flags&512&&Gh(e)}catch(h){nt(e,e.return,h)}}if(e===t){te=null;break}if(r=e.sibling,r!==null){r.return=e.return,te=r;break}te=e.return}}function Zg(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,te=r;break}te=e.return}}function ev(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{mu(4,e)}catch(l){nt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){nt(e,s,l)}}var i=e.return;try{Gh(e)}catch(l){nt(e,i,l)}break;case 5:var o=e.return;try{Gh(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var Mk=Math.ceil,$c=qn.ReactCurrentDispatcher,Bp=qn.ReactCurrentOwner,Mr=qn.ReactCurrentBatchConfig,Ne=0,Ct=null,lt=null,At=0,mr=0,Ji=Ds(0),mt=0,Ma=null,di=0,gu=0,zp=0,pa=null,sr=null,Wp=0,Co=1/0,Pn=null,Uc=!1,Jh=null,Es=null,Al=!1,vs=null,Fc=0,ma=0,Xh=null,ac=-1,lc=0;function Xt(){return Ne&6?it():ac!==-1?ac:ac=it()}function Cs(t){return t.mode&1?Ne&2&&At!==0?At&-At:xk.transition!==null?(lc===0&&(lc=Xy()),lc):(t=Le,t!==0||(t=window.event,t=t===void 0?16:iw(t.type)),t):1}function sn(t,e,r,n){if(50<ma)throw ma=0,Xh=null,Error(q(185));nl(t,r,n),(!(Ne&2)||t!==Ct)&&(t===Ct&&(!(Ne&2)&&(gu|=r),mt===4&&cs(t,At)),cr(t,n),r===1&&Ne===0&&!(e.mode&1)&&(Co=it()+500,hu&&Ls()))}function cr(t,e){var r=t.callbackNode;xC(t,e);var n=Sc(t,t===Ct?At:0);if(n===0)r!==null&&cg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&cg(r),e===1)t.tag===0?wk(tv.bind(null,t)):Ew(tv.bind(null,t)),mk(function(){!(Ne&6)&&Ls()}),r=null;else{switch(Zy(n)){case 1:r=mp;break;case 4:r=Yy;break;case 16:r=_c;break;case 536870912:r=Jy;break;default:r=_c}r=_x(r,mx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function mx(t,e){if(ac=-1,lc=0,Ne&6)throw Error(q(327));var r=t.callbackNode;if(so()&&t.callbackNode!==r)return null;var n=Sc(t,t===Ct?At:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bc(t,n);else{e=n;var s=Ne;Ne|=2;var i=vx();(Ct!==t||At!==e)&&(Pn=null,Co=it()+500,ii(t,e));do try{Fk();break}catch(a){gx(t,a)}while(!0);jp(),$c.current=i,Ne=s,lt!==null?e=0:(Ct=null,At=0,e=mt)}if(e!==0){if(e===2&&(s=Ch(t),s!==0&&(n=s,e=Zh(t,s))),e===1)throw r=Ma,ii(t,0),cs(t,n),cr(t,it()),r;if(e===6)cs(t,n);else{if(s=t.current.alternate,!(n&30)&&!$k(s)&&(e=Bc(t,n),e===2&&(i=Ch(t),i!==0&&(n=i,e=Zh(t,i))),e===1))throw r=Ma,ii(t,0),cs(t,n),cr(t,it()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(q(345));case 2:Vs(t,sr,Pn);break;case 3:if(cs(t,n),(n&130023424)===n&&(e=Wp+500-it(),10<e)){if(Sc(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ah(Vs.bind(null,t,sr,Pn),e);break}Vs(t,sr,Pn);break;case 4:if(cs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-nn(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mk(n/1960))-n,10<n){t.timeoutHandle=Ah(Vs.bind(null,t,sr,Pn),n);break}Vs(t,sr,Pn);break;case 5:Vs(t,sr,Pn);break;default:throw Error(q(329))}}}return cr(t,it()),t.callbackNode===r?mx.bind(null,t):null}function Zh(t,e){var r=pa;return t.current.memoizedState.isDehydrated&&(ii(t,e).flags|=256),t=Bc(t,e),t!==2&&(e=sr,sr=r,e!==null&&ef(e)),t}function ef(t){sr===null?sr=t:sr.push.apply(sr,t)}function $k(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!on(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(t,e){for(e&=~zp,e&=~gu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-nn(e),n=1<<r;t[r]=-1,e&=~n}}function tv(t){if(Ne&6)throw Error(q(327));so();var e=Sc(t,0);if(!(e&1))return cr(t,it()),null;var r=Bc(t,e);if(t.tag!==0&&r===2){var n=Ch(t);n!==0&&(e=n,r=Zh(t,n))}if(r===1)throw r=Ma,ii(t,0),cs(t,e),cr(t,it()),r;if(r===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vs(t,sr,Pn),cr(t,it()),null}function Hp(t,e){var r=Ne;Ne|=1;try{return t(e)}finally{Ne=r,Ne===0&&(Co=it()+500,hu&&Ls())}}function hi(t){vs!==null&&vs.tag===0&&!(Ne&6)&&so();var e=Ne;Ne|=1;var r=Mr.transition,n=Le;try{if(Mr.transition=null,Le=1,t)return t()}finally{Le=n,Mr.transition=r,Ne=e,!(Ne&6)&&Ls()}}function Vp(){mr=Ji.current,qe(Ji)}function ii(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,pk(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(Cp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jc();break;case 3:So(),qe(ar),qe(Ht),Ip();break;case 5:Ap(n);break;case 4:So();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:Np(n.type._context);break;case 22:case 23:Vp()}r=r.return}if(Ct=t,lt=t=ks(t.current,null),At=mr=e,mt=0,Ma=null,zp=gu=di=0,sr=pa=null,Ys!==null){for(e=0;e<Ys.length;e++)if(r=Ys[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ys=null}return t}function gx(t,e){do{var r=lt;try{if(jp(),sc.current=Mc,Lc){for(var n=Xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lc=!1}if(ui=0,_t=pt=Xe=null,ha=!1,Ia=0,Bp.current=null,r===null||r.return===null){mt=1,Ma=e,lt=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=zg(o);if(m!==null){m.flags&=-257,Wg(m,o,a,i,e),m.mode&1&&Bg(i,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){Bg(i,u,e),qp();break e}l=Error(q(426))}}else if(Qe&&a.mode&1){var b=zg(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Wg(b,o,a,i,e),kp(Eo(l,a));break e}}i=l=Eo(l,a),mt!==4&&(mt=2),pa===null?pa=[i]:pa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Zw(i,l,e);Dg(i,w);break e;case 1:a=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Es===null||!Es.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=ex(i,a,e);Dg(i,_);break e}}i=i.return}while(i!==null)}wx(r)}catch(S){e=S,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function vx(){var t=$c.current;return $c.current=Mc,t===null?Mc:t}function qp(){(mt===0||mt===3||mt===2)&&(mt=4),Ct===null||!(di&268435455)&&!(gu&268435455)||cs(Ct,At)}function Bc(t,e){var r=Ne;Ne|=2;var n=vx();(Ct!==t||At!==e)&&(Pn=null,ii(t,e));do try{Uk();break}catch(s){gx(t,s)}while(!0);if(jp(),Ne=r,$c.current=n,lt!==null)throw Error(q(261));return Ct=null,At=0,mt}function Uk(){for(;lt!==null;)yx(lt)}function Fk(){for(;lt!==null&&!dC();)yx(lt)}function yx(t){var e=bx(t.alternate,t,mr);t.memoizedProps=t.pendingProps,e===null?wx(t):lt=e,Bp.current=null}function wx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ak(r,e),r!==null){r.flags&=32767,lt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,lt=null;return}}else if(r=Rk(r,e,mr),r!==null){lt=r;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);mt===0&&(mt=5)}function Vs(t,e,r){var n=Le,s=Mr.transition;try{Mr.transition=null,Le=1,Bk(t,e,r,n)}finally{Mr.transition=s,Le=n}return null}function Bk(t,e,r,n){do so();while(vs!==null);if(Ne&6)throw Error(q(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(bC(t,i),t===Ct&&(lt=Ct=null,At=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Al||(Al=!0,_x(_c,function(){return so(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Mr.transition,Mr.transition=null;var o=Le;Le=1;var a=Ne;Ne|=4,Bp.current=null,Dk(t,r),fx(r,t),ak(Ph),Ec=!!Oh,Ph=Oh=null,t.current=r,Lk(r),hC(),Ne=a,Le=o,Mr.transition=i}else t.current=r;if(Al&&(Al=!1,vs=t,Fc=s),i=t.pendingLanes,i===0&&(Es=null),mC(r.stateNode),cr(t,it()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Uc)throw Uc=!1,t=Jh,Jh=null,t;return Fc&1&&t.tag!==0&&so(),i=t.pendingLanes,i&1?t===Xh?ma++:(ma=0,Xh=t):ma=0,Ls(),null}function so(){if(vs!==null){var t=Zy(Fc),e=Mr.transition,r=Le;try{if(Mr.transition=null,Le=16>t?16:t,vs===null)var n=!1;else{if(t=vs,vs=null,Fc=0,Ne&6)throw Error(q(331));var s=Ne;for(Ne|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:fa(8,d,i)}var p=d.child;if(p!==null)p.return=d,te=p;else for(;te!==null;){d=te;var h=d.sibling,m=d.return;if(ux(d),d===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fa(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,te=w;break e}te=i.return}}var y=t.current;for(te=y;te!==null;){o=te;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,te=x;else e:for(o=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mu(9,a)}}catch(S){nt(a,a.return,S)}if(a===o){te=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,te=_;break e}te=a.return}}if(Ne=s,Ls(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(au,t)}catch{}n=!0}return n}finally{Le=r,Mr.transition=e}}return!1}function rv(t,e,r){e=Eo(r,e),e=Zw(t,e,1),t=Ss(t,e,1),e=Xt(),t!==null&&(nl(t,1,e),cr(t,e))}function nt(t,e,r){if(t.tag===3)rv(t,t,r);else for(;e!==null;){if(e.tag===3){rv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Es===null||!Es.has(n))){t=Eo(r,t),t=ex(e,t,1),e=Ss(e,t,1),t=Xt(),e!==null&&(nl(e,1,t),cr(e,t));break}}e=e.return}}function zk(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&r,Ct===t&&(At&r)===r&&(mt===4||mt===3&&(At&130023424)===At&&500>it()-Wp?ii(t,0):zp|=r),cr(t,e)}function xx(t,e){e===0&&(t.mode&1?(e=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):e=1);var r=Xt();t=Bn(t,e),t!==null&&(nl(t,e,r),cr(t,r))}function Wk(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),xx(t,r)}function Hk(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(e),xx(t,r)}var bx;bx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ar.current)or=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return or=!1,Pk(t,e,r);or=!!(t.flags&131072)}else or=!1,Qe&&e.flags&1048576&&Cw(e,Pc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;oc(t,e),t=e.pendingProps;var s=xo(e,Ht.current);no(e,r),s=Lp(null,e,n,t,s,r);var i=Mp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lr(n)?(i=!0,Nc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pp(e),s.updater=pu,e.stateNode=s,s._reactInternals=e,Fh(e,n,t,r),e=Wh(null,e,n,!0,i,r)):(e.tag=0,Qe&&i&&Ep(e),Yt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(oc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=qk(n),t=Kr(n,t),s){case 0:e=zh(null,e,n,t,r);break e;case 1:e=qg(null,e,n,t,r);break e;case 11:e=Hg(null,e,n,t,r);break e;case 14:e=Vg(null,e,n,Kr(n.type,t),r);break e}throw Error(q(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Kr(n,s),zh(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Kr(n,s),qg(t,e,n,s,r);case 3:e:{if(sx(e),t===null)throw Error(q(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Pw(t,e),Ic(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Eo(Error(q(423)),e),e=Kg(t,e,n,r,s);break e}else if(n!==s){s=Eo(Error(q(424)),e),e=Kg(t,e,n,r,s);break e}else for(xr=_s(e.stateNode.containerInfo.firstChild),br=e,Qe=!0,en=null,r=Nw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bo(),n===s){e=zn(t,e,r);break e}Yt(t,e,n,r)}e=e.child}return e;case 5:return Rw(e),t===null&&Mh(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Rh(n,s)?o=null:i!==null&&Rh(n,i)&&(e.flags|=32),nx(t,e),Yt(t,e,o,r),e.child;case 6:return t===null&&Mh(e),null;case 13:return ix(t,e,r);case 4:return Rp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=_o(e,null,n,r):Yt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Kr(n,s),Hg(t,e,n,s,r);case 7:return Yt(t,e,e.pendingProps,r),e.child;case 8:return Yt(t,e,e.pendingProps.children,r),e.child;case 12:return Yt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ze(Rc,n._currentValue),n._currentValue=o,i!==null)if(on(i.value,o)){if(i.children===s.children&&!ar.current){e=zn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Mn(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),$h(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),$h(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,no(e,r),s=$r(s),n=n(s),e.flags|=1,Yt(t,e,n,r),e.child;case 14:return n=e.type,s=Kr(n,e.pendingProps),s=Kr(n.type,s),Vg(t,e,n,s,r);case 15:return tx(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Kr(n,s),oc(t,e),e.tag=1,lr(n)?(t=!0,Nc(e)):t=!1,no(e,r),Xw(e,n,s),Fh(e,n,s,r),Wh(null,e,n,!0,t,r);case 19:return ox(t,e,r);case 22:return rx(t,e,r)}throw Error(q(156,e.tag))};function _x(t,e){return Qy(t,e)}function Vk(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,r,n){return new Vk(t,e,r,n)}function Kp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qk(t){if(typeof t=="function")return Kp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hp)return 11;if(t===fp)return 14}return 2}function ks(t,e){var r=t.alternate;return r===null?(r=Lr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function cc(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Kp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bi:return oi(r.children,s,i,e);case dp:o=8,s|=8;break;case uh:return t=Lr(12,r,e,s|2),t.elementType=uh,t.lanes=i,t;case dh:return t=Lr(13,r,e,s),t.elementType=dh,t.lanes=i,t;case hh:return t=Lr(19,r,e,s),t.elementType=hh,t.lanes=i,t;case Ry:return vu(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Oy:o=10;break e;case Py:o=9;break e;case hp:o=11;break e;case fp:o=14;break e;case ss:o=16,n=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Lr(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function oi(t,e,r,n){return t=Lr(7,t,n,e),t.lanes=r,t}function vu(t,e,r,n){return t=Lr(22,t,n,e),t.elementType=Ry,t.lanes=r,t.stateNode={isHidden:!1},t}function _d(t,e,r){return t=Lr(6,t,null,e),t.lanes=r,t}function Sd(t,e,r){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kk(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nd(0),this.expirationTimes=nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gp(t,e,r,n,s,i,o,a,l){return t=new Kk(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(i),t}function Gk(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Sx(t){if(!t)return Ps;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var r=t.type;if(lr(r))return Sw(t,r,e)}return e}function Ex(t,e,r,n,s,i,o,a,l){return t=Gp(r,n,!0,t,s,i,o,a,l),t.context=Sx(null),r=t.current,n=Xt(),s=Cs(r),i=Mn(n,s),i.callback=e??null,Ss(r,i,s),t.current.lanes=s,nl(t,s,n),cr(t,n),t}function yu(t,e,r,n){var s=e.current,i=Xt(),o=Cs(s);return r=Sx(r),e.context===null?e.context=r:e.pendingContext=r,e=Mn(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ss(s,e,o),t!==null&&(sn(t,s,o,i),nc(t,s,o)),o}function zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Qp(t,e){nv(t,e),(t=t.alternate)&&nv(t,e)}function Qk(){return null}var Cx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yp(t){this._internalRoot=t}wu.prototype.render=Yp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));yu(t,e,null,null)};wu.prototype.unmount=Yp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hi(function(){yu(null,t,null,null)}),e[Fn]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var e=rw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ls.length&&e!==0&&e<ls[r].priority;r++);ls.splice(r,0,t),r===0&&sw(t)}};function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sv(){}function Yk(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=zc(o);i.call(u)}}var o=Ex(e,n,t,0,null,!1,!1,"",sv);return t._reactRootContainer=o,t[Fn]=o.current,Na(t.nodeType===8?t.parentNode:t),hi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=zc(l);a.call(u)}}var l=Gp(t,0,!1,null,null,!1,!1,"",sv);return t._reactRootContainer=l,t[Fn]=l.current,Na(t.nodeType===8?t.parentNode:t),hi(function(){yu(e,l,r,n)}),l}function bu(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zc(o);a.call(l)}}yu(e,o,t,s)}else o=Yk(r,e,t,s,n);return zc(o)}ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ra(e.pendingLanes);r!==0&&(gp(e,r|1),cr(e,it()),!(Ne&6)&&(Co=it()+500,Ls()))}break;case 13:hi(function(){var n=Bn(t,1);if(n!==null){var s=Xt();sn(n,t,1,s)}}),Qp(t,1)}};vp=function(t){if(t.tag===13){var e=Bn(t,134217728);if(e!==null){var r=Xt();sn(e,t,134217728,r)}Qp(t,134217728)}};tw=function(t){if(t.tag===13){var e=Cs(t),r=Bn(t,e);if(r!==null){var n=Xt();sn(r,t,e,n)}Qp(t,e)}};rw=function(){return Le};nw=function(t,e){var r=Le;try{return Le=t,e()}finally{Le=r}};_h=function(t,e,r){switch(e){case"input":if(mh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=du(n);if(!s)throw Error(q(90));Iy(n),mh(n,s)}}}break;case"textarea":Ly(t,r);break;case"select":e=r.value,e!=null&&Zi(t,!!r.multiple,e,!1)}};Wy=Hp;Hy=hi;var Jk={usingClientEntryPoint:!1,Events:[il,Vi,du,By,zy,Hp]},Qo={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xk={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ky(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||Qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{au=Il.inject(Xk),bn=Il}catch{}}Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jk;Er.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(e))throw Error(q(200));return Gk(t,e,null,r)};Er.createRoot=function(t,e){if(!Jp(t))throw Error(q(299));var r=!1,n="",s=Cx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gp(t,1,!1,null,null,r,!1,n,s),t[Fn]=e.current,Na(t.nodeType===8?t.parentNode:t),new Yp(e)};Er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Ky(e),t=t===null?null:t.stateNode,t};Er.flushSync=function(t){return hi(t)};Er.hydrate=function(t,e,r){if(!xu(e))throw Error(q(200));return bu(null,t,e,!0,r)};Er.hydrateRoot=function(t,e,r){if(!Jp(t))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Cx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Ex(e,null,t,1,r??null,s,!1,i,o),t[Fn]=e.current,Na(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new wu(e)};Er.render=function(t,e,r){if(!xu(e))throw Error(q(200));return bu(null,t,e,!1,r)};Er.unmountComponentAtNode=function(t){if(!xu(t))throw Error(q(40));return t._reactRootContainer?(hi(function(){bu(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Er.unstable_batchedUpdates=Hp;Er.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!xu(r))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return bu(t,e,r,!1,n)};Er.version="18.3.1-next-f1338f8080-20240426";function kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kx)}catch(t){console.error(t)}}kx(),ky.exports=Er;var xi=ky.exports;const Tx=py(xi);var jx,iv=xi;jx=iv.createRoot,iv.hydrateRoot;const Zk=1,e2=1e6;let Ed=0;function t2(){return Ed=(Ed+1)%Number.MAX_SAFE_INTEGER,Ed.toString()}const Cd=new Map,ov=t=>{if(Cd.has(t))return;const e=setTimeout(()=>{Cd.delete(t),ga({type:"REMOVE_TOAST",toastId:t})},e2);Cd.set(t,e)},r2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Zk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?ov(r):t.toasts.forEach(n=>{ov(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},uc=[];let dc={toasts:[]};function ga(t){dc=r2(dc,t),uc.forEach(e=>{e(dc)})}function n2({...t}){const e=t2(),r=s=>ga({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>ga({type:"DISMISS_TOAST",toastId:e});return ga({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function bi(){const[t,e]=f.useState(dc);return f.useEffect(()=>(uc.push(e),()=>{const r=uc.indexOf(e);r>-1&&uc.splice(r,1)}),[t]),{...t,toast:n2,dismiss:r=>ga({type:"DISMISS_TOAST",toastId:r})}}function fe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function av(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nx(...t){return e=>{let r=!1;const n=t.map(s=>{const i=av(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():av(t[s],null)}}}}function Fe(...t){return f.useCallback(Nx(...t),t)}function s2(t,e){const r=f.createContext(e),n=i=>{const{children:o,...a}=i,l=f.useMemo(()=>a,Object.values(a));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function s(i){const o=f.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function Kn(t,e=[]){let r=[];function n(i,o){const a=f.createContext(o),l=r.length;r=[...r,o];const u=p=>{var w;const{scope:h,children:m,...v}=p,g=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,b=f.useMemo(()=>v,Object.values(v));return c.jsx(g.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(p,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,v=f.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>f.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,i2(s,...e)]}function i2(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function ko(t){const e=a2(t),r=f.forwardRef((n,s)=>{const{children:i,...o}=n,a=f.Children.toArray(i),l=a.find(l2);if(l){const u=l.props.children,d=a.map(p=>p===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:p);return c.jsx(e,{...o,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var o2=ko("Slot");function a2(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const o=u2(s),a=c2(i,s.props);return s.type!==f.Fragment&&(a.ref=n?Nx(n,o):o),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ox=Symbol("radix.slottable");function Px(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Ox,e}function l2(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ox}function c2(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function u2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Xp(t){const e=t+"CollectionProvider",[r,n]=Kn(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:w}=g,y=Q.useRef(null),x=Q.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:x,collectionRef:y,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=ko(a),u=Q.forwardRef((g,b)=>{const{scope:w,children:y}=g,x=i(a,w),_=Fe(b,x.collectionRef);return c.jsx(l,{ref:_,children:y})});u.displayName=a;const d=t+"CollectionItemSlot",p="data-radix-collection-item",h=ko(d),m=Q.forwardRef((g,b)=>{const{scope:w,children:y,...x}=g,_=Q.useRef(null),S=Fe(b,_),E=i(d,w);return Q.useEffect(()=>(E.itemMap.set(_,{ref:_,...x}),()=>void E.itemMap.delete(_))),c.jsx(h,{[p]:"",ref:S,children:y})});m.displayName=d;function v(g){const b=i(t+"CollectionConsumer",g);return Q.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((E,C)=>x.indexOf(E.ref.current)-x.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,n]}var d2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Te=d2.reduce((t,e)=>{const r=ko(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Rx(t,e){t&&xi.flushSync(()=>t.dispatchEvent(e))}function Fr(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function h2(t,e=globalThis==null?void 0:globalThis.document){const r=Fr(t);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var f2="DismissableLayer",tf="dismissableLayer.update",p2="dismissableLayer.pointerDownOutside",m2="dismissableLayer.focusOutside",lv,Ax=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),al=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=f.useContext(Ax),[d,p]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),v=Fe(e,C=>p(C)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(b),y=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=w,S=v2(C=>{const T=C.target,L=[...u.branches].some($=>$.contains(T));!_||L||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),E=y2(C=>{const T=C.target;[...u.branches].some($=>$.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return h2(C=>{y===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),cv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=lv)}},[d,h,r,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),cv())},[d,u]),f.useEffect(()=>{const C=()=>m({});return document.addEventListener(tf,C),()=>document.removeEventListener(tf,C)},[]),c.jsx(Te.div,{...l,ref:v,style:{pointerEvents:x?_?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,S.onPointerDownCapture)})});al.displayName=f2;var g2="DismissableLayerBranch",Ix=f.forwardRef((t,e)=>{const r=f.useContext(Ax),n=f.useRef(null),s=Fe(e,n);return f.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(Te.div,{...t,ref:s})});Ix.displayName=g2;function v2(t,e=globalThis==null?void 0:globalThis.document){const r=Fr(t),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){Dx(p2,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function y2(t,e=globalThis==null?void 0:globalThis.document){const r=Fr(t),n=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!n.current&&Dx(m2,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function cv(){const t=new CustomEvent(tf);document.dispatchEvent(t)}function Dx(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Rx(s,i):s.dispatchEvent(i)}var w2=al,x2=Ix,Dt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},b2="Portal",_u=f.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,i]=f.useState(!1);Dt(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tx.createPortal(c.jsx(Te.div,{...n,ref:e}),o):null});_u.displayName=b2;function _2(t,e){return f.useReducer((r,n)=>e[r][n]??r,t)}var _i=t=>{const{present:e,children:r}=t,n=S2(e),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),i=Fe(n.ref,E2(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:i}):null};_i.displayName="Presence";function S2(t){const[e,r]=f.useState(),n=f.useRef(null),s=f.useRef(t),i=f.useRef("none"),o=t?"mounted":"unmounted",[a,l]=_2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Dl(n.current);i.current=a==="mounted"?u:"none"},[a]),Dt(()=>{const u=n.current,d=s.current;if(d!==t){const h=i.current,m=Dl(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Dt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=m=>{const g=Dl(n.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=m=>{m.target===e&&(i.current=Dl(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Dl(t){return(t==null?void 0:t.animationName)||"none"}function E2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var C2=ap[" useInsertionEffect ".trim().toString()]||Dt;function To({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,o]=k2({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:s;{const d=f.useRef(t!==void 0);f.useEffect(()=>{const p=d.current;p!==a&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=f.useCallback(d=>{var p;if(a){const h=T2(d)?d(t):d;h!==t&&((p=o.current)==null||p.call(o,h))}else i(d)},[a,t,i,o]);return[l,u]}function k2({defaultProp:t,onChange:e}){const[r,n]=f.useState(t),s=f.useRef(r),i=f.useRef(e);return C2(()=>{i.current=e},[e]),f.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function T2(t){return typeof t=="function"}var Lx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),j2="VisuallyHidden",Su=f.forwardRef((t,e)=>c.jsx(Te.span,{...t,ref:e,style:{...Lx,...t.style}}));Su.displayName=j2;var N2=Su,Zp="ToastProvider",[em,O2,P2]=Xp("Toast"),[Mx,kM]=Kn("Toast",[P2]),[R2,Eu]=Mx(Zp),$x=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=f.useState(null),[u,d]=f.useState(0),p=f.useRef(!1),h=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Zp}\`. Expected non-empty \`string\`.`),c.jsx(em.Provider,{scope:e,children:c.jsx(R2,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(m=>m+1),[]),onToastRemove:f.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};$x.displayName=Zp;var Ux="ToastViewport",A2=["F8"],rf="toast.viewportPause",nf="toast.viewportResume",Fx=f.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=A2,label:s="Notifications ({hotkey})",...i}=t,o=Eu(Ux,r),a=O2(r),l=f.useRef(null),u=f.useRef(null),d=f.useRef(null),p=f.useRef(null),h=Fe(e,p,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;f.useEffect(()=>{const b=w=>{var x;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((x=p.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),f.useEffect(()=>{const b=l.current,w=p.current;if(v&&b&&w){const y=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(rf);w.dispatchEvent(E),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(nf);w.dispatchEvent(E),o.isClosePausedRef.current=!1}},_=E=>{!b.contains(E.relatedTarget)&&x()},S=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",y),b.addEventListener("focusout",_),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:b})=>{const y=a().map(x=>{const _=x.ref.current,S=[_,...q2(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?y.reverse():y).flat()},[a]);return f.useEffect(()=>{const b=p.current;if(b){const w=y=>{var S,E,C;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const T=document.activeElement,L=y.shiftKey;if(y.target===b&&L){(S=u.current)==null||S.focus();return}const U=g({tabbingDirection:L?"backwards":"forwards"}),J=U.findIndex(R=>R===T);kd(U.slice(J+1))?y.preventDefault():L?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[a,g]),c.jsxs(x2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(sf,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});kd(b)}}),c.jsx(em.Slot,{scope:r,children:c.jsx(Te.ol,{tabIndex:-1,...i,ref:h})}),v&&c.jsx(sf,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});kd(b)}})]})});Fx.displayName=Ux;var Bx="ToastFocusProxy",sf=f.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=Eu(Bx,r);return c.jsx(Su,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});sf.displayName=Bx;var ll="Toast",I2="toast.swipeStart",D2="toast.swipeMove",L2="toast.swipeCancel",M2="toast.swipeEnd",zx=f.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=To({prop:n,defaultProp:s??!0,onChange:i,caller:ll});return c.jsx(_i,{present:r||a,children:c.jsx(F2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Fr(t.onPause),onResume:Fr(t.onResume),onSwipeStart:fe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:fe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});zx.displayName=ll;var[$2,U2]=Mx(ll,{onClose(){}}),F2=f.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:m,...v}=t,g=Eu(ll,r),[b,w]=f.useState(null),y=Fe(e,R=>w(R)),x=f.useRef(null),_=f.useRef(null),S=s||g.duration,E=f.useRef(0),C=f.useRef(S),T=f.useRef(0),{onToastAdd:L,onToastRemove:$}=g,Y=Fr(()=>{var K;(b==null?void 0:b.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),o()}),U=f.useCallback(R=>{!R||R===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(Y,R))},[Y]);f.useEffect(()=>{const R=g.viewport;if(R){const K=()=>{U(C.current),u==null||u()},M=()=>{const V=new Date().getTime()-E.current;C.current=C.current-V,window.clearTimeout(T.current),l==null||l()};return R.addEventListener(rf,M),R.addEventListener(nf,K),()=>{R.removeEventListener(rf,M),R.removeEventListener(nf,K)}}},[g.viewport,S,l,u,U]),f.useEffect(()=>{i&&!g.isClosePausedRef.current&&U(S)},[i,S,g.isClosePausedRef,U]),f.useEffect(()=>(L(),()=>$()),[L,$]);const J=f.useMemo(()=>b?Qx(b):null,[b]);return g.viewport?c.jsxs(c.Fragment,{children:[J&&c.jsx(B2,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:J}),c.jsx($2,{scope:r,onClose:Y,children:xi.createPortal(c.jsx(em.ItemSlot,{scope:r,children:c.jsx(w2,{asChild:!0,onEscapeKeyDown:fe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||Y(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,R=>{R.key==="Escape"&&(a==null||a(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,Y()))}),onPointerDown:fe(t.onPointerDown,R=>{R.button===0&&(x.current={x:R.clientX,y:R.clientY})}),onPointerMove:fe(t.onPointerMove,R=>{if(!x.current)return;const K=R.clientX-x.current.x,M=R.clientY-x.current.y,V=!!_.current,j=["left","right"].includes(g.swipeDirection),O=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=j?O(0,K):0,Z=j?0:O(0,M),k=R.pointerType==="touch"?10:2,W={x:H,y:Z},z={originalEvent:R,delta:W};V?(_.current=W,Ll(D2,p,z,{discrete:!1})):uv(W,g.swipeDirection,k)?(_.current=W,Ll(I2,d,z,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(K)>k||Math.abs(M)>k)&&(x.current=null)}),onPointerUp:fe(t.onPointerUp,R=>{const K=_.current,M=R.target;if(M.hasPointerCapture(R.pointerId)&&M.releasePointerCapture(R.pointerId),_.current=null,x.current=null,K){const V=R.currentTarget,j={originalEvent:R,delta:K};uv(K,g.swipeDirection,g.swipeThreshold)?Ll(M2,m,j,{discrete:!0}):Ll(L2,h,j,{discrete:!0}),V.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),B2=t=>{const{__scopeToast:e,children:r,...n}=t,s=Eu(ll,e),[i,o]=f.useState(!1),[a,l]=f.useState(!1);return H2(()=>o(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(_u,{asChild:!0,children:c.jsx(Su,{...n,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",r]})})})},z2="ToastTitle",Wx=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Te.div,{...n,ref:e})});Wx.displayName=z2;var W2="ToastDescription",Hx=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Te.div,{...n,ref:e})});Hx.displayName=W2;var Vx="ToastAction",qx=f.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(Gx,{altText:r,asChild:!0,children:c.jsx(tm,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vx}\`. Expected non-empty \`string\`.`),null)});qx.displayName=Vx;var Kx="ToastClose",tm=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=U2(Kx,r);return c.jsx(Gx,{asChild:!0,children:c.jsx(Te.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,s.onClose)})})});tm.displayName=Kx;var Gx=f.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return c.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Qx(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),V2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Qx(n))}}),e}function Ll(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Rx(s,i):s.dispatchEvent(i)}var uv=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function H2(t=()=>{}){const e=Fr(t);Dt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function V2(t){return t.nodeType===t.ELEMENT_NODE}function q2(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function kd(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var K2=$x,Yx=Fx,Jx=zx,Xx=Wx,Zx=Hx,e1=qx,t1=tm;function r1(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=r1(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function n1(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=r1(t))&&(n&&(n+=" "),n+=e);return n}const dv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hv=n1,rm=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return hv(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],p=i==null?void 0:i[u];if(d===null)return null;const h=dv(d)||dv(p);return s[u][h]}),a=r&&Object.entries(r).reduce((u,d)=>{let[p,h]=d;return h===void 0||(u[p]=h),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:p,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...u,p,h]:u},[]);return hv(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s1=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>f.createElement("svg",{ref:l,...Q2,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:s1("lucide",s),...a},[...o.map(([u,d])=>f.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const r=f.forwardRef(({className:n,...s},i)=>f.createElement(Y2,{ref:i,iconNode:e,className:s1(`lucide-${G2(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Ce("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=Ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Ce("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Ce("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Ce("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Ce("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Ce("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Ce("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Ce("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Ce("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Ce("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),sm="-",gT=t=>{const e=yT(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(sm);return a[0]===""&&a.length!==1&&a.shift(),p1(a,e)||vT(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},p1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?p1(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(sm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},gv=/^\[(.+)\]$/,vT=t=>{if(gv.test(t)){const e=gv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},yT=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return xT(Object.entries(t.classGroups),r).forEach(([i,o])=>{cf(o,n,i,e)}),n},cf=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:vv(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(wT(s)){cf(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{cf(o,vv(e,i),r,n)})})},vv=(t,e)=>{let r=t;return e.split(sm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},wT=t=>t.isThemeGetter,xT=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,s]}):t,bT=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},m1="!",_T=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,p;for(let b=0;b<a.length;b++){let w=a[b];if(u===0){if(w===s&&(n||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(w==="/"){p=b;continue}}w==="["?u++:w==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(m1),v=m?h.substring(1):h,g=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:o}):o},ST=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},ET=t=>({cache:bT(t.cacheSize),parseClassName:_T(t),...gT(t)}),CT=/\s+/,kT=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(CT);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,g=n(v?h.substring(0,m):h);if(!g){if(!v){a=u+(a.length>0?" "+a:a);continue}if(g=n(h),!g){a=u+(a.length>0?" "+a:a);continue}v=!1}const b=ST(d).join(":"),w=p?b+m1:b,y=w+g;if(i.includes(y))continue;i.push(y);const x=s(g,v);for(let _=0;_<x.length;++_){const S=x[_];i.push(w+S)}a=u+(a.length>0?" "+a:a)}return a};function TT(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=g1(e))&&(n&&(n+=" "),n+=r);return n}const g1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=g1(t[n]))&&(r&&(r+=" "),r+=e);return r};function jT(t,...e){let r,n,s,i=o;function o(l){const u=e.reduce((d,p)=>p(d),t());return r=ET(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=kT(l,r);return s(l,d),d}return function(){return i(TT.apply(null,arguments))}}const He=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},v1=/^\[(?:([a-z-]+):)?(.+)\]$/i,NT=/^\d+\/\d+$/,OT=new Set(["px","full","screen"]),PT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nn=t=>io(t)||OT.has(t)||NT.test(t),Xn=t=>Do(t,"length",WT),io=t=>!!t&&!Number.isNaN(Number(t)),Td=t=>Do(t,"number",io),Yo=t=>!!t&&Number.isInteger(Number(t)),LT=t=>t.endsWith("%")&&io(t.slice(0,-1)),ke=t=>v1.test(t),Zn=t=>PT.test(t),MT=new Set(["length","size","percentage"]),$T=t=>Do(t,MT,y1),UT=t=>Do(t,"position",y1),FT=new Set(["image","url"]),BT=t=>Do(t,FT,VT),zT=t=>Do(t,"",HT),Jo=()=>!0,Do=(t,e,r)=>{const n=v1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},WT=t=>RT.test(t)&&!AT.test(t),y1=()=>!1,HT=t=>IT.test(t),VT=t=>DT.test(t),qT=()=>{const t=He("colors"),e=He("spacing"),r=He("blur"),n=He("brightness"),s=He("borderColor"),i=He("borderRadius"),o=He("borderSpacing"),a=He("borderWidth"),l=He("contrast"),u=He("grayscale"),d=He("hueRotate"),p=He("invert"),h=He("gap"),m=He("gradientColorStops"),v=He("gradientColorStopPositions"),g=He("inset"),b=He("margin"),w=He("opacity"),y=He("padding"),x=He("saturate"),_=He("scale"),S=He("sepia"),E=He("skew"),C=He("space"),T=He("translate"),L=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",ke,e],U=()=>[ke,e],J=()=>["",Nn,Xn],R=()=>["auto",io,ke],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",ke],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[io,ke];return{cacheSize:500,separator:":",theme:{colors:[Jo],spacing:[Nn,Xn],blur:["none","",Zn,ke],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Zn,ke],borderSpacing:U(),borderWidth:J(),contrast:Z(),grayscale:O(),hueRotate:Z(),invert:O(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[LT,Xn],inset:Y(),margin:Y(),opacity:Z(),padding:U(),saturate:Z(),scale:Z(),sepia:O(),skew:Z(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[Zn]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),ke]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yo,ke]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Yo,ke]}],"grid-cols":[{"grid-cols":[Jo]}],"col-start-end":[{col:["auto",{span:["full",Yo,ke]},ke]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Jo]}],"row-start-end":[{row:["auto",{span:[Yo,ke]},ke]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[Zn]},Zn]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zn,Xn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Td]}],"font-family":[{font:[Jo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",io,Td]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nn,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nn,Xn]}],"underline-offset":[{"underline-offset":["auto",Nn,ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),UT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$T]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Nn,ke]}],"outline-w":[{outline:[Nn,Xn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Nn,Xn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zn,zT]}],"shadow-color":[{shadow:[Jo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zn,ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Yo,ke]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Nn,Xn,Td]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KT=jT(qT);function Ee(...t){return KT(n1(t))}const GT=K2,w1=f.forwardRef(({className:t,...e},r)=>c.jsx(Yx,{ref:r,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));w1.displayName=Yx.displayName;const QT=rm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),x1=f.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(Jx,{ref:n,className:Ee(QT({variant:e}),t),...r}));x1.displayName=Jx.displayName;const YT=f.forwardRef(({className:t,...e},r)=>c.jsx(e1,{ref:r,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));YT.displayName=e1.displayName;const b1=f.forwardRef(({className:t,...e},r)=>c.jsx(t1,{ref:r,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(ku,{className:"h-4 w-4"})}));b1.displayName=t1.displayName;const _1=f.forwardRef(({className:t,...e},r)=>c.jsx(Xx,{ref:r,className:Ee("text-sm font-semibold",t),...e}));_1.displayName=Xx.displayName;const S1=f.forwardRef(({className:t,...e},r)=>c.jsx(Zx,{ref:r,className:Ee("text-sm opacity-90",t),...e}));S1.displayName=Zx.displayName;function JT(){const{toasts:t}=bi();return c.jsxs(GT,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return c.jsxs(x1,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(_1,{children:r}),n&&c.jsx(S1,{children:n})]}),s,c.jsx(b1,{})]},e)}),c.jsx(w1,{})]})}var yv=["light","dark"],XT="(prefers-color-scheme: dark)",ZT=f.createContext(void 0),ej={setTheme:t=>{},themes:[]},tj=()=>{var t;return(t=f.useContext(ZT))!=null?t:ej};f.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=s?yv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,g=!1,b=!0)=>{let w=o?o[v]:v,y=g?v+"|| ''":`'${w}'`,x="";return s&&b&&!g&&yv.includes(v)&&(x+=`d.style.colorScheme = '${v}';`),r==="class"?g||w?x+=`c.add(${y})`:x+="null":w&&(x+=`d[s](n,${y})`),x},m=t?`!function(){${d}${h(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${XT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${p}}catch(t){}}();`;return f.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var rj=t=>{switch(t){case"success":return ij;case"info":return aj;case"warning":return oj;case"error":return lj;default:return null}},nj=Array(12).fill(0),sj=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},nj.map((r,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ij=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uj=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},uf=1,dj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:uf++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,i,o=n.then(async l=>{if(i=["resolve",l],Q.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(fj(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||uf++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},nr=new dj,hj=(t,e)=>{let r=(e==null?void 0:e.id)||uf++;return nr.addToast({title:t,...e,id:r}),r},fj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",pj=hj,mj=()=>nr.toasts,gj=()=>nr.getActiveToasts();Object.assign(pj,{success:nr.success,info:nr.info,warning:nr.warning,error:nr.error,custom:nr.custom,message:nr.message,promise:nr.promise,dismiss:nr.dismiss,loading:nr.loading},{getHistory:mj,getToasts:gj});function vj(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}vj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ml(t){return t.label!==void 0}var yj=3,wj="32px",xj="16px",wv=4e3,bj=356,_j=14,Sj=20,Ej=200;function Hr(...t){return t.filter(Boolean).join(" ")}function Cj(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var kj=t=>{var e,r,n,s,i,o,a,l,u,d,p;let{invert:h,toast:m,unstyled:v,interacting:g,setHeights:b,visibleToasts:w,heights:y,index:x,toasts:_,expanded:S,removeToast:E,defaultRichColors:C,closeButton:T,style:L,cancelButtonStyle:$,actionButtonStyle:Y,className:U="",descriptionClassName:J="",duration:R,position:K,gap:M,loadingIcon:V,expandByDefault:j,classNames:O,icons:H,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:k}=t,[W,z]=Q.useState(null),[X,ae]=Q.useState(null),[A,ne]=Q.useState(!1),[de,le]=Q.useState(!1),[ie,ge]=Q.useState(!1),[We,gt]=Q.useState(!1),[Lt,ut]=Q.useState(!1),[Vt,qt]=Q.useState(0),[kr,kn]=Q.useState(0),Br=Q.useRef(m.duration||R||wv),un=Q.useRef(null),Mt=Q.useRef(null),G=x===0,se=x+1<=w,re=m.type,xe=m.dismissible!==!1,vt=m.className||"",Kt=m.descriptionClassName||"",yt=Q.useMemo(()=>y.findIndex(ve=>ve.toastId===m.id)||0,[y,m.id]),et=Q.useMemo(()=>{var ve;return(ve=m.closeButton)!=null?ve:T},[m.closeButton,T]),tr=Q.useMemo(()=>m.duration||R||wv,[m.duration,R]),rr=Q.useRef(0),dt=Q.useRef(0),wt=Q.useRef(0),dr=Q.useRef(null),[Tn,Tr]=K.split("-"),hr=Q.useMemo(()=>y.reduce((ve,Oe,Re)=>Re>=yt?ve:ve+Oe.height,0),[y,yt]),jr=uj(),jn=m.invert||h,zr=re==="loading";dt.current=Q.useMemo(()=>yt*M+hr,[yt,hr]),Q.useEffect(()=>{Br.current=tr},[tr]),Q.useEffect(()=>{ne(!0)},[]),Q.useEffect(()=>{let ve=Mt.current;if(ve){let Oe=ve.getBoundingClientRect().height;return kn(Oe),b(Re=>[{toastId:m.id,height:Oe,position:m.position},...Re]),()=>b(Re=>Re.filter(kt=>kt.toastId!==m.id))}},[b,m.id]),Q.useLayoutEffect(()=>{if(!A)return;let ve=Mt.current,Oe=ve.style.height;ve.style.height="auto";let Re=ve.getBoundingClientRect().height;ve.style.height=Oe,kn(Re),b(kt=>kt.find(P=>P.toastId===m.id)?kt.map(P=>P.toastId===m.id?{...P,height:Re}:P):[{toastId:m.id,height:Re,position:m.position},...kt])},[A,m.title,m.description,b,m.id]);let Nr=Q.useCallback(()=>{le(!0),qt(dt.current),b(ve=>ve.filter(Oe=>Oe.toastId!==m.id)),setTimeout(()=>{E(m)},Ej)},[m,E,b,dt]);Q.useEffect(()=>{if(m.promise&&re==="loading"||m.duration===1/0||m.type==="loading")return;let ve;return S||g||k&&jr?(()=>{if(wt.current<rr.current){let Oe=new Date().getTime()-rr.current;Br.current=Br.current-Oe}wt.current=new Date().getTime()})():Br.current!==1/0&&(rr.current=new Date().getTime(),ve=setTimeout(()=>{var Oe;(Oe=m.onAutoClose)==null||Oe.call(m,m),Nr()},Br.current)),()=>clearTimeout(ve)},[S,g,m,re,k,jr,Nr]),Q.useEffect(()=>{m.delete&&Nr()},[Nr,m.delete]);function Bo(){var ve,Oe,Re;return H!=null&&H.loading?Q.createElement("div",{className:Hr(O==null?void 0:O.loader,(ve=m==null?void 0:m.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":re==="loading"},H.loading):V?Q.createElement("div",{className:Hr(O==null?void 0:O.loader,(Oe=m==null?void 0:m.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":re==="loading"},V):Q.createElement(sj,{className:Hr(O==null?void 0:O.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader),visible:re==="loading"})}return Q.createElement("li",{tabIndex:0,ref:Mt,className:Hr(U,vt,O==null?void 0:O.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[re],(r=m==null?void 0:m.classNames)==null?void 0:r[re]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:C,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":A,"data-promise":!!m.promise,"data-swiped":Lt,"data-removed":de,"data-visible":se,"data-y-position":Tn,"data-x-position":Tr,"data-index":x,"data-front":G,"data-swiping":ie,"data-dismissible":xe,"data-type":re,"data-invert":jn,"data-swipe-out":We,"data-swipe-direction":X,"data-expanded":!!(S||j&&A),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${de?Vt:dt.current}px`,"--initial-height":j?"auto":`${kr}px`,...L,...m.style},onDragEnd:()=>{ge(!1),z(null),dr.current=null},onPointerDown:ve=>{zr||!xe||(un.current=new Date,qt(dt.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(ge(!0),dr.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,Oe,Re,kt;if(We||!xe)return;dr.current=null;let P=Number(((ve=Mt.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tt=Number(((Oe=Mt.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),st=new Date().getTime()-((Re=un.current)==null?void 0:Re.getTime()),xt=W==="x"?P:Tt,B=Math.abs(xt)/st;if(Math.abs(xt)>=Sj||B>.11){qt(dt.current),(kt=m.onDismiss)==null||kt.call(m,m),ae(W==="x"?P>0?"right":"left":Tt>0?"down":"up"),Nr(),gt(!0),ut(!1);return}ge(!1),z(null)},onPointerMove:ve=>{var Oe,Re,kt,P;if(!dr.current||!xe||((Oe=window.getSelection())==null?void 0:Oe.toString().length)>0)return;let Tt=ve.clientY-dr.current.y,st=ve.clientX-dr.current.x,xt=(Re=t.swipeDirections)!=null?Re:Cj(K);!W&&(Math.abs(st)>1||Math.abs(Tt)>1)&&z(Math.abs(st)>Math.abs(Tt)?"x":"y");let B={x:0,y:0};W==="y"?(xt.includes("top")||xt.includes("bottom"))&&(xt.includes("top")&&Tt<0||xt.includes("bottom")&&Tt>0)&&(B.y=Tt):W==="x"&&(xt.includes("left")||xt.includes("right"))&&(xt.includes("left")&&st<0||xt.includes("right")&&st>0)&&(B.x=st),(Math.abs(B.x)>0||Math.abs(B.y)>0)&&ut(!0),(kt=Mt.current)==null||kt.style.setProperty("--swipe-amount-x",`${B.x}px`),(P=Mt.current)==null||P.style.setProperty("--swipe-amount-y",`${B.y}px`)}},et&&!m.jsx?Q.createElement("button",{"aria-label":Z,"data-disabled":zr,"data-close-button":!0,onClick:zr||!xe?()=>{}:()=>{var ve;Nr(),(ve=m.onDismiss)==null||ve.call(m,m)},className:Hr(O==null?void 0:O.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:cj):null,m.jsx||f.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Q.createElement(Q.Fragment,null,re||m.icon||m.promise?Q.createElement("div",{"data-icon":"",className:Hr(O==null?void 0:O.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Bo():null,m.type!=="loading"?m.icon||(H==null?void 0:H[re])||rj(re):null):null,Q.createElement("div",{"data-content":"",className:Hr(O==null?void 0:O.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},Q.createElement("div",{"data-title":"",className:Hr(O==null?void 0:O.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?Q.createElement("div",{"data-description":"",className:Hr(J,Kt,O==null?void 0:O.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),f.isValidElement(m.cancel)?m.cancel:m.cancel&&Ml(m.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||$,onClick:ve=>{var Oe,Re;Ml(m.cancel)&&xe&&((Re=(Oe=m.cancel).onClick)==null||Re.call(Oe,ve),Nr())},className:Hr(O==null?void 0:O.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,f.isValidElement(m.action)?m.action:m.action&&Ml(m.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||Y,onClick:ve=>{var Oe,Re;Ml(m.action)&&((Re=(Oe=m.action).onClick)==null||Re.call(Oe,ve),!ve.defaultPrevented&&Nr())},className:Hr(O==null?void 0:O.actionButton,(p=m==null?void 0:m.classNames)==null?void 0:p.actionButton)},m.action.label):null))};function xv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Tj(t,e){let r={};return[t,e].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?xj:wj;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=a:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(a)}),r}var jj=f.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:p,duration:h,style:m,visibleToasts:v=yj,toastOptions:g,dir:b=xv(),gap:w=_j,loadingIcon:y,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[E,C]=Q.useState([]),T=Q.useMemo(()=>Array.from(new Set([n].concat(E.filter(k=>k.position).map(k=>k.position)))),[E,n]),[L,$]=Q.useState([]),[Y,U]=Q.useState(!1),[J,R]=Q.useState(!1),[K,M]=Q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=Q.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=Q.useRef(null),H=Q.useRef(!1),Z=Q.useCallback(k=>{C(W=>{var z;return(z=W.find(X=>X.id===k.id))!=null&&z.delete||nr.dismiss(k.id),W.filter(({id:X})=>X!==k.id)})},[]);return Q.useEffect(()=>nr.subscribe(k=>{if(k.dismiss){C(W=>W.map(z=>z.id===k.id?{...z,delete:!0}:z));return}setTimeout(()=>{Tx.flushSync(()=>{C(W=>{let z=W.findIndex(X=>X.id===k.id);return z!==-1?[...W.slice(0,z),{...W[z],...k},...W.slice(z+1)]:[k,...W]})})})}),[]),Q.useEffect(()=>{if(d!=="system"){M(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:W})=>{M(W?"dark":"light")})}catch{k.addListener(({matches:z})=>{try{M(z?"dark":"light")}catch(X){console.error(X)}})}},[d]),Q.useEffect(()=>{E.length<=1&&U(!1)},[E]),Q.useEffect(()=>{let k=W=>{var z,X;s.every(ae=>W[ae]||W.code===ae)&&(U(!0),(z=V.current)==null||z.focus()),W.code==="Escape"&&(document.activeElement===V.current||(X=V.current)!=null&&X.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[s]),Q.useEffect(()=>{if(V.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,H.current=!1)}},[V.current]),Q.createElement("section",{ref:e,"aria-label":`${_} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((k,W)=>{var z;let[X,ae]=k.split("-");return E.length?Q.createElement("ol",{key:k,dir:b==="auto"?xv():b,tabIndex:-1,ref:V,className:a,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":X,"data-lifted":Y&&E.length>1&&!i,"data-x-position":ae,style:{"--front-toast-height":`${((z=L[0])==null?void 0:z.height)||0}px`,"--width":`${bj}px`,"--gap":`${w}px`,...m,...Tj(l,u)},onBlur:A=>{H.current&&!A.currentTarget.contains(A.relatedTarget)&&(H.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||H.current||(H.current=!0,O.current=A.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{J||U(!1)},onDragEnd:()=>U(!1),onPointerDown:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},E.filter(A=>!A.position&&W===0||A.position===k).map((A,ne)=>{var de,le;return Q.createElement(kj,{key:A.id,icons:x,index:ne,toast:A,defaultRichColors:p,duration:(de=g==null?void 0:g.duration)!=null?de:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(le=g==null?void 0:g.closeButton)!=null?le:o,interacting:J,position:k,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Z,toasts:E.filter(ie=>ie.position==A.position),heights:L.filter(ie=>ie.position==A.position),setHeights:$,expandByDefault:i,gap:w,loadingIcon:y,expanded:Y,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const Nj=({...t})=>{const{theme:e="system"}=tj();return c.jsx(jj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Oj=ap[" useId ".trim().toString()]||(()=>{}),Pj=0;function Ts(t){const[e,r]=f.useState(Oj());return Dt(()=>{t||r(n=>n??String(Pj++))},[t]),t||(e?`radix-${e}`:"")}const Rj=["top","right","bottom","left"],Rs=Math.min,gr=Math.max,Hc=Math.round,$l=Math.floor,Sn=t=>({x:t,y:t}),Aj={left:"right",right:"left",bottom:"top",top:"bottom"},Ij={start:"end",end:"start"};function df(t,e,r){return gr(t,Rs(e,r))}function Hn(t,e){return typeof t=="function"?t(e):t}function Vn(t){return t.split("-")[0]}function Lo(t){return t.split("-")[1]}function im(t){return t==="x"?"y":"x"}function om(t){return t==="y"?"height":"width"}const Dj=new Set(["top","bottom"]);function xn(t){return Dj.has(Vn(t))?"y":"x"}function am(t){return im(xn(t))}function Lj(t,e,r){r===void 0&&(r=!1);const n=Lo(t),s=am(t),i=om(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vc(o)),[o,Vc(o)]}function Mj(t){const e=Vc(t);return[hf(t),e,hf(e)]}function hf(t){return t.replace(/start|end/g,e=>Ij[e])}const bv=["left","right"],_v=["right","left"],$j=["top","bottom"],Uj=["bottom","top"];function Fj(t,e,r){switch(t){case"top":case"bottom":return r?e?_v:bv:e?bv:_v;case"left":case"right":return e?$j:Uj;default:return[]}}function Bj(t,e,r,n){const s=Lo(t);let i=Fj(Vn(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(hf)))),i}function Vc(t){return t.replace(/left|right|bottom|top/g,e=>Aj[e])}function zj(t){return{top:0,right:0,bottom:0,left:0,...t}}function E1(t){return typeof t!="number"?zj(t):{top:t,right:t,bottom:t,left:t}}function qc(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Sv(t,e,r){let{reference:n,floating:s}=t;const i=xn(e),o=am(e),a=om(o),l=Vn(e),u=i==="y",d=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:p};break;case"left":m={x:n.x-s.width,y:p};break;default:m={x:n.x,y:n.y}}switch(Lo(e)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Wj=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=Sv(u,n,l),h=n,m={},v=0;for(let g=0;g<a.length;g++){const{name:b,fn:w}=a[g],{x:y,y:x,data:_,reset:S}=await w({x:d,y:p,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,p=x??p,m={...m,[b]:{...m[b],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:p}=Sv(u,h,l)),g=-1)}return{x:d,y:p,placement:h,strategy:s,middlewareData:m}};async function Ua(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:m=0}=Hn(e,t),v=E1(m),b=a[h?p==="floating"?"reference":"floating":p],w=qc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=p==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},S=qc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(w.top-S.top+v.top)/_.y,bottom:(S.bottom-w.bottom+v.bottom)/_.y,left:(w.left-S.left+v.left)/_.x,right:(S.right-w.right+v.right)/_.x}}const Hj=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Hn(t,e)||{};if(u==null)return{};const p=E1(d),h={x:r,y:n},m=am(s),v=om(m),g=await o.getDimensions(u),b=m==="y",w=b?"top":"left",y=b?"bottom":"right",x=b?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[m]-h[m]-i.floating[v],S=h[m]-i.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=E?E[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[x]||i.floating[v]);const T=_/2-S/2,L=C/2-g[v]/2-1,$=Rs(p[w],L),Y=Rs(p[y],L),U=$,J=C-g[v]-Y,R=C/2-g[v]/2+T,K=df(U,R,J),M=!l.arrow&&Lo(s)!=null&&R!==K&&i.reference[v]/2-(R<U?$:Y)-g[v]/2<0,V=M?R<U?R-U:R-J:0;return{[m]:h[m]+V,data:{[m]:K,centerOffset:R-K-V,...M&&{alignmentOffset:V}},reset:M}}}),Vj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Hn(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Vn(s),y=xn(a),x=Vn(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=h||(x||!g?[Vc(a)]:Mj(a)),E=v!=="none";!h&&E&&S.push(...Bj(a,g,v,_));const C=[a,...S],T=await Ua(e,b),L=[];let $=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&L.push(T[w]),p){const R=Lj(s,o,_);L.push(T[R[0]],T[R[1]])}if($=[...$,{placement:s,overflows:L}],!L.every(R=>R<=0)){var Y,U;const R=(((Y=i.flip)==null?void 0:Y.index)||0)+1,K=C[R];if(K&&(!(p==="alignment"?y!==xn(K):!1)||$.every(j=>j.overflows[0]>0&&xn(j.placement)===y)))return{data:{index:R,overflows:$},reset:{placement:K}};let M=(U=$.filter(V=>V.overflows[0]<=0).sort((V,j)=>V.overflows[1]-j.overflows[1])[0])==null?void 0:U.placement;if(!M)switch(m){case"bestFit":{var J;const V=(J=$.filter(j=>{if(E){const O=xn(j.placement);return O===y||O==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(O=>O>0).reduce((O,H)=>O+H,0)]).sort((j,O)=>j[1]-O[1])[0])==null?void 0:J[0];V&&(M=V);break}case"initialPlacement":M=a;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function Ev(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Cv(t){return Rj.some(e=>t[e]>=0)}const qj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Hn(t,e);switch(n){case"referenceHidden":{const i=await Ua(e,{...s,elementContext:"reference"}),o=Ev(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Cv(o)}}}case"escaped":{const i=await Ua(e,{...s,altBoundary:!0}),o=Ev(i,r.floating);return{data:{escapedOffsets:o,escaped:Cv(o)}}}default:return{}}}}},C1=new Set(["left","top"]);async function Kj(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Vn(r),a=Lo(r),l=xn(r)==="y",u=C1.has(o)?-1:1,d=i&&l?-1:1,p=Hn(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Gj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Kj(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Qj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:w,y}=b;return{x:w,y}}},...l}=Hn(t,e),u={x:r,y:n},d=await Ua(e,l),p=xn(Vn(s)),h=im(p);let m=u[h],v=u[p];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=m+d[b],x=m-d[w];m=df(y,m,x)}if(o){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",y=v+d[b],x=v-d[w];v=df(y,v,x)}const g=a.fn({...e,[h]:m,[p]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[p]:o}}}}}},Yj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Hn(t,e),d={x:r,y:n},p=xn(s),h=im(p);let m=d[h],v=d[p];const g=Hn(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=h==="y"?"height":"width",_=i.reference[h]-i.floating[x]+b.mainAxis,S=i.reference[h]+i.reference[x]-b.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var w,y;const x=h==="y"?"width":"height",_=C1.has(Vn(s)),S=i.reference[p]-i.floating[x]+(_&&((w=o.offset)==null?void 0:w[p])||0)+(_?0:b.crossAxis),E=i.reference[p]+i.reference[x]+(_?0:((y=o.offset)==null?void 0:y[p])||0)-(_?b.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[h]:m,[p]:v}}}},Jj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Hn(t,e),d=await Ua(e,u),p=Vn(s),h=Lo(s),m=xn(s)==="y",{width:v,height:g}=i.floating;let b,w;p==="top"||p==="bottom"?(b=p,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,b=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,x=v-d.left-d.right,_=Rs(g-d[b],y),S=Rs(v-d[w],x),E=!e.middlewareData.shift;let C=_,T=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=x),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=y),E&&!h){const $=gr(d.left,0),Y=gr(d.right,0),U=gr(d.top,0),J=gr(d.bottom,0);m?T=v-2*($!==0||Y!==0?$+Y:gr(d.left,d.right)):C=g-2*(U!==0||J!==0?U+J:gr(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const L=await o.getDimensions(a.floating);return v!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function Tu(){return typeof window<"u"}function Mo(t){return k1(t)?(t.nodeName||"").toLowerCase():"#document"}function _r(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cn(t){var e;return(e=(k1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function k1(t){return Tu()?t instanceof Node||t instanceof _r(t).Node:!1}function an(t){return Tu()?t instanceof Element||t instanceof _r(t).Element:!1}function En(t){return Tu()?t instanceof HTMLElement||t instanceof _r(t).HTMLElement:!1}function kv(t){return!Tu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _r(t).ShadowRoot}const Xj=new Set(["inline","contents"]);function cl(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=ln(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Xj.has(s)}const Zj=new Set(["table","td","th"]);function eN(t){return Zj.has(Mo(t))}const tN=[":popover-open",":modal"];function ju(t){return tN.some(e=>{try{return t.matches(e)}catch{return!1}})}const rN=["transform","translate","scale","rotate","perspective"],nN=["transform","translate","scale","rotate","perspective","filter"],sN=["paint","layout","strict","content"];function lm(t){const e=cm(),r=an(t)?ln(t):t;return rN.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||nN.some(n=>(r.willChange||"").includes(n))||sN.some(n=>(r.contain||"").includes(n))}function iN(t){let e=As(t);for(;En(e)&&!No(e);){if(lm(e))return e;if(ju(e))return null;e=As(e)}return null}function cm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oN=new Set(["html","body","#document"]);function No(t){return oN.has(Mo(t))}function ln(t){return _r(t).getComputedStyle(t)}function Nu(t){return an(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function As(t){if(Mo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kv(t)&&t.host||Cn(t);return kv(e)?e.host:e}function T1(t){const e=As(t);return No(e)?t.ownerDocument?t.ownerDocument.body:t.body:En(e)&&cl(e)?e:T1(e)}function Fa(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=T1(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=_r(s);if(i){const a=ff(o);return e.concat(o,o.visualViewport||[],cl(s)?s:[],a&&r?Fa(a):[])}return e.concat(s,Fa(s,[],r))}function ff(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function j1(t){const e=ln(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=En(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,a=Hc(r)!==i||Hc(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function um(t){return an(t)?t:t.contextElement}function oo(t){const e=um(t);if(!En(e))return Sn(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=j1(e);let o=(i?Hc(r.width):r.width)/n,a=(i?Hc(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const aN=Sn(0);function N1(t){const e=_r(t);return!cm()||!e.visualViewport?aN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lN(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==_r(t)?!1:e}function fi(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=um(t);let o=Sn(1);e&&(n?an(n)&&(o=oo(n)):o=oo(t));const a=lN(i,r,n)?N1(i):Sn(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const h=_r(i),m=n&&an(n)?_r(n):n;let v=h,g=ff(v);for(;g&&n&&m!==v;){const b=oo(g),w=g.getBoundingClientRect(),y=ln(g),x=w.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,_=w.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,p*=b.y,l+=x,u+=_,v=_r(g),g=ff(v)}}return qc({width:d,height:p,x:l,y:u})}function dm(t,e){const r=Nu(t).scrollLeft;return e?e.left+r:fi(Cn(t)).left+r}function O1(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:dm(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function cN(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=Cn(n),a=e?ju(e.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Sn(1);const d=Sn(0),p=En(n);if((p||!p&&!i)&&((Mo(n)!=="body"||cl(o))&&(l=Nu(n)),En(n))){const m=fi(n);u=oo(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!p&&!i?O1(o,l,!0):Sn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function uN(t){return Array.from(t.getClientRects())}function dN(t){const e=Cn(t),r=Nu(t),n=t.ownerDocument.body,s=gr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=gr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+dm(t);const a=-r.scrollTop;return ln(n).direction==="rtl"&&(o+=gr(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function hN(t,e){const r=_r(t),n=Cn(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=cm();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const fN=new Set(["absolute","fixed"]);function pN(t,e){const r=fi(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=En(t)?oo(t):Sn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:a,x:l,y:u}}function Tv(t,e,r){let n;if(e==="viewport")n=hN(t,r);else if(e==="document")n=dN(Cn(t));else if(an(e))n=pN(e,r);else{const s=N1(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return qc(n)}function P1(t,e){const r=As(t);return r===e||!an(r)||No(r)?!1:ln(r).position==="fixed"||P1(r,e)}function mN(t,e){const r=e.get(t);if(r)return r;let n=Fa(t,[],!1).filter(a=>an(a)&&Mo(a)!=="body"),s=null;const i=ln(t).position==="fixed";let o=i?As(t):t;for(;an(o)&&!No(o);){const a=ln(o),l=lm(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&fN.has(s.position)||cl(o)&&!l&&P1(t,o))?n=n.filter(d=>d!==o):s=a,o=As(o)}return e.set(t,n),n}function gN(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?ju(e)?[]:mN(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,d)=>{const p=Tv(e,d,s);return u.top=gr(p.top,u.top),u.right=Rs(p.right,u.right),u.bottom=Rs(p.bottom,u.bottom),u.left=gr(p.left,u.left),u},Tv(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vN(t){const{width:e,height:r}=j1(t);return{width:e,height:r}}function yN(t,e,r){const n=En(e),s=Cn(e),i=r==="fixed",o=fi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Sn(0);function u(){l.x=dm(s)}if(n||!n&&!i)if((Mo(e)!=="body"||cl(s))&&(a=Nu(e)),n){const m=fi(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?O1(s,a):Sn(0),p=o.left+a.scrollLeft-l.x-d.x,h=o.top+a.scrollTop-l.y-d.y;return{x:p,y:h,width:o.width,height:o.height}}function jd(t){return ln(t).position==="static"}function jv(t,e){if(!En(t)||ln(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Cn(t)===r&&(r=r.ownerDocument.body),r}function R1(t,e){const r=_r(t);if(ju(t))return r;if(!En(t)){let s=As(t);for(;s&&!No(s);){if(an(s)&&!jd(s))return s;s=As(s)}return r}let n=jv(t,e);for(;n&&eN(n)&&jd(n);)n=jv(n,e);return n&&No(n)&&jd(n)&&!lm(n)?r:n||iN(t)||r}const wN=async function(t){const e=this.getOffsetParent||R1,r=this.getDimensions,n=await r(t.floating);return{reference:yN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xN(t){return ln(t).direction==="rtl"}const bN={convertOffsetParentRelativeRectToViewportRelativeRect:cN,getDocumentElement:Cn,getClippingRect:gN,getOffsetParent:R1,getElementRects:wN,getClientRects:uN,getDimensions:vN,getScale:oo,isElement:an,isRTL:xN};function A1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _N(t,e){let r=null,n;const s=Cn(t);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:p,width:h,height:m}=u;if(a||e(),!h||!m)return;const v=$l(p),g=$l(s.clientWidth-(d+h)),b=$l(s.clientHeight-(p+m)),w=$l(d),x={rootMargin:-v+"px "+-g+"px "+-b+"px "+-w+"px",threshold:gr(0,Rs(1,l))||1};let _=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!_)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!A1(u,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(t)}return o(!0),i}function SN(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=um(t),d=s||i?[...u?Fa(u):[],...Fa(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const p=u&&a?_N(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),r()}),u&&!l&&m.observe(u),m.observe(e));let v,g=l?fi(t):null;l&&b();function b(){const w=fi(t);g&&!A1(g,w)&&r(),g=w,v=requestAnimationFrame(b)}return r(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),p==null||p(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const EN=Gj,CN=Qj,kN=Vj,TN=Jj,jN=qj,Nv=Hj,NN=Yj,ON=(t,e,r)=>{const n=new Map,s={platform:bN,...r},i={...s.platform,_c:n};return Wj(t,e,{...s,platform:i})};var PN=typeof document<"u",RN=function(){},hc=PN?f.useLayoutEffect:RN;function Kc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Kc(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Kc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function I1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ov(t,e){const r=I1(t);return Math.round(e*r)/r}function Nd(t){const e=f.useRef(t);return hc(()=>{e.current=t}),e}function AN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,p]=f.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=f.useState(n);Kc(h,n)||m(n);const[v,g]=f.useState(null),[b,w]=f.useState(null),y=f.useCallback(j=>{j!==E.current&&(E.current=j,g(j))},[]),x=f.useCallback(j=>{j!==C.current&&(C.current=j,w(j))},[]),_=i||v,S=o||b,E=f.useRef(null),C=f.useRef(null),T=f.useRef(d),L=l!=null,$=Nd(l),Y=Nd(s),U=Nd(u),J=f.useCallback(()=>{if(!E.current||!C.current)return;const j={placement:e,strategy:r,middleware:h};Y.current&&(j.platform=Y.current),ON(E.current,C.current,j).then(O=>{const H={...O,isPositioned:U.current!==!1};R.current&&!Kc(T.current,H)&&(T.current=H,xi.flushSync(()=>{p(H)}))})},[h,e,r,Y,U]);hc(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[u]);const R=f.useRef(!1);hc(()=>(R.current=!0,()=>{R.current=!1}),[]),hc(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if($.current)return $.current(_,S,J);J()}},[_,S,J,$,L]);const K=f.useMemo(()=>({reference:E,floating:C,setReference:y,setFloating:x}),[y,x]),M=f.useMemo(()=>({reference:_,floating:S}),[_,S]),V=f.useMemo(()=>{const j={position:r,left:0,top:0};if(!M.floating)return j;const O=Ov(M.floating,d.x),H=Ov(M.floating,d.y);return a?{...j,transform:"translate("+O+"px, "+H+"px)",...I1(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:H}},[r,a,M.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:J,refs:K,elements:M,floatingStyles:V}),[d,J,K,M,V])}const IN=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Nv({element:n.current,padding:s}).fn(r):{}:n?Nv({element:n,padding:s}).fn(r):{}}}},DN=(t,e)=>({...EN(t),options:[t,e]}),LN=(t,e)=>({...CN(t),options:[t,e]}),MN=(t,e)=>({...NN(t),options:[t,e]}),$N=(t,e)=>({...kN(t),options:[t,e]}),UN=(t,e)=>({...TN(t),options:[t,e]}),FN=(t,e)=>({...jN(t),options:[t,e]}),BN=(t,e)=>({...IN(t),options:[t,e]});var zN="Arrow",D1=f.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return c.jsx(Te.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});D1.displayName=zN;var WN=D1;function HN(t){const[e,r]=f.useState(void 0);return Dt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var hm="Popper",[L1,Ou]=Kn(hm),[VN,M1]=L1(hm),$1=t=>{const{__scopePopper:e,children:r}=t,[n,s]=f.useState(null);return c.jsx(VN,{scope:e,anchor:n,onAnchorChange:s,children:r})};$1.displayName=hm;var U1="PopperAnchor",F1=f.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=M1(U1,r),o=f.useRef(null),a=Fe(e,o);return f.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:c.jsx(Te.div,{...s,ref:a})});F1.displayName=U1;var fm="PopperContent",[qN,KN]=L1(fm),B1=f.forwardRef((t,e)=>{var A,ne,de,le,ie,ge;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,b=M1(fm,r),[w,y]=f.useState(null),x=Fe(e,We=>y(We)),[_,S]=f.useState(null),E=HN(_),C=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,L=n+(i!=="center"?"-"+i:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Y=Array.isArray(u)?u:[u],U=Y.length>0,J={padding:$,boundary:Y.filter(QN),altBoundary:U},{refs:R,floatingStyles:K,placement:M,isPositioned:V,middlewareData:j}=AN({strategy:"fixed",placement:L,whileElementsMounted:(...We)=>SN(...We,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[DN({mainAxis:s+T,alignmentAxis:o}),l&&LN({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?MN():void 0,...J}),l&&$N({...J}),UN({...J,apply:({elements:We,rects:gt,availableWidth:Lt,availableHeight:ut})=>{const{width:Vt,height:qt}=gt.reference,kr=We.floating.style;kr.setProperty("--radix-popper-available-width",`${Lt}px`),kr.setProperty("--radix-popper-available-height",`${ut}px`),kr.setProperty("--radix-popper-anchor-width",`${Vt}px`),kr.setProperty("--radix-popper-anchor-height",`${qt}px`)}}),_&&BN({element:_,padding:a}),YN({arrowWidth:C,arrowHeight:T}),h&&FN({strategy:"referenceHidden",...J})]}),[O,H]=H1(M),Z=Fr(v);Dt(()=>{V&&(Z==null||Z())},[V,Z]);const k=(A=j.arrow)==null?void 0:A.x,W=(ne=j.arrow)==null?void 0:ne.y,z=((de=j.arrow)==null?void 0:de.centerOffset)!==0,[X,ae]=f.useState();return Dt(()=>{w&&ae(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:V?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(le=j.transformOrigin)==null?void 0:le.x,(ie=j.transformOrigin)==null?void 0:ie.y].join(" "),...((ge=j.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(qN,{scope:r,placedSide:O,onArrowChange:S,arrowX:k,arrowY:W,shouldHideArrow:z,children:c.jsx(Te.div,{"data-side":O,"data-align":H,...g,ref:x,style:{...g.style,animation:V?void 0:"none"}})})})});B1.displayName=fm;var z1="PopperArrow",GN={top:"bottom",right:"left",bottom:"top",left:"right"},W1=f.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=KN(z1,n),o=GN[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(WN,{...s,ref:r,style:{...s.style,display:"block"}})})});W1.displayName=z1;function QN(t){return t!==null}var YN=t=>({name:"transformOrigin",options:t,fn(e){var b,w,y;const{placement:r,rects:n,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=H1(r),p={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let v="",g="";return u==="bottom"?(v=o?p:`${h}px`,g=`${-l}px`):u==="top"?(v=o?p:`${h}px`,g=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,g=o?p:`${m}px`):u==="left"&&(v=`${n.floating.width+l}px`,g=o?p:`${m}px`),{data:{x:v,y:g}}}});function H1(t){const[e,r="center"]=t.split("-");return[e,r]}var JN=$1,V1=F1,q1=B1,K1=W1,[Pu,TM]=Kn("Tooltip",[Ou]),pm=Ou(),G1="TooltipProvider",XN=700,Pv="tooltip.open",[ZN,Q1]=Pu(G1),Y1=t=>{const{__scopeTooltip:e,delayDuration:r=XN,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,o=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(ZN,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};Y1.displayName=G1;var J1="Tooltip",[jM,Ru]=Pu(J1),pf="TooltipTrigger",eO=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Ru(pf,r),i=Q1(pf,r),o=pm(r),a=f.useRef(null),l=Fe(e,a,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),p=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(V1,{asChild:!0,...o,children:c.jsx(Te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:fe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:fe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});eO.displayName=pf;var tO="TooltipPortal",[NM,rO]=Pu(tO,{forceMount:void 0}),Oo="TooltipContent",X1=f.forwardRef((t,e)=>{const r=rO(Oo,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=Ru(Oo,t.__scopeTooltip);return c.jsx(_i,{present:n||o.open,children:o.disableHoverableContent?c.jsx(Z1,{side:s,...i,ref:e}):c.jsx(nO,{side:s,...i,ref:e})})}),nO=f.forwardRef((t,e)=>{const r=Ru(Oo,t.__scopeTooltip),n=Q1(Oo,t.__scopeTooltip),s=f.useRef(null),i=Fe(e,s),[o,a]=f.useState(null),{trigger:l,onClose:u}=r,d=s.current,{onPointerInTransitChange:p}=n,h=f.useCallback(()=>{a(null),p(!1)},[p]),m=f.useCallback((v,g)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},y=lO(w,b.getBoundingClientRect()),x=cO(w,y),_=uO(g.getBoundingClientRect()),S=hO([...x,..._]);a(S),p(!0)},[p]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const v=b=>m(b,d),g=b=>m(b,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),f.useEffect(()=>{if(o){const v=g=>{const b=g.target,w={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!dO(w,o);y?h():x&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,u,h]),c.jsx(Z1,{...t,ref:i})}),[sO,iO]=Pu(J1,{isInside:!1}),oO=Px("TooltipContent"),Z1=f.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Ru(Oo,r),u=pm(r),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Pv,d),()=>document.removeEventListener(Pv,d)),[d]),f.useEffect(()=>{if(l.trigger){const p=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),c.jsx(al,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:c.jsxs(q1,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(oO,{children:n}),c.jsx(sO,{scope:r,isInside:!0,children:c.jsx(N2,{id:l.contentId,role:"tooltip",children:s||n})})]})})});X1.displayName=Oo;var eb="TooltipArrow",aO=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=pm(r);return iO(eb,r).isInside?null:c.jsx(K1,{...s,...n,ref:e})});aO.displayName=eb;function lO(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cO(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function uO(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function dO(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,p=l.x,h=l.y;d>n!=h>n&&r<(p-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function hO(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),fO(e)}function fO(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var pO=Y1,tb=X1;const mO=pO,gO=f.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(tb,{ref:n,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));gO.displayName=tb.displayName;var Au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Iu=typeof window>"u"||"Deno"in globalThis;function Gr(){}function vO(t,e){return typeof t=="function"?t(e):t}function yO(t){return typeof t=="number"&&t>=0&&t!==1/0}function wO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mf(t,e){return typeof t=="function"?t(e):t}function xO(t,e){return typeof t=="function"?t(e):t}function Rv(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==mm(o,e.options))return!1}else if(!za(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Av(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Ba(e.options.mutationKey)!==Ba(i))return!1}else if(!za(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function mm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ba)(t)}function Ba(t){return JSON.stringify(t,(e,r)=>gf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function za(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>za(t[r],e[r])):!1}function rb(t,e){if(t===e)return t;const r=Iv(t)&&Iv(e);if(r||gf(t)&&gf(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<o;d++){const p=r?d:i[d];(!r&&l.has(p)||r)&&t[p]===void 0&&e[p]===void 0?(a[p]=void 0,u++):(a[p]=rb(t[p],e[p]),a[p]===t[p]&&t[p]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Iv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gf(t){if(!Dv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Dv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Dv(t){return Object.prototype.toString.call(t)==="[object Object]"}function bO(t){return new Promise(e=>{setTimeout(e,t)})}function _O(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?rb(t,e):e}function SO(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function EO(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var gm=Symbol();function nb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===gm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Zs,ds,uo,oy,CO=(oy=class extends Au{constructor(){super();Pe(this,Zs);Pe(this,ds);Pe(this,uo);be(this,uo,e=>{if(!Iu&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,ds)||this.setEventListener(F(this,uo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ds))==null||e.call(this),be(this,ds,void 0))}setEventListener(e){var r;be(this,uo,e),(r=F(this,ds))==null||r.call(this),be(this,ds,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){F(this,Zs)!==e&&(be(this,Zs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof F(this,Zs)=="boolean"?F(this,Zs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zs=new WeakMap,ds=new WeakMap,uo=new WeakMap,oy),sb=new CO,ho,hs,fo,ay,kO=(ay=class extends Au{constructor(){super();Pe(this,ho,!0);Pe(this,hs);Pe(this,fo);be(this,fo,e=>{if(!Iu&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,hs)||this.setEventListener(F(this,fo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,hs))==null||e.call(this),be(this,hs,void 0))}setEventListener(e){var r;be(this,fo,e),(r=F(this,hs))==null||r.call(this),be(this,hs,e(this.setOnline.bind(this)))}setOnline(e){F(this,ho)!==e&&(be(this,ho,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return F(this,ho)}},ho=new WeakMap,hs=new WeakMap,fo=new WeakMap,ay),Gc=new kO;function TO(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function jO(t){return Math.min(1e3*2**t,3e4)}function ib(t){return(t??"online")==="online"?Gc.isOnline():!0}var ob=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Od(t){return t instanceof ob}function ab(t){let e=!1,r=0,n=!1,s;const i=TO(),o=g=>{var b;n||(h(new ob(g)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>sb.isFocused()&&(t.networkMode==="always"||Gc.isOnline())&&t.canRun(),d=()=>ib(t.networkMode)&&t.canRun(),p=g=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var b;s=w=>{(n||u())&&g(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;s=void 0,n||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(n)return;let g;const b=r===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(p).catch(w=>{var E;if(n)return;const y=t.retry??(Iu?0:3),x=t.retryDelay??jO,_=typeof x=="function"?x(r,w):x,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(e||!S){h(w);return}r++,(E=t.onFail)==null||E.call(t,r,w),bO(_).then(()=>u()?void 0:m()).then(()=>{e?h(w):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),i)}}var NO=t=>setTimeout(t,0);function OO(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=NO;const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Jt=OO(),ei,ly,lb=(ly=class{constructor(){Pe(this,ei)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yO(this.gcTime)&&be(this,ei,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Iu?1/0:5*60*1e3))}clearGcTimeout(){F(this,ei)&&(clearTimeout(F(this,ei)),be(this,ei,void 0))}},ei=new WeakMap,ly),po,ti,Rr,ri,zt,el,ni,Yr,On,cy,PO=(cy=class extends lb{constructor(e){super();Pe(this,Yr);Pe(this,po);Pe(this,ti);Pe(this,Rr);Pe(this,ri);Pe(this,zt);Pe(this,el);Pe(this,ni);be(this,ni,!1),be(this,el,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,ri,e.client),be(this,Rr,F(this,ri).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,po,AO(this.options)),this.state=e.state??F(this,po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=F(this,zt))==null?void 0:e.promise}setOptions(e){this.options={...F(this,el),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Rr).remove(this)}setData(e,r){const n=_O(this.state.data,e,this.options);return $t(this,Yr,On).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){$t(this,Yr,On).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=F(this,zt))==null?void 0:n.promise;return(s=F(this,zt))==null||s.cancel(e),r?r.then(Gr).catch(Gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,po))}isActive(){return this.observers.some(e=>xO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>mf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wO(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=F(this,zt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=F(this,zt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),F(this,Rr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(F(this,zt)&&(F(this,ni)?F(this,zt).cancel({revert:!0}):F(this,zt).cancelRetry()),this.scheduleGc()),F(this,Rr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,Yr,On).call(this,{type:"invalidate"})}fetch(e,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,zt))return F(this,zt).continueRetry(),F(this,zt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(be(this,ni,!0),n.signal)})},i=()=>{const h=nb(this.options,r),v=(()=>{const g={client:F(this,ri),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return be(this,ni,!1),this.options.persister?this.options.persister(h,v,this):h(v)},a=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,ri),state:this.state,fetchFn:i};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(a,this),be(this,ti,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&$t(this,Yr,On).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=h=>{var m,v,g,b;Od(h)&&h.silent||$t(this,Yr,On).call(this,{type:"error",error:h}),Od(h)||((v=(m=F(this,Rr).config).onError)==null||v.call(m,h,this),(b=(g=F(this,Rr).config).onSettled)==null||b.call(g,this.state.data,h,this)),this.scheduleGc()};return be(this,zt,ab({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,v,g,b;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(v=(m=F(this,Rr).config).onSuccess)==null||v.call(m,h,this),(b=(g=F(this,Rr).config).onSettled)==null||b.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{$t(this,Yr,On).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{$t(this,Yr,On).call(this,{type:"pause"})},onContinue:()=>{$t(this,Yr,On).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),F(this,zt).start()}},po=new WeakMap,ti=new WeakMap,Rr=new WeakMap,ri=new WeakMap,zt=new WeakMap,el=new WeakMap,ni=new WeakMap,Yr=new WeakSet,On=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RO(n.data,this.options),fetchMeta:e.meta??null};case"success":return be(this,ti,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Od(s)&&s.revert&&F(this,ti)?{...F(this,ti),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Jt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Rr).notify({query:this,type:"updated",action:e})})},cy);function RO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ib(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pn,uy,IO=(uy=class extends Au{constructor(e={}){super();Pe(this,pn);this.config=e,be(this,pn,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??mm(s,r);let o=this.get(i);return o||(o=new PO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,pn).has(e.queryHash)||(F(this,pn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=F(this,pn).get(e.queryHash);r&&(e.destroy(),r===e&&F(this,pn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,pn).get(e)}getAll(){return[...F(this,pn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Rv(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Rv(e,n)):r}notify(e){Jt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pn=new WeakMap,uy),mn,Qt,si,gn,rs,dy,DO=(dy=class extends lb{constructor(e){super();Pe(this,gn);Pe(this,mn);Pe(this,Qt);Pe(this,si);this.mutationId=e.mutationId,be(this,Qt,e.mutationCache),be(this,mn,[]),this.state=e.state||LO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,mn).includes(e)||(F(this,mn).push(e),this.clearGcTimeout(),F(this,Qt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,mn,F(this,mn).filter(r=>r!==e)),this.scheduleGc(),F(this,Qt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,mn).length||(this.state.status==="pending"?this.scheduleGc():F(this,Qt).remove(this))}continue(){var e;return((e=F(this,si))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,u,d,p,h,m,v,g,b,w,y,x,_,S,E,C,T;const r=()=>{$t(this,gn,rs).call(this,{type:"continue"})};be(this,si,ab({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,$)=>{$t(this,gn,rs).call(this,{type:"failed",failureCount:L,error:$})},onPause:()=>{$t(this,gn,rs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Qt).canRun(this)}));const n=this.state.status==="pending",s=!F(this,si).canStart();try{if(n)r();else{$t(this,gn,rs).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=F(this,Qt).config).onMutate)==null?void 0:o.call(i,e,this));const $=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));$!==this.state.context&&$t(this,gn,rs).call(this,{type:"pending",context:$,variables:e,isPaused:s})}const L=await F(this,si).start();return await((d=(u=F(this,Qt).config).onSuccess)==null?void 0:d.call(u,L,e,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,L,e,this.state.context)),await((v=(m=F(this,Qt).config).onSettled)==null?void 0:v.call(m,L,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,L,null,e,this.state.context)),$t(this,gn,rs).call(this,{type:"success",data:L}),L}catch(L){try{throw await((y=(w=F(this,Qt).config).onError)==null?void 0:y.call(w,L,e,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,L,e,this.state.context)),await((E=(S=F(this,Qt).config).onSettled)==null?void 0:E.call(S,void 0,L,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,L,e,this.state.context)),L}finally{$t(this,gn,rs).call(this,{type:"error",error:L})}}finally{F(this,Qt).runNext(this)}}},mn=new WeakMap,Qt=new WeakMap,si=new WeakMap,gn=new WeakSet,rs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jt.batch(()=>{F(this,mn).forEach(n=>{n.onMutationUpdate(e)}),F(this,Qt).notify({mutation:this,type:"updated",action:e})})},dy);function LO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var In,Jr,tl,hy,MO=(hy=class extends Au{constructor(e={}){super();Pe(this,In);Pe(this,Jr);Pe(this,tl);this.config=e,be(this,In,new Set),be(this,Jr,new Map),be(this,tl,0)}build(e,r,n){const s=new DO({mutationCache:this,mutationId:++vl(this,tl)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){F(this,In).add(e);const r=Ul(e);if(typeof r=="string"){const n=F(this,Jr).get(r);n?n.push(e):F(this,Jr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,In).delete(e)){const r=Ul(e);if(typeof r=="string"){const n=F(this,Jr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&F(this,Jr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ul(e);if(typeof r=="string"){const n=F(this,Jr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Ul(e);if(typeof r=="string"){const s=(n=F(this,Jr).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jt.batch(()=>{F(this,In).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,In).clear(),F(this,Jr).clear()})}getAll(){return Array.from(F(this,In))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Av(r,n))}findAll(e={}){return this.getAll().filter(r=>Av(e,r))}notify(e){Jt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Jt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Gr))))}},In=new WeakMap,Jr=new WeakMap,tl=new WeakMap,hy);function Ul(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Lv(t){return{onFetch:(e,r)=>{var d,p,h,m,v;const n=e.options,s=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=nb(e.options,e.fetchOptions),y=async(x,_,S)=>{if(g)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const Y={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return b(Y),Y})(),T=await w(C),{maxPages:L}=e.options,$=S?EO:SO;return{pages:$(x.pages,T,L),pageParams:$(x.pageParams,_,L)}};if(s&&i.length){const x=s==="backward",_=x?$O:Mv,S={pages:i,pageParams:o},E=_(n,S);a=await y(S,E,x)}else{const x=t??i.length;do{const _=l===0?o[0]??n.initialPageParam:Mv(n,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Mv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function $O(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var tt,fs,ps,mo,go,ms,vo,yo,fy,UO=(fy=class{constructor(t={}){Pe(this,tt);Pe(this,fs);Pe(this,ps);Pe(this,mo);Pe(this,go);Pe(this,ms);Pe(this,vo);Pe(this,yo);be(this,tt,t.queryCache||new IO),be(this,fs,t.mutationCache||new MO),be(this,ps,t.defaultOptions||{}),be(this,mo,new Map),be(this,go,new Map),be(this,ms,0)}mount(){vl(this,ms)._++,F(this,ms)===1&&(be(this,vo,sb.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,tt).onFocus())})),be(this,yo,Gc.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,tt).onOnline())})))}unmount(){var t,e;vl(this,ms)._--,F(this,ms)===0&&((t=F(this,vo))==null||t.call(this),be(this,vo,void 0),(e=F(this,yo))==null||e.call(this),be(this,yo,void 0))}isFetching(t){return F(this,tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,fs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=F(this,tt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=F(this,tt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(mf(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return F(this,tt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=F(this,tt).get(n.queryHash),i=s==null?void 0:s.state.data,o=vO(e,i);if(o!==void 0)return F(this,tt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Jt.batch(()=>F(this,tt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=F(this,tt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=F(this,tt);Jt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=F(this,tt);return Jt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Jt.batch(()=>F(this,tt).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Gr).catch(Gr)}invalidateQueries(t,e={}){return Jt.batch(()=>(F(this,tt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Jt.batch(()=>F(this,tt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Gr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Gr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=F(this,tt).build(this,e);return r.isStaleByTime(mf(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gr).catch(Gr)}fetchInfiniteQuery(t){return t.behavior=Lv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gr).catch(Gr)}ensureInfiniteQueryData(t){return t.behavior=Lv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gc.isOnline()?F(this,fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,tt)}getMutationCache(){return F(this,fs)}getDefaultOptions(){return F(this,ps)}setDefaultOptions(t){be(this,ps,t)}setQueryDefaults(t,e){F(this,mo).set(Ba(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,mo).values()],r={};return e.forEach(n=>{za(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){F(this,go).set(Ba(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,go).values()],r={};return e.forEach(n=>{za(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,ps).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,ps).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,tt).clear(),F(this,fs).clear()}},tt=new WeakMap,fs=new WeakMap,ps=new WeakMap,mo=new WeakMap,go=new WeakMap,ms=new WeakMap,vo=new WeakMap,yo=new WeakMap,fy),FO=f.createContext(void 0),BO=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(FO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wa.apply(this,arguments)}var ys;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ys||(ys={}));const $v="popstate";function zO(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return vf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qc(s)}return HO(e,r,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WO(){return Math.random().toString(36).substr(2,8)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function vf(t,e,r,n){return r===void 0&&(r=null),Wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$o(e):e,{state:r,key:e&&e.key||n||WO()})}function Qc(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $o(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function HO(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ys.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Wa({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=ys.Pop;let b=d(),w=b==null?null:b-u;u=b,l&&l({action:a,location:g.location,delta:w})}function h(b,w){a=ys.Push;let y=vf(g.location,b,w);u=d()+1;let x=Uv(y,u),_=g.createHref(y);try{o.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:g.location,delta:1})}function m(b,w){a=ys.Replace;let y=vf(g.location,b,w);u=d();let x=Uv(y,u),_=g.createHref(y);o.replaceState(x,"",_),i&&l&&l({action:a,location:g.location,delta:0})}function v(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:Qc(b);return y=y.replace(/ $/,"%20"),ct(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let g={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($v,p),l=b,()=>{s.removeEventListener($v,p),l=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:m,go(b){return o.go(b)}};return g}var Fv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fv||(Fv={}));function VO(t,e,r){return r===void 0&&(r="/"),qO(t,e,r,!1)}function qO(t,e,r,n){let s=typeof e=="string"?$o(e):e,i=vm(s.pathname||"/",r);if(i==null)return null;let o=ub(t);KO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=sP(i);a=rP(o[l],u,n)}return a}function ub(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=js([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ub(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:eP(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of db(i.path))s(i,o,l)}),e}function db(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=db(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KO(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:tP(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GO=/^:[\w-]+$/,QO=3,YO=2,JO=1,XO=10,ZO=-2,Bv=t=>t==="*";function eP(t,e){let r=t.split("/"),n=r.length;return r.some(Bv)&&(n+=ZO),e&&(n+=YO),r.filter(s=>!Bv(s)).reduce((s,i)=>s+(GO.test(i)?QO:i===""?JO:XO),n)}function tP(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function rP(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=zv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=zv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:js([i,p.pathname]),pathnameBase:lP(js([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=js([i,p.pathnameBase]))}return o}function zv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=nP(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,p)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=a[p]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[p];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function nP(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),cb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function sP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function iP(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?$o(t):t;return{pathname:r?r.startsWith("/")?r:oP(r,e):e,search:cP(n),hash:uP(s)}}function oP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Pd(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function hb(t,e){let r=aP(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fb(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=$o(t):(s=Wa({},t),ct(!s.pathname||!s.pathname.includes("?"),Pd("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Pd("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Pd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}a=p>=0?e[p]:"/"}let l=iP(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const js=t=>t.join("/").replace(/\/\/+/g,"/"),lP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pb=["post","put","patch","delete"];new Set(pb);const hP=["get",...pb];new Set(hP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ha.apply(this,arguments)}const ym=f.createContext(null),fP=f.createContext(null),Si=f.createContext(null),Du=f.createContext(null),Ms=f.createContext({outlet:null,matches:[],isDataRoute:!1}),mb=f.createContext(null);function pP(t,e){let{relative:r}=e===void 0?{}:e;ul()||ct(!1);let{basename:n,navigator:s}=f.useContext(Si),{hash:i,pathname:o,search:a}=vb(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:js([n,o])),s.createHref({pathname:l,search:a,hash:i})}function ul(){return f.useContext(Du)!=null}function dl(){return ul()||ct(!1),f.useContext(Du).location}function gb(t){f.useContext(Si).static||f.useLayoutEffect(t)}function hl(){let{isDataRoute:t}=f.useContext(Ms);return t?jP():mP()}function mP(){ul()||ct(!1);let t=f.useContext(ym),{basename:e,future:r,navigator:n}=f.useContext(Si),{matches:s}=f.useContext(Ms),{pathname:i}=dl(),o=JSON.stringify(hb(s,r.v7_relativeSplatPath)),a=f.useRef(!1);return gb(()=>{a.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let p=fb(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:js([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,o,i,t])}function gP(){let{matches:t}=f.useContext(Ms),e=t[t.length-1];return e?e.params:{}}function vb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=f.useContext(Si),{matches:s}=f.useContext(Ms),{pathname:i}=dl(),o=JSON.stringify(hb(s,n.v7_relativeSplatPath));return f.useMemo(()=>fb(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function vP(t,e){return yP(t,e)}function yP(t,e,r,n){ul()||ct(!1);let{navigator:s}=f.useContext(Si),{matches:i}=f.useContext(Ms),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=dl(),d;if(e){var p;let b=typeof e=="string"?$o(e):e;l==="/"||(p=b.pathname)!=null&&p.startsWith(l)||ct(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=VO(t,{pathname:m}),g=SP(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:js([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:js([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&g?f.createElement(Du.Provider,{value:{location:Ha({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ys.Pop}},g):g}function wP(){let t=TP(),e=dP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),r?f.createElement("pre",{style:s},r):null,null)}const xP=f.createElement(wP,null);class bP extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?f.createElement(Ms.Provider,{value:this.props.routeContext},f.createElement(mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _P(t){let{routeContext:e,match:r,children:n}=t,s=f.useContext(ym);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(Ms.Provider,{value:e},n)}function SP(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||ct(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:h,errors:m}=r,v=p.route.loader&&h[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let m,v=!1,g=null,b=null;r&&(m=a&&p.route.id?a[p.route.id]:void 0,g=p.route.errorElement||xP,l&&(u<0&&h===0?(v=!0,b=null):u===h&&(v=!0,b=p.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),y=()=>{let x;return m?x=g:v?x=b:p.route.Component?x=f.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,f.createElement(_P,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:x})};return r&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?f.createElement(bP,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var yb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yb||{}),Yc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yc||{});function EP(t){let e=f.useContext(ym);return e||ct(!1),e}function CP(t){let e=f.useContext(fP);return e||ct(!1),e}function kP(t){let e=f.useContext(Ms);return e||ct(!1),e}function wb(t){let e=kP(),r=e.matches[e.matches.length-1];return r.route.id||ct(!1),r.route.id}function TP(){var t;let e=f.useContext(mb),r=CP(Yc.UseRouteError),n=wb(Yc.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function jP(){let{router:t}=EP(yb.UseNavigateStable),e=wb(Yc.UseNavigateStable),r=f.useRef(!1);return gb(()=>{r.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ha({fromRouteId:e},i)))},[t,e])}function NP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Pr(t){ct(!1)}function OP(t){let{basename:e="/",children:r=null,location:n,navigationType:s=ys.Pop,navigator:i,static:o=!1,future:a}=t;ul()&&ct(!1);let l=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:l,navigator:i,static:o,future:Ha({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=$o(n));let{pathname:d="/",search:p="",hash:h="",state:m=null,key:v="default"}=n,g=f.useMemo(()=>{let b=vm(d,l);return b==null?null:{location:{pathname:b,search:p,hash:h,state:m,key:v},navigationType:s}},[l,d,p,h,m,v,s]);return g==null?null:f.createElement(Si.Provider,{value:u},f.createElement(Du.Provider,{children:r,value:g}))}function Wv(t){let{children:e,location:r}=t;return vP(yf(e),r)}new Promise(()=>{});function yf(t,e){e===void 0&&(e=[]);let r=[];return f.Children.forEach(t,(n,s)=>{if(!f.isValidElement(n))return;let i=[...e,s];if(n.type===f.Fragment){r.push.apply(r,yf(n.props.children,i));return}n.type!==Pr&&ct(!1),!n.props.index||!n.props.children||ct(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yf(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}function PP(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function RP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AP(t,e){return t.button===0&&(!e||e==="_self")&&!RP(t)}const IP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DP="6";try{window.__reactRouterVersion=DP}catch{}const LP="startTransition",Hv=ap[LP];function MP(t){let{basename:e,children:r,future:n,window:s}=t,i=f.useRef();i.current==null&&(i.current=zO({window:s,v5Compat:!0}));let o=i.current,[a,l]=f.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=f.useCallback(p=>{u&&Hv?Hv(()=>l(p)):l(p)},[l,u]);return f.useLayoutEffect(()=>o.listen(d),[o,d]),f.useEffect(()=>NP(n),[n]),f.createElement(OP,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const $P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=f.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:p}=e,h=PP(e,IP),{basename:m}=f.useContext(Si),v,g=!1;if(typeof u=="string"&&UP.test(u)&&(v=u,$P))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=vm(_.pathname,m);_.origin===x.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let b=pP(u,{relative:s}),w=FP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:p});function y(x){n&&n(x),x.defaultPrevented||w(x)}return f.createElement("a",wf({},h,{href:v||b,onClick:g||i?n:y,ref:r,target:l}))});var Vv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vv||(Vv={}));var qv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qv||(qv={}));function FP(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=hl(),u=dl(),d=vb(t,{relative:o});return f.useCallback(p=>{if(AP(p,r)){p.preventDefault();let h=n!==void 0?n:Qc(u)===Qc(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,t,i,o,a])}var wn=function(){return wn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wn.apply(this,arguments)};function Uo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function BP(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(p){o(p)}}function l(d){try{u(n.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function zP(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}const WP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class wm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class HP extends wm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Kv extends wm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gv extends wm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xf||(xf={}));class VP{constructor(e,{headers:r={},customFetch:n,region:s=xf.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=WP(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return BP(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:p}=n;let h={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let b=d;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:b}).catch(S=>{throw new HP(S)}),y=w.headers.get("x-relay-error");if(y&&y==="true")throw new Kv(w);if(!w.ok)throw new Gv(w);let x=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield w.json():x==="application/octet-stream"||x==="application/pdf"?_=yield w.blob():x==="text/event-stream"?_=w:x==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Gv||a instanceof Kv?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var qP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},KP=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,d=i.statusText;if(i.ok){var p,h;if(r.method!=="HEAD"){var m;const w=await i.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}const g=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),b=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&b&&b.length>1&&(l=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const g=await i.text();try{o=JSON.parse(g),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,d="OK")}catch{i.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new qP(o)}return{error:o,data:a,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,d,p,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",g=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,g&&(a+=` (${g})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},GP=class extends KP{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Qv=new RegExp("[,()]");var Mi=class extends GP{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},QP=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Mi({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new Mi({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Mi({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Mi({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Mi({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},YP=class xb{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new QP(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,h])=>h!==void 0).map(([p,h])=>[p,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([p,h])=>{l.searchParams.append(p,h)})):(a="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Mi({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class JP{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const XP="2.89.0",ZP=`realtime-js/${XP}`,bb="1.0.0",eR="2.0.0",Yv=bb,bf=1e4,tR=1e3,rR=100;var os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(os||(os={}));var ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ht||(ht={}));var Zr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zr||(Zr={}));var _f;(function(t){t.websocket="websocket"})(_f||(_f={}));var Ks;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ks||(Ks={}));class nR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+p.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,l.length),v.setUint8(g++,a.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,p.length),v.setUint8(g++,r),Array.from(l,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(a,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(o,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(u,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(p,w=>v.setUint8(g++,w.charCodeAt(0)));var b=new Uint8Array(m.byteLength+n.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(n),m.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const p=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(v.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class _b{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Be||(Be={}));const Jv=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=sR(o,t,e,s),i),{}):{}},sR=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Sb(i,o):Sf(o)},Sb=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return lR(e,r)}switch(t){case Be.bool:return iR(e);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return oR(e);case Be.json:case Be.jsonb:return aR(e);case Be.timestamp:return cR(e);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Sf(e);default:return Sf(e)}},Sf=t=>t,iR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},oR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},lR=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Sb(e,a))}return t},cR=t=>typeof t=="string"?t.replace(" ","T"):t,Eb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Rd{constructor(e,r,n={},s=bf){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Xv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Xv||(Xv={}));class va{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=va.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=va.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=va.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const p=i[u];if(p){const h=d.map(b=>b.presence_ref),m=p.map(b=>b.presence_ref),v=d.filter(b=>m.indexOf(b.presence_ref)<0),g=p.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(a[u]=v),g.length>0&&(l[u]=g)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const p=e[a].map(m=>m.presence_ref),h=d.filter(m=>p.indexOf(m.presence_ref)<0);e[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zv||(Zv={}));var ya;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ya||(ya={}));var Rn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class Xi{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rd(this,Zr.join,this.params,this.timeout),this.rejoinTimer=new _b(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new va(this),this.broadcastEndpointURL=Eb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ya.PRESENCE]&&this.bindings[ya.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Rn.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Rn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Rn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,w=[];for(let y=0;y<b;y++){const x=g[y],{filter:{event:_,schema:S,table:E,filter:C}}=x,T=m&&m[y];if(T&&T.event===_&&Xi.isFilterValueEqual(T.schema,S)&&Xi.isFilterValueEqual(T.table,E)&&Xi.isFilterValueEqual(T.filter,C))w.push(Object.assign(Object.assign({},x),{id:T.id}));else{this.unsubscribe(),this.state=ht.errored,e==null||e(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Rn.SUBSCRIBED);return}}).receive("error",m=>{this.state=ht.errored,e==null||e(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ht.joined&&e===ya.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Rd(this,Zr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rd(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Zr;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,b;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,g,b,w,y,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,S=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(y=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:b,commit_timestamp:w,type:y,errors:x}=v;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:w,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xi.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zr.close,{},e)}_onError(e){this._on(Zr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Jv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Jv(e.columns,e.old_record)),r}}const Ad=()=>{},Fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uR=[1e3,2e3,5e3,1e4],dR=1e4,hR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fR{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bf,this.transport=null,this.heartbeatIntervalMs=Fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ad,this.ref=0,this.reconnectTimer=null,this.vsn=Yv,this.logger=Ad,this.conn=null,this.sendBuffer=[],this.serializer=new nR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${_f.websocket}`,this.httpEndpoint=Eb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return Ks.Connecting;case os.open:return Ks.Open;case os.closing:return Ks.Closing;default:return Ks.Closed}}isConnected(){return this.connectionState()===Ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Xi(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===os.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===os.open||this.conn.readyState===os.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([hR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:ZP};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Zr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _b(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,d,p,h,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:bf,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Fl.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ad,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Yv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>uR[v-1]||dR,this.vsn){case bb:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(v,g)=>g(JSON.parse(v));break;case eR:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Va=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pR(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function mR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function gR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=pR(t.baseUrl,n,s),l=await mR(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),h=p&&d?JSON.parse(d):d;if(!u.ok){const m=p?h:void 0,v=m==null?void 0:m.error;throw new Va((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Bl(t){return t.join("")}var vR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Bl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bl(t.namespace)}`}),!0}catch(e){if(e instanceof Va&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Va&&r.status===409)return;throw r}}};function Ti(t){return t.join("")}var yR=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ti(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ti(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ti(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ti(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ti(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ti(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Va&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Va&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},wR=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=gR({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new vR(this.client,e),this.tableOps=new yR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Lu=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var xR=class extends Lu{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ef=class extends Lu{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const xm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bR=()=>Response,Cf=t=>{if(Array.isArray(t))return t.map(r=>Cf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Cf(n)}),e},_R=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},SR=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function ER(t,e){if(qa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CR(t){var e=ER(t,"string");return qa(e)=="symbol"?e:e+""}function kR(t,e,r){return(e=CR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e0(Object(r),!0).forEach(function(n){kR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Id=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},TR=async(t,e,r)=>{t instanceof await bR()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new xR(Id(n),s,i))}).catch(n=>{e(new Ef(Id(n),n))}):e(new Ef(Id(t),t))},jR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(_R(n)?(s.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),me(me({},s),r))};async function fl(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,jR(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>TR(l,a,n))})}async function Ka(t,e,r,n){return fl(t,"GET",e,r,n)}async function Qr(t,e,r,n,s){return fl(t,"POST",e,n,s,r)}async function kf(t,e,r,n,s){return fl(t,"PUT",e,n,s,r)}async function NR(t,e,r,n){return fl(t,"HEAD",e,me(me({},r),{},{noResolveJson:!0}),n)}async function bm(t,e,r,n,s){return fl(t,"DELETE",e,n,s,r)}var OR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};let Cb;Cb=Symbol.toStringTag;var PR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Cb]="BlobDownloadBuilder",this.promise=null}asStream(){return new OR(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};const RR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},t0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var AR=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=xm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const o=me(me({},t0),n);let a=me(me({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=me(me({},a),n.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),p=await(t=="PUT"?kf:Qr)(s.fetch,`${s.url}/object/${d}`,i,me({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=me({upsert:t0.upsert},n),d=me(me({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await kf(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=me({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Qr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Lu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Qr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await Qr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await Qr(n.fetch,`${n.url}/object/sign/${s}`,me({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await Qr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>me(me({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>Ka(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new PR(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Cf(await Ka(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await NR(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n)&&n instanceof Ef){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await bm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=me(me(me({},RR),e),{},{prefix:t||""});return{data:await Qr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=me({},t);return{data:await Qr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const kb="2.89.0",Tb={"X-Client-Info":`storage-js/${kb}`};var IR=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=me(me({},Tb),e),this.fetch=xm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Ka(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ka(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Qr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await kf(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Qr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await bm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},DR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},Tb),e),this.fetch=xm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Qr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Ka(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await bm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!SR(t))throw new Lu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new wR({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const _m={"X-Client-Info":`storage-js/${kb}`,"Content-Type":"application/json"};var jb=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Dd=class extends jb{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},LR=class extends jb{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Sm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},r0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$R=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new Dd(r0(i),n,o))}).catch(()=>{const i=n+"";e(new Dd(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new Dd(s.statusText||`HTTP ${n} error`,n,i))}}else e(new LR(r0(t),t))},UR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(MR(n)?(s.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,me(me({},s),r)):s};async function FR(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,UR(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>$R(l,a,n))})}async function wr(t,e,r,n,s){return FR(t,"POST",e,n,s,r)}var BR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},_m),e),this.fetch=Sm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await wr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await wr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await wr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await wr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}}},zR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},_m),e),this.fetch=Sm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await wr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await wr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await wr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await wr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await wr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}},WR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},_m),e),this.fetch=Sm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await wr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await wr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await wr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await wr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}}},HR=class extends WR{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new VR(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},VR=class extends BR{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new qR(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},qR=class extends zR{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},KR=class extends IR{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new AR(this.url,this.headers,t,this.fetch)}get vectors(){return new HR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DR(this.url+"/iceberg",this.headers,this.fetch)}};const Nb="2.89.0",$i=30*1e3,Tf=3,Ld=Tf*$i,GR="http://localhost:9999",QR="supabase.auth.token",YR={"X-Client-Info":`gotrue-js/${Nb}`},jf="X-Supabase-Api-Version",Ob={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XR=10*60*1e3;class Ga extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ZR extends Ga{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function e5(t){return oe(t)&&t.name==="AuthApiError"}class Gs extends Ga{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Gn extends Ga{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class fr extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t5(t){return oe(t)&&t.name==="AuthSessionMissingError"}class ji extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wl extends Gn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r5(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class n0 extends Gn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class n5 extends Gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nf extends Gn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Md(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class s0 extends Gn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Of extends Gn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i0=` 	
\r=`.split(""),s5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<i0.length;e+=1)t[i0[e].charCodeAt(0)]=-2;for(let e=0;e<Jc.length;e+=1)t[Jc[e].charCodeAt(0)]=e;return t})();function o0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jc[n]),e.queuedBits-=6}}function Pb(t,e,r){const n=s5[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function a0(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{a5(o,n,r)};for(let o=0;o<t.length;o+=1)Pb(t.charCodeAt(o),s,i);return e.join("")}function i5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function o5(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}i5(n,e)}}function a5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ao(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Pb(t.charCodeAt(s),r,n);return new Uint8Array(e)}function l5(t){const e=[];return o5(t,r=>e.push(r)),new Uint8Array(e)}function Xs(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>o0(s,r,n)),o0(null,r,n),e.join("")}function c5(t){return Math.round(Date.now()/1e3)+t}function u5(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",Bs={tested:!1,writable:!1},Rb=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bs.tested)return Bs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bs.tested=!0,Bs.writable=!0}catch{Bs.tested=!0,Bs.writable=!1}return Bs.writable};function d5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ab=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),h5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ui=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},zs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jt=async(t,e)=>{await t.removeItem(e)};class Mu{constructor(){this.promise=new Mu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Mu.promiseConstructor=Promise;function $d(t){const e=t.split(".");if(e.length!==3)throw new Of("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!JR.test(e[n]))throw new Of("JWT not in base64url format");return{header:JSON.parse(a0(e[0])),payload:JSON.parse(a0(e[1])),signature:ao(e[2]),raw:{header:e[0],payload:e[1]}}}async function f5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function p5(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function m5(t){return("0"+t.toString(16)).substr(-2)}function g5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,m5).join("")}async function v5(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function y5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await v5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ni(t,e,r=!1){const n=g5();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ui(t,`${e}-code-verifier`,s);const i=await y5(n);return[i,n===i?"plain":"s256"]}const w5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x5(t){const e=t.headers.get(jf);if(!e||!e.match(w5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function b5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const S5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oi(t){if(!S5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ud(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function E5(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function l0(t){return JSON.parse(JSON.stringify(t))}const qs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C5=[502,503,504];async function c0(t){var e;if(!h5(t))throw new Nf(qs(t),0);if(C5.includes(t.status))throw new Nf(qs(t),t.status);let r;try{r=await t.json()}catch(i){throw new Gs(qs(i),i)}let n;const s=x5(t);if(s&&s.getTime()>=Ob["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new s0(qs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new fr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new s0(qs(r),t.status,r.weak_password.reasons);throw new ZR(qs(r),t.status||500,n)}const k5=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function pe(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[jf]||(i[jf]=Ob["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await T5(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function T5(t,e,r,n,s,i){const o=k5(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Nf(qs(l),0)}if(a.ok||await c0(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await c0(l)}}function Vr(t){var e;let r=null;O5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=c5(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function u0(t){const e=Vr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function us(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function j5(t){return{data:t,error:null}}function N5(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Uo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function d0(t){return t}function O5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fd=["global","local","others"];class P5{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ab(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Fd[0]){if(Fd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fd.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:us})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Uo(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:N5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:us})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:d0});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Oi(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:us})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Oi(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:us})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Oi(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:us})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Oi(e.userId);try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Oi(e.userId),Oi(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:d0});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(oe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}}function h0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Pi={debug:!!(globalThis&&Rb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ib extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class R5 extends Ib{}async function A5(t,e,r){Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new R5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function I5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Db(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function D5(t){return parseInt(t,16)}function L5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function M5(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:p,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Db(t.address),v=d?`${d}://${n}`:n,g=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${m}

${g}`;let w=`URI: ${p}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}w+=y}return`${b}
${w}`}class at extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Xc extends at{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function $5({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Lb(o)){if(i.rp.id!==o)return new at({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function U5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Lb(n)){if(r.rpId!==n)return new at({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class F5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const B5=new F5;function z5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Uo(t,["challenge","user","excludeCredentials"]),i=ao(e).buffer,o=Object.assign(Object.assign({},r),{id:ao(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ao(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function W5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Uo(t,["challenge","allowCredentials"]),s=ao(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ao(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function H5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Xs(new Uint8Array(t.response.attestationObject)),clientDataJSON:Xs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function V5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Xs(new Uint8Array(s.authenticatorData)),clientDataJSON:Xs(new Uint8Array(s.clientDataJSON)),signature:Xs(new Uint8Array(s.signature)),userHandle:s.userHandle?Xs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function f0(){var t,e;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function q5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:$5({error:e,options:t})}}}async function K5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:U5({error:e,options:t})}}}const G5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Q5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zc(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Zc(a,o):n[i]=Zc(o)}else n[i]=o}return n}function Y5(t,e){return Zc(G5,t,e||{})}function J5(t,e){return Zc(Q5,t,e||{})}class X5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??B5.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Y5(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:p}=await q5({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const u=J5(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:p}=await K5(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new Gs("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ga("rpId is required for WebAuthn authentication")};try{if(!f0())return{data:null,error:new Gs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new Gs("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ga("rpId is required for WebAuthn registration")};try{if(!f0())return{data:null,error:new Gs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new Gs("Unexpected error in register",o)}}}}I5();const Z5={url:GR,storageKey:QR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function p0(t,e,r){return await r()}const Ri={};class Qa{get jwks(){var e,r;return(r=(e=Ri[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ri[this.storageKey]=Object.assign(Object.assign({},Ri[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ri[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ri[this.storageKey]=Object.assign(Object.assign({},Ri[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Z5),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Qa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ot()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new P5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ab(i.fetch),this.lock=i.lock||p0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=A5:this.lock=p0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new X5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Rb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=h0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=h0(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ot()&&(r=d5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ot()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),r5(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?this._returnResult({error:r}):this._returnResult({error:new Gs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Vr}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:p,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Ni(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:p,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Vr})}else if("phone"in e){const{phone:d,password:p,options:h}=e;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Vr})}else throw new zl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:u0})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:u0})}else throw new zl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new ji;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,d,p,h;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:g,wallet:b,statement:w,options:y}=e;let x;if(Ot())if(typeof b=="object")x=b;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")x=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Db(S[0]);let C=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const L=await x.request({method:"eth_chainId"});C=D5(L)}const T={domain:_.host,address:E,statement:w,uri:_.href,version:"1",chainId:C,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=M5(T),v=await x.request({method:"personal_sign",params:[L5(m),E]})}try{const{data:g,error:b}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Vr});if(b)throw b;if(!g||!g.session||!g.user){const w=new ji;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(oe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,d,p,h,m;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:b,wallet:w,statement:y,options:x}=e;let _;if(Ot())if(typeof w=="object")_=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((p=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:b,error:w}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Xs(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Vr});if(w)throw w;if(!b||!b.session||!b.user){const y=new ji;return this._returnResult({data:{user:null,session:null},error:y})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(oe(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await zs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new n5;const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Vr});if(await jt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new ji;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Vr}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new ji;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ni(this.storage,this.storageKey));const{error:p}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new zl("You must provide either an email or phone number.")}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Vr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Ni(this.storage,this.storageKey));const u=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:j5});return!((i=u.data)===null||i===void 0)&&i.url&&Ot()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new fr;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new zl("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ld:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await zs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ud()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=E5(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:us}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fr}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:us})})}catch(r){if(oe(r))return t5(r)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new fr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ni(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:us});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=$d(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new fr;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ot())throw new Wl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new n0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new n0("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Wl("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(a);let h=d+p;l&&(h=parseInt(l));const m=h-d;m*1e3<=$i&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const v=h-p;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(oe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await zs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(e5(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=u5(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ni(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:p,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ot()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(oe(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,p=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Vr}),{data:h,error:m}=p;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ji}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await p5(async s=>(s>0&&await f5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Md(i)&&Date.now()+o-n<$i})}catch(n){if(this._debug(r,"error",n),oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ot()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await zs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await zs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ui(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ud()}else if(s&&!s.user&&!s.user){const o=await zs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await jt(this.storage,this.storageKey+"-user"),await Ui(this.storage,this.storageKey,s)):s.user=Ud()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ld;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ld}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Md(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new fr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new fr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),oe(i)){const o={data:null,error:i};return Md(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ui(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=l0(s);await Ui(this.storage,this.storageKey,i)}else{const s=l0(r);await Ui(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$i);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/$i);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$i}ms, refresh threshold is ${Tf} ticks`),s<=Tf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ib)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ni(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?H5(e.webauthn.credential_response):V5(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:z5(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:W5(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=$d(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new fr})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new fr});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ot()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new fr});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ot()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new fr})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new fr})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+XR>s)return n;const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=$d(n);r!=null&&r.allowExpired||b5(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=_5(s.alg),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,l5(`${a}.${l}`)))throw new Of("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}}Qa.nextInstanceID={};const eA=Qa,tA="2.89.0";let sa="";typeof Deno<"u"?sa="deno":typeof document<"u"?sa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sa="react-native":sa="node";const rA={"X-Client-Info":`supabase-js-${sa}/${tA}`},nA={headers:rA},sA={schema:"public"},iA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oA={};function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function aA(t,e){if(Ya(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lA(t){var e=aA(t,"string");return Ya(e)=="symbol"?e:e+""}function cA(t,e,r){return(e=lA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m0(Object(r),!0).forEach(function(n){cA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const uA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dA=()=>Headers,hA=(t,e,r)=>{const n=uA(r),s=dA();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,rt(rt({},o),{},{headers:u}))}};function fA(t){return t.endsWith("/")?t:t+"/"}function pA(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:p}=e,h={db:rt(rt({},l),s),auth:rt(rt({},u),i),realtime:rt(rt({},d),o),storage:{},global:rt(rt(rt({},p),a),{},{headers:rt(rt({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function mA(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gA=class extends eA{constructor(t){super(t)}},vA=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=mA(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:sA,realtime:oA,auth:rt(rt({},iA),{},{storageKey:o}),global:nA},l=pA(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=hA(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new YP(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new KR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new VP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},d,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gA({url:this.authUrl.href,headers:rt(rt({},h),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fR(this.realtimeUrl.href,rt(rt({},t),{},{params:rt(rt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yA=(t,e,r)=>new vA(t,e,r);function wA(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}wA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xA="https://nvuukgeobhrrwttbiaif.supabase.co",bA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52dXVrZ2VvYmhycnd0dGJpYWlmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzOTM0MDIsImV4cCI6MjA4MTk2OTQwMn0.XoAFIsxESUJVd8Zrjw0kMytmccJZV0Tn0x5YwjTKvNk",ee=yA(xA,bA,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Mb=f.createContext(void 0),_A=({children:t})=>{const[e,r]=f.useState(null),[n,s]=f.useState(null),[i,o]=f.useState(null),[a,l]=f.useState(!0),[u,d]=f.useState(!1);bi();const p=async w=>{const{data:y,error:x}=await ee.from("profiles").select("*").eq("user_id",w).single();y&&!x&&o(y)},h=async w=>{const{data:y,error:x}=await ee.from("user_roles").select("role").eq("user_id",w).eq("role","admin").single();d(!!y&&!x)};f.useEffect(()=>{const{data:{subscription:w}}=ee.auth.onAuthStateChange((y,x)=>{s(x),r((x==null?void 0:x.user)??null),x!=null&&x.user?setTimeout(()=>{p(x.user.id),h(x.user.id)},0):(o(null),d(!1))});return ee.auth.getSession().then(({data:{session:y}})=>{s(y),r((y==null?void 0:y.user)??null),y!=null&&y.user&&(p(y.user.id),h(y.user.id)),l(!1)}),()=>w.unsubscribe()},[]);const m=w=>{const y=w.trim().split(" ");return y.length>=2?(y[0][0]+y[y.length-1][0]).toUpperCase():y[0].substring(0,2).toUpperCase()},v=async(w,y,x,_)=>{const{data:S}=await ee.from("profiles").select("username").eq("username",w).single();if(S)return{error:{message:"Username already taken"}};const E=`${w.toLowerCase().replace(/[^a-z0-9]/g,"")}@chessgambit.local`,{data:C,error:T}=await ee.auth.signUp({email:E,password:y,options:{emailRedirectTo:`${window.location.origin}/`,data:{username:w,full_name:x}}});if(T)return{error:T};if(C.user){const L=m(x),{error:$}=await ee.from("profiles").insert({user_id:C.user.id,username:w,full_name:x,avatar_url:_||null,avatar_initials:L});if($)return{error:$};await ee.from("user_roles").insert({user_id:C.user.id,role:"player"})}return{error:null}},g=async(w,y)=>{const{data:x}=await ee.from("profiles").select("user_id").eq("username",w).single();if(!x)return{error:{message:"Username not found"}};const _=`${w.toLowerCase().replace(/[^a-z0-9]/g,"")}@chessgambit.local`,{error:S}=await ee.auth.signInWithPassword({email:_,password:y});return{error:S}},b=async()=>{await ee.auth.signOut(),r(null),s(null),o(null),d(!1)};return c.jsx(Mb.Provider,{value:{user:e,session:n,profile:i,loading:a,signUp:v,signIn:g,signOut:b,isAdmin:u},children:t})},Ei=()=>{const t=f.useContext(Mb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},eu=rm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=f.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,enableEffects:s=!0,onClick:i,...o},a)=>{const[l,u]=f.useState(!1),d=n?o2:"button",p=h=>{s&&!n&&(u(!0),setTimeout(()=>u(!1),500)),i==null||i(h)};return n?c.jsx(d,{className:Ee(eu({variant:e,size:r,className:t})),ref:a,...o}):c.jsxs("button",{className:Ee(eu({variant:e,size:r,className:t}),s&&"btn-electric btn-firecracker",l&&"sparking"),ref:a,onClick:p,...o,children:[o.children,s&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spark spark-1"}),c.jsx("span",{className:"spark spark-2"}),c.jsx("span",{className:"spark spark-3"}),c.jsx("span",{className:"spark spark-4"}),c.jsx("span",{className:"spark spark-5"}),c.jsx("span",{className:"spark spark-6"})]})]})});_e.displayName="Button";const g0="christmas-gambit-theme",SA=()=>{const[t,e]=f.useState(()=>{const n=localStorage.getItem(g0);return n!==null?n==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});f.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem(g0,t?"dark":"light")},[t]);const r=()=>{e(n=>!n)};return c.jsx(_e,{variant:"ghost",size:"icon",onClick:r,className:"relative overflow-hidden transition-all duration-300",children:t?c.jsx(aT,{className:"h-5 w-5 text-neon-cyan animate-scale-in"}):c.jsx(uT,{className:"h-5 w-5 text-accent animate-scale-in"})})},EA=()=>{const{user:t,profile:e,signOut:r}=Ei(),n=hl(),s=async()=>{await r(),n("/")};return c.jsx("nav",{className:"sticky top-0 z-40 w-full border-b border-border bg-background/80 backdrop-blur-md",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex h-16 items-center justify-between",children:[c.jsxs(tn,{to:"/",className:"flex items-center gap-3 group fire-hover",children:[c.jsxs("div",{className:"relative",children:[c.jsx($n,{className:"h-8 w-8 text-primary animate-float transition-all"}),c.jsx(c1,{className:"absolute -top-1 -right-1 h-4 w-4 text-secondary"})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-display text-lg font-bold tracking-wide text-foreground fire-text-hover",children:"Checkmate Cup"}),c.jsx("span",{className:"text-xs text-muted-foreground font-gamer-body",children:"DPSBE 2K25 "})]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[c.jsxs(tn,{to:"/practice",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors font-gamer-body",children:[c.jsx(of,{className:"h-4 w-4"}),"Practice"]}),c.jsxs(tn,{to:"/standings",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors font-gamer-body",children:[c.jsx(Wn,{className:"h-4 w-4"}),"Standings"]}),c.jsxs(tn,{to:"/champions",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors font-gamer-body",children:[c.jsx($n,{className:"h-4 w-4"}),"Champions"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(SA,{}),t?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(tn,{to:"/profile",children:c.jsxs(_e,{variant:"ghost",size:"sm",className:"gap-2",children:[e!=null&&e.avatar_url?c.jsx("img",{src:e.avatar_url,alt:e.username,className:"h-6 w-6 rounded-full object-cover"}):e!=null&&e.avatar_initials?c.jsx("div",{className:"h-6 w-6 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xs font-bold",children:e.avatar_initials}):c.jsx(d1,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:e==null?void 0:e.username})]})}),c.jsxs(_e,{variant:"outline",size:"sm",onClick:s,className:"gap-2",children:[c.jsx(sT,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]}):c.jsx(tn,{to:"/auth",children:c.jsxs(_e,{variant:"default",size:"sm",className:"gap-2",children:[c.jsx(nT,{className:"h-4 w-4"}),"Sign In"]})})]})]})})})},CA=()=>{const[t,e]=f.useState([]),[r,n]=f.useState(!1);return f.useEffect(()=>{const s=()=>{n(document.documentElement.classList.contains("dark"))};s();const i=new MutationObserver(s);return i.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>i.disconnect()},[]),f.useEffect(()=>{const s=Array.from({length:100},(i,o)=>({id:o,x:Math.random()*100,y:Math.random()*100,size:Math.random()*2+1,duration:Math.random()*3+2,delay:Math.random()*5}));e(s)},[]),c.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[r&&c.jsx("div",{className:"absolute inset-0 bg-nebula-gradient opacity-30"}),t.map(s=>c.jsx("div",{className:"absolute rounded-full animate-pulse-slow",style:{left:`${s.x}%`,top:`${s.y}%`,width:`${s.size}px`,height:`${s.size}px`,backgroundColor:r?"white":"hsl(250, 85%, 60%)",opacity:r?.6:.3,animationDuration:`${s.duration}s`,animationDelay:`${s.delay}s`,boxShadow:r?`0 0 ${s.size*2}px rgba(255,255,255,0.5)`:`0 0 ${s.size*2}px hsl(250, 85%, 60%, 0.3)`}},s.id)),r&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute w-96 h-96 rounded-full opacity-10 blur-3xl rgb-glow",style:{left:"10%",top:"20%",background:"hsl(185, 100%, 50%)"}}),c.jsx("div",{className:"absolute w-80 h-80 rounded-full opacity-10 blur-3xl rgb-glow",style:{right:"15%",top:"60%",background:"hsl(280, 80%, 60%)",animationDelay:"1.5s"}}),c.jsx("div",{className:"absolute w-64 h-64 rounded-full opacity-10 blur-3xl rgb-glow",style:{left:"50%",bottom:"10%",background:"hsl(320, 90%, 60%)",animationDelay:"3s"}})]})]})},kA=()=>{const[t,e]=f.useState([]),[r,n]=f.useState({x:0,y:0}),s=f.useCallback((i,o)=>({id:Date.now()+Math.random(),x:i+(Math.random()-.5)*10,y:o+(Math.random()-.5)*10,size:Math.random()*8+4,opacity:1,hue:Math.random()*40+15}),[]);return f.useEffect(()=>{let i=0;const o=30,a=l=>{const u=Date.now();if(u-i<o)return;i=u,n({x:l.clientX,y:l.clientY});const d=Array.from({length:2},()=>s(l.clientX,l.clientY));e(p=>[...p.slice(-20),...d])};return window.addEventListener("mousemove",a),()=>window.removeEventListener("mousemove",a)},[s]),f.useEffect(()=>{const i=setInterval(()=>{e(o=>o.map(a=>({...a,opacity:a.opacity-.08,y:a.y-2,size:a.size*.95})).filter(a=>a.opacity>0))},30);return()=>clearInterval(i)},[]),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"cursor-target pointer-events-none fixed z-[9999]",style:{left:r.x-12,top:r.y-12},children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1.5",fill:"none",opacity:"0.8"}),c.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"hsl(320, 90%, 60%)",strokeWidth:"1",fill:"none",opacity:"0.9"}),c.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"hsl(45, 100%, 60%)"}),c.jsx("line",{x1:"12",y1:"0",x2:"12",y2:"6",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1",opacity:"0.7"}),c.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"24",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1",opacity:"0.7"}),c.jsx("line",{x1:"0",y1:"12",x2:"6",y2:"12",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1",opacity:"0.7"}),c.jsx("line",{x1:"18",y1:"12",x2:"24",y2:"12",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1",opacity:"0.7"})]})}),t.map(i=>c.jsx("div",{className:"pointer-events-none fixed z-[9998] rounded-full",style:{left:i.x-i.size/2,top:i.y-i.size/2,width:i.size,height:i.size,opacity:i.opacity,background:`radial-gradient(circle, hsl(${i.hue}, 100%, 60%), hsl(${i.hue-10}, 100%, 40%), transparent)`,boxShadow:`0 0 ${i.size}px hsl(${i.hue}, 100%, 50%)`,transform:"translate3d(0, 0, 0)"}},i.id))]})},De=f.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));De.displayName="Card";const St=f.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));St.displayName="CardHeader";const Et=f.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));Et.displayName="CardTitle";const Ja=f.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));Ja.displayName="CardDescription";const Ue=f.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Ee("p-6 pt-0",t),...e}));Ue.displayName="CardContent";const TA=f.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Ee("flex items-center p-6 pt-0",t),...e}));TA.displayName="CardFooter";const jA=()=>{const{user:t}=Ei();return c.jsxs("div",{className:"min-h-screen relative",children:[c.jsxs("section",{className:"relative py-20 md:py-32 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-secondary/10"}),c.jsx("div",{className:"container mx-auto px-4 relative z-10",children:c.jsxs("div",{className:"text-center max-w-4xl mx-auto animate-fade-in-up",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx($n,{className:"h-24 w-24 text-primary trophy-shine"}),c.jsx(c1,{className:"absolute -top-4 -right-4 h-8 w-8 text-secondary animate-float"}),c.jsx(u1,{className:"absolute -bottom-2 -left-4 h-6 w-6 text-accent animate-float",style:{animationDelay:"0.5s"}})]})}),c.jsx("h1",{className:"font-display text-4xl md:text-6xl lg:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-neon-gradient dark:rgb-text",children:"Checkmate Cup"}),c.jsx("p",{className:"font-gamer text-2xl md:text-3xl text-secondary dark:text-neon-cyan mb-4",children:" DPSBE 2K25 "}),c.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 max-w-2xl mx-auto font-gamer-body",children:"The ultimate DPSBE chess tournament. Compete, strategize, and claim your place among champions."}),c.jsx("div",{className:"space-divider w-48 mx-auto mb-8"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t?c.jsx(tn,{to:"/profile",children:c.jsxs(_e,{size:"lg",className:"gap-2 text-lg px-8",children:[c.jsx(h1,{className:"h-5 w-5"}),"My Profile"]})}):c.jsx(tn,{to:"/auth",children:c.jsxs(_e,{size:"lg",className:"gap-2 text-lg px-8 animate-glow-pulse dark:rgb-glow",children:[c.jsx(jo,{className:"h-5 w-5"}),"Join Tournament"]})}),c.jsx(tn,{to:"/standings",children:c.jsxs(_e,{variant:"outline",size:"lg",className:"gap-2 text-lg px-8",children:[c.jsx(Wn,{className:"h-5 w-5"}),"View Standings"]})})]})]})})]}),c.jsx("section",{className:"py-16 bg-card/50",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx(De,{className:"card-hover border-2 group dark:rgb-border",children:c.jsxs(Ue,{className:"pt-6 text-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx(jo,{className:"h-8 w-8 text-primary"})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Live Games"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Play real-time chess matches with automatic time controls and result tracking."})]})}),c.jsx(De,{className:"card-hover border-2 group dark:rgb-border",style:{animationDelay:"0.1s"},children:c.jsxs(Ue,{className:"pt-6 text-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-secondary/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx(Wn,{className:"h-8 w-8 text-secondary dark:text-neon-purple"})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Multiple Formats"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Swiss, Knockouts, Round Robin, Arena  choose your battle style."})]})}),c.jsx(De,{className:"card-hover border-2 group dark:rgb-border",style:{animationDelay:"0.2s"},children:c.jsxs(Ue,{className:"pt-6 text-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-accent/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx(J2,{className:"h-8 w-8 text-accent dark:text-neon-magenta"})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Auto Pairings"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Automatic matchmaking, standings updates, and tournament progression."})]})})]})})}),c.jsx("section",{className:"py-20",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Ready to Make Your Move?"}),c.jsx("p",{className:"text-muted-foreground mb-8 font-gamer-body text-lg",children:"Join the tournament and compete for the Checkmate Cup!"}),c.jsx(tn,{to:t?"/profile":"/auth",children:c.jsxs(_e,{size:"lg",className:"gap-2 dark:rgb-glow",children:["Get Started ",c.jsx(Z2,{className:"h-5 w-5"})]})})]})}),c.jsx("footer",{className:"py-8 border-t border-border",children:c.jsx("div",{className:"container mx-auto px-4 text-center text-muted-foreground font-gamer-body",children:c.jsx("p",{children:" Checkmate Cup  DPSBE 2K25 "})})})]})},rn=f.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));rn.displayName="Input";var NA="Label",$b=f.forwardRef((t,e)=>c.jsx(Te.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$b.displayName=NA;var Ub=$b;const OA=rm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vr=f.forwardRef(({className:t,...e},r)=>c.jsx(Ub,{ref:r,className:Ee(OA(),t),...e}));vr.displayName=Ub.displayName;var PA=f.createContext(void 0);function Em(t){const e=f.useContext(PA);return t||e||"ltr"}var Bd="rovingFocusGroup.onEntryFocus",RA={bubbles:!1,cancelable:!0},pl="RovingFocusGroup",[Pf,Fb,AA]=Xp(pl),[IA,Bb]=Kn(pl,[AA]),[DA,LA]=IA(pl),zb=f.forwardRef((t,e)=>c.jsx(Pf.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Pf.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(MA,{...t,ref:e})})}));zb.displayName=pl;var MA=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,h=f.useRef(null),m=Fe(e,h),v=Em(i),[g,b]=To({prop:o,defaultProp:a??null,onChange:l,caller:pl}),[w,y]=f.useState(!1),x=Fr(u),_=Fb(r),S=f.useRef(!1),[E,C]=f.useState(0);return f.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(Bd,x),()=>T.removeEventListener(Bd,x)},[x]),c.jsx(DA,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:f.useCallback(T=>b(T),[b]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:f.useCallback(()=>C(T=>T-1),[]),children:c.jsx(Te.div,{tabIndex:w||E===0?-1:0,"data-orientation":n,...p,ref:m,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{S.current=!0}),onFocus:fe(t.onFocus,T=>{const L=!S.current;if(T.target===T.currentTarget&&L&&!w){const $=new CustomEvent(Bd,RA);if(T.currentTarget.dispatchEvent($),!$.defaultPrevented){const Y=_().filter(M=>M.focusable),U=Y.find(M=>M.active),J=Y.find(M=>M.id===g),K=[U,J,...Y].filter(Boolean).map(M=>M.ref.current);Vb(K,d)}}S.current=!1}),onBlur:fe(t.onBlur,()=>y(!1))})})}),Wb="RovingFocusGroupItem",Hb=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Ts(),u=i||l,d=LA(Wb,r),p=d.currentTabStopId===u,h=Fb(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=d;return f.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),c.jsx(Pf.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:c.jsx(Te.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:fe(t.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:fe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:fe(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=FA(b,d.orientation,d.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const _=x.indexOf(b.currentTarget);x=d.loop?BA(x,_+1):x.slice(_+1)}setTimeout(()=>Vb(x))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:g!=null}):o})})});Hb.displayName=Wb;var $A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UA(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function FA(t,e,r){const n=UA(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $A[n]}function Vb(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function BA(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var zA=zb,WA=Hb,$u="Tabs",[HA,OM]=Kn($u,[Bb]),qb=Bb(),[VA,Cm]=HA($u),Kb=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=Em(a),[p,h]=To({prop:n,onChange:s,defaultProp:i??"",caller:$u});return c.jsx(VA,{scope:r,baseId:Ts(),value:p,onValueChange:h,orientation:o,dir:d,activationMode:l,children:c.jsx(Te.div,{dir:d,"data-orientation":o,...u,ref:e})})});Kb.displayName=$u;var Gb="TabsList",Qb=f.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=Cm(Gb,r),o=qb(r);return c.jsx(zA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:c.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Qb.displayName=Gb;var Yb="TabsTrigger",Jb=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=Cm(Yb,r),a=qb(r),l=e_(o.baseId,n),u=t_(o.baseId,n),d=n===o.value;return c.jsx(WA,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(Te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:fe(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:fe(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:fe(t.onFocus,()=>{const p=o.activationMode!=="manual";!d&&!s&&p&&o.onValueChange(n)})})})});Jb.displayName=Yb;var Xb="TabsContent",Zb=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,a=Cm(Xb,r),l=e_(a.baseId,n),u=t_(a.baseId,n),d=n===a.value,p=f.useRef(d);return f.useEffect(()=>{const h=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(_i,{present:s||d,children:({present:h})=>c.jsx(Te.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:h&&i})})});Zb.displayName=Xb;function e_(t,e){return`${t}-trigger-${e}`}function t_(t,e){return`${t}-content-${e}`}var qA=Kb,r_=Qb,n_=Jb,s_=Zb;const KA=qA,i_=f.forwardRef(({className:t,...e},r)=>c.jsx(r_,{ref:r,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));i_.displayName=r_.displayName;const Rf=f.forwardRef(({className:t,...e},r)=>c.jsx(n_,{ref:r,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Rf.displayName=n_.displayName;const Af=f.forwardRef(({className:t,...e},r)=>c.jsx(s_,{ref:r,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Af.displayName=s_.displayName;const GA=()=>{const[t,e]=f.useState(!1),[r,n]=f.useState(!1),[s,i]=f.useState(null),[o,a]=f.useState(null),l=f.useRef(null),[u,d]=f.useState(""),[p,h]=f.useState(""),[m,v]=f.useState(""),[g,b]=f.useState(""),[w,y]=f.useState(""),[x,_]=f.useState(""),[S,E]=f.useState("idle"),[C,T]=f.useState(null),{signIn:L,signUp:$,user:Y}=Ei(),{toast:U}=bi(),J=hl();if(Y)return J("/"),null;f.useEffect(()=>{if(m.length<3){E("idle"),T(m.length>0?"Username must be at least 3 characters":null);return}if(!/^[a-zA-Z0-9_]+$/.test(m)){E("idle"),T("Username can only contain letters, numbers, and underscores");return}T(null),E("checking");const O=setTimeout(async()=>{const{data:H}=await ee.from("profiles").select("username").eq("username",m).maybeSingle();H?(E("taken"),T("This username is already taken")):(E("available"),T(null))},500);return()=>clearTimeout(O)},[m]);const R=j=>{var H;const O=(H=j.target.files)==null?void 0:H[0];if(O){a(O);const Z=new FileReader;Z.onloadend=()=>{i(Z.result)},Z.readAsDataURL(O)}},K=async j=>{j.preventDefault(),e(!0);const{error:O}=await L(u,p);O?U({variant:"destructive",title:"Sign in failed",description:O.message||"Invalid username or password"}):(U({title:"Welcome back!",description:"You have successfully signed in."}),J("/")),e(!1)},M=async j=>{if(j.preventDefault(),w!==x){U({variant:"destructive",title:"Passwords don't match",description:"Please make sure your passwords match."});return}if(w.length<6){U({variant:"destructive",title:"Password too short",description:"Password must be at least 6 characters."});return}if(m.length<3||S==="taken"||C){U({variant:"destructive",title:"Invalid username",description:C||"Please choose a valid unique username."});return}e(!0);let O;if(o){const Z=`${Date.now()}`,k=o.name.split(".").pop(),W=`temp/${Z}.${k}`,{error:z}=await ee.storage.from("avatars").upload(W,o,{upsert:!0});if(!z){const{data:X}=ee.storage.from("avatars").getPublicUrl(W);O=X.publicUrl}}const{error:H}=await $(m,w,g,O);H?U({variant:"destructive",title:"Sign up failed",description:H.message||"Could not create account"}):(U({title:"Account created!",description:"Welcome to the Christmas Gambit Cup!"}),J("/")),e(!1)},V=j=>{var H;const O=j.trim().split(" ");return O.length>=2?(O[0][0]+O[O.length-1][0]).toUpperCase():((H=O[0])==null?void 0:H.substring(0,2).toUpperCase())||""};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("div",{className:"relative",children:[c.jsx($n,{className:"h-16 w-16 text-primary animate-float"}),c.jsx("span",{className:"absolute -top-2 -right-2 text-2xl",children:""})]})}),c.jsx("h1",{className:"font-display text-3xl font-bold text-foreground",children:"Christmas Gambit Cup"}),c.jsx("p",{className:"text-muted-foreground mt-2 font-gamer-body",children:"2K25 School Chess Tournament"})]}),c.jsx(De,{className:"border-2 shadow-lg card-hover",children:c.jsxs(KA,{defaultValue:"signin",className:"w-full",children:[c.jsxs(i_,{className:"grid w-full grid-cols-2",children:[c.jsx(Rf,{value:"signin",children:"Sign In"}),c.jsx(Rf,{value:"signup",children:"Sign Up"})]}),c.jsxs(Af,{value:"signin",children:[c.jsxs(St,{children:[c.jsx(Et,{className:"font-display",children:"Welcome Back"}),c.jsx(Ja,{children:"Enter your credentials to continue"})]}),c.jsx(Ue,{children:c.jsxs("form",{onSubmit:K,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{htmlFor:"signin-username",children:"Username"}),c.jsx(rn,{id:"signin-username",placeholder:"Enter your username",value:u,onChange:j=>d(j.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{htmlFor:"signin-password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(rn,{id:"signin-password",type:r?"text":"password",placeholder:"Enter your password",value:p,onChange:j=>h(j.target.value),required:!0}),c.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>n(!r),children:r?c.jsx(lf,{className:"h-4 w-4"}):c.jsx($a,{className:"h-4 w-4"})})]})]}),c.jsx(_e,{type:"submit",className:"w-full",disabled:t,children:t?"Signing in...":"Sign In"})]})})]}),c.jsxs(Af,{value:"signup",children:[c.jsxs(St,{children:[c.jsx(Et,{className:"font-display",children:"Join the Tournament"}),c.jsx(Ja,{children:"Create your player account"})]}),c.jsx(Ue,{children:c.jsxs("form",{onSubmit:M,className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"relative h-24 w-24 rounded-full border-2 border-dashed border-border flex items-center justify-center cursor-pointer hover:border-primary transition-colors overflow-hidden bg-muted",onClick:()=>{var j;return(j=l.current)==null?void 0:j.click()},children:[s?c.jsx("img",{src:s,alt:"Avatar",className:"h-full w-full object-cover"}):g?c.jsx("span",{className:"text-2xl font-bold text-primary",children:V(g)}):c.jsx(d1,{className:"h-10 w-10 text-muted-foreground"}),c.jsx("div",{className:"absolute inset-0 bg-background/60 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:c.jsx(hT,{className:"h-6 w-6"})})]}),c.jsx("input",{ref:l,type:"file",accept:"image/*",className:"hidden",onChange:R}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Click to upload profile picture (optional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{htmlFor:"signup-username",children:"Username *"}),c.jsxs("div",{className:"relative",children:[c.jsx(rn,{id:"signup-username",placeholder:"Choose a unique username",value:m,onChange:j=>v(j.target.value.replace(/[^a-zA-Z0-9_]/g,"")),required:!0,minLength:3,maxLength:20,className:S==="taken"?"border-destructive pr-10":S==="available"?"border-green-500 pr-10":"pr-10"}),c.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[S==="checking"&&c.jsx(ir,{className:"h-4 w-4 animate-spin text-muted-foreground"}),S==="available"&&c.jsx(i1,{className:"h-4 w-4 text-green-500"}),S==="taken"&&c.jsx(ku,{className:"h-4 w-4 text-destructive"})]})]}),C&&c.jsx("p",{className:"text-xs text-destructive",children:C}),S==="available"&&c.jsx("p",{className:"text-xs text-green-500",children:"Username is available!"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{htmlFor:"signup-fullname",children:"Full Name *"}),c.jsx(rn,{id:"signup-fullname",placeholder:"Your real name",value:g,onChange:j=>b(j.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{htmlFor:"signup-password",children:"Password *"}),c.jsxs("div",{className:"relative",children:[c.jsx(rn,{id:"signup-password",type:r?"text":"password",placeholder:"Create a password",value:w,onChange:j=>y(j.target.value),required:!0,minLength:6}),c.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>n(!r),children:r?c.jsx(lf,{className:"h-4 w-4"}):c.jsx($a,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{htmlFor:"signup-confirm",children:"Confirm Password *"}),c.jsx(rn,{id:"signup-confirm",type:"password",placeholder:"Confirm your password",value:x,onChange:j=>_(j.target.value),required:!0})]}),c.jsx(_e,{type:"submit",className:"w-full",disabled:t,children:t?"Creating account...":"Create Account"})]})})]})]})})]})})},QA={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-20 w-20 text-xl",xl:"h-32 w-32 text-3xl"},YA={sm:"h-2.5 w-2.5 right-0 bottom-0",md:"h-3 w-3 right-0 bottom-0",lg:"h-4 w-4 right-1 bottom-1",xl:"h-5 w-5 right-2 bottom-2"},ur=({avatarUrl:t,initials:e,name:r,size:n="md",className:s,isOnline:i,showOnlineIndicator:o=!1})=>{const a=e||(r?JA(r):"??");return c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:Ee("rounded-full flex items-center justify-center font-bold bg-primary text-primary-foreground overflow-hidden ring-2 ring-border",QA[n],s),children:t?c.jsx("img",{src:t,alt:r||"Player",className:"h-full w-full object-cover"}):c.jsx("span",{children:a})}),o&&c.jsx("span",{className:Ee("absolute rounded-full border-2 border-background",YA[n],i?"bg-green-500":"bg-muted-foreground/50")})]})};function JA(t){var r;const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():((r=e[0])==null?void 0:r.substring(0,2).toUpperCase())||"??"}const XA=()=>{const{user:t,profile:e,loading:r}=Ei(),[n,s]=f.useState(!1),[i,o]=f.useState(""),[a,l]=f.useState(!1),[u,d]=f.useState(null),[p,h]=f.useState(null),[m,v]=f.useState(null),[g,b]=f.useState(!1),[w,y]=f.useState(null),[x,_]=f.useState([]),S=f.useRef(null),{toast:E}=bi(),C=hl();f.useEffect(()=>{!r&&!t&&C("/auth")},[t,r,C]),f.useEffect(()=>{e&&(o(e.full_name),h(e.avatar_url))},[e]),f.useEffect(()=>{T()},[e]);const T=async()=>{const{data:R}=await ee.from("tournaments").select("*").in("status",["registration","in_progress"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(R&&(v(R),e)){const{data:K}=await ee.from("tournament_players").select("id").eq("tournament_id",R.id).eq("player_id",e.id).maybeSingle();if(b(!!K),R.status==="in_progress"){const{data:M}=await ee.from("games").select("id").eq("tournament_id",R.id).in("result",["pending","in_progress"]).or(`white_player_id.eq.${e.id},black_player_id.eq.${e.id}`).limit(1).maybeSingle();M&&y(M.id)}}e&&L()},L=async()=>{if(!e)return;const{data:R}=await ee.from("games").select("id, result, round, white_player_id, black_player_id, ended_at").or(`white_player_id.eq.${e.id},black_player_id.eq.${e.id}`).not("result","in",'("pending","in_progress")').order("ended_at",{ascending:!1}).limit(10);if(R&&R.length>0){const K=await Promise.all(R.map(async M=>{const V=M.white_player_id===e.id?M.black_player_id:M.white_player_id,{data:j}=await ee.from("profiles").select("username, avatar_url, avatar_initials").eq("id",V).single();return{...M,opponent_username:(j==null?void 0:j.username)||"Unknown",opponent_avatar_url:(j==null?void 0:j.avatar_url)||null,opponent_avatar_initials:(j==null?void 0:j.avatar_initials)||null,played_as:M.white_player_id===e.id?"white":"black"}}));_(K)}},$=R=>{var M;const K=(M=R.target.files)==null?void 0:M[0];if(K){d(K);const V=new FileReader;V.onloadend=()=>h(V.result),V.readAsDataURL(K)}},Y=async()=>{if(!e||!t)return;l(!0);let R=e.avatar_url;if(u){const M=u.name.split(".").pop(),V=`${t.id}/${Date.now()}.${M}`,{error:j}=await ee.storage.from("avatars").upload(V,u,{upsert:!0});if(!j){const{data:O}=ee.storage.from("avatars").getPublicUrl(V);R=O.publicUrl}}const{error:K}=await ee.from("profiles").update({full_name:i,avatar_url:R,avatar_initials:J(i)}).eq("id",e.id);K?E({variant:"destructive",title:"Failed to update profile",description:K.message}):(E({title:"Profile updated!"}),s(!1),window.location.reload()),l(!1)},U=async()=>{if(!m||!e)return;l(!0);const{error:R}=await ee.from("tournament_players").insert({tournament_id:m.id,player_id:e.id});R?E({variant:"destructive",title:"Registration failed",description:R.message}):(E({title:"Registered!",description:"You're in the tournament!"}),b(!0)),l(!1)},J=R=>{var M;const K=R.trim().split(" ");return K.length>=2?(K[0][0]+K[K.length-1][0]).toUpperCase():((M=K[0])==null?void 0:M.substring(0,2).toUpperCase())||""};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(ir,{className:"h-8 w-8 animate-spin text-primary"})}):e?c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs(De,{className:"border-2",children:[c.jsx(St,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Et,{className:"font-display",children:"Player Profile"}),c.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>s(!n),children:[c.jsx(lT,{className:"h-4 w-4 mr-2"}),n?"Cancel":"Edit"]})]})}),c.jsx(Ue,{children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(ur,{avatarUrl:p,initials:e.avatar_initials,name:e.full_name,size:"xl"}),n&&c.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-primary text-primary-foreground rounded-full hover:bg-primary/90 transition-colors",onClick:()=>{var R;return(R=S.current)==null?void 0:R.click()},children:c.jsx(X2,{className:"h-4 w-4"})})]}),c.jsx("input",{ref:S,type:"file",accept:"image/*",className:"hidden",onChange:$})]}),c.jsx("div",{className:"flex-1 space-y-4",children:n?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{children:"Full Name"}),c.jsx(rn,{value:i,onChange:R=>o(R.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{children:"Username"}),c.jsx(rn,{value:e.username,disabled:!0,className:"bg-muted"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Username cannot be changed"})]}),c.jsxs(_e,{onClick:Y,disabled:a,children:[a?c.jsx(ir,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),c.jsx("p",{className:"font-bold text-xl",children:e.username})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),c.jsx("p",{className:"font-medium",children:e.full_name})]})]})})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(De,{className:"card-hover",children:c.jsxs(Ue,{className:"pt-6 text-center",children:[c.jsx(jo,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),c.jsx("p",{className:"text-2xl font-bold",children:e.games_played}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"})]})}),c.jsx(De,{className:"card-hover",children:c.jsxs(Ue,{className:"pt-6 text-center",children:[c.jsx(Wn,{className:"h-8 w-8 mx-auto mb-2 text-accent"}),c.jsx("p",{className:"text-2xl font-bold",children:e.games_won}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Wins"})]})}),c.jsx(De,{className:"card-hover",children:c.jsxs(Ue,{className:"pt-6 text-center",children:[c.jsx(mv,{className:"h-8 w-8 mx-auto mb-2 text-secondary"}),c.jsx("p",{className:"text-2xl font-bold",children:e.games_drawn}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Draws"})]})}),c.jsx(De,{className:"card-hover",children:c.jsxs(Ue,{className:"pt-6 text-center",children:[c.jsx(Cu,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),c.jsx("p",{className:"text-2xl font-bold",children:Number(e.score).toFixed(1)}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Score"})]})})]}),m&&c.jsxs(De,{className:"border-2 border-primary/20",children:[c.jsxs(St,{children:[c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(Wn,{className:"h-5 w-5 text-primary"}),m.name]}),c.jsxs(Ja,{children:["Format: ",m.format.replace(/_/g," "),"  Time Control: ",m.time_control]})]}),c.jsx(Ue,{children:m.status==="registration"?g?c.jsxs("div",{className:"bg-secondary/20 p-4 rounded-lg text-center",children:[c.jsx("p",{className:"text-secondary dark:text-neon-cyan font-bold",children:" You are registered!"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Waiting for tournament to start..."})]}):c.jsxs(_e,{onClick:U,disabled:a,className:"w-full",children:[a?c.jsx(ir,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(jo,{className:"h-4 w-4 mr-2"}),"Register for Tournament"]}):c.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg text-center space-y-3",children:[c.jsx("p",{className:"font-bold",children:"Tournament in progress"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Round Active"}),w?c.jsxs(_e,{onClick:()=>C(`/game/${w}`),className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",children:[c.jsx(nm,{className:"h-4 w-4 mr-2"}),"Play Now"]}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"No active game found"})]})})]}),x.length>0&&c.jsxs(De,{className:"border-2",children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(rT,{className:"h-5 w-5 text-primary"}),"Recent Games"]})}),c.jsx(Ue,{children:c.jsx("div",{className:"space-y-2",children:x.map(R=>{const K=R.played_as==="white"&&R.result==="white_wins"||R.played_as==="black"&&R.result==="black_wins",M=R.played_as==="white"&&R.result==="black_wins"||R.played_as==="black"&&R.result==="white_wins",V=R.result==="draw";return c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer hover:scale-[1.01] transition-all ${K?"bg-green-500/10 border-green-500/30":M?"bg-red-500/10 border-red-500/30":"bg-muted border-muted-foreground/20"}`,onClick:()=>C(`/game/${R.id}`),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ur,{avatarUrl:R.opponent_avatar_url,initials:R.opponent_avatar_initials,name:R.opponent_username,size:"sm"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["vs ",R.opponent_username]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Round ",R.round,"  ",R.played_as==="white"?" White":" Black"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[K&&c.jsx($n,{className:"h-5 w-5 text-green-500"}),M&&c.jsx(mv,{className:"h-5 w-5 text-red-500"}),V&&c.jsx(oT,{className:"h-5 w-5 text-muted-foreground"}),c.jsx("span",{className:`font-bold ${K?"text-green-500":M?"text-red-500":"text-muted-foreground"}`,children:K?"Won":M?"Lost":"Draw"})]})]},R.id)})})})]})]})}):null},ZA=(t="online-users")=>{const{profile:e}=Ei(),[r,n]=f.useState([]);return f.useEffect(()=>{if(!e)return;const i=ee.channel(t,{config:{presence:{key:e.id}}});return i.on("presence",{event:"sync"},()=>{const o=i.presenceState(),a=[];Object.values(o).forEach(l=>{l&&l[0]&&a.push(l[0])}),n(a)}).subscribe(async o=>{o==="SUBSCRIBED"&&await i.track({id:e.id,username:e.username,online_at:new Date().toISOString()})}),()=>{i.unsubscribe()}},[e,t]),{onlineUsers:r,isUserOnline:i=>r.some(o=>o.id===i)}},eI=()=>{const[t,e]=f.useState([]),[r,n]=f.useState([]),[s,i]=f.useState(!0),[o,a]=f.useState("Checkmate Cup 2K25"),[l,u]=f.useState(!1),{isUserOnline:d}=ZA();f.useEffect(()=>{p();const v=ee.channel("standings").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{p()}).on("postgres_changes",{event:"*",schema:"public",table:"games"},()=>{p()}).subscribe();return()=>{ee.removeChannel(v)}},[]);const p=async()=>{const{data:v}=await ee.from("tournaments").select("id, name, format, current_round, total_rounds").in("status",["registration","in_progress","completed"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(v&&(a(v.name),(v.format==="swiss_super_league"||v.format==="swiss_playoffs")&&v.current_round&&v.total_rounds)){const{data:w}=await ee.from("games").select(`
            id,
            white_player_id,
            black_player_id,
            result,
            round
          `).eq("tournament_id",v.id).gte("round",v.current_round);if(w&&w.length>0){const y=new Set;w.forEach(S=>{y.add(S.white_player_id),y.add(S.black_player_id)});const x={};w.forEach(S=>{x[S.white_player_id]||(x[S.white_player_id]=0),x[S.black_player_id]||(x[S.black_player_id]=0),S.result==="white_wins"?x[S.white_player_id]+=1:S.result==="black_wins"?x[S.black_player_id]+=1:S.result==="draw"&&(x[S.white_player_id]+=.5,x[S.black_player_id]+=.5)});const{data:_}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, score, games_played, games_won, rating").in("id",Array.from(y));if(_&&_.length>0){const S=_.map(E=>({...E,super_league_score:x[E.id]||0})).sort((E,C)=>C.super_league_score-E.super_league_score);n(S),u(!0)}}}const{data:g}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, score, games_played, games_won, rating").order("score",{ascending:!1,nullsFirst:!1}).order("games_won",{ascending:!1,nullsFirst:!1});g&&e(g),i(!1)},h=v=>v===0?c.jsx(Wn,{className:"h-6 w-6 text-yellow-500 trophy-shine"}):v===1?c.jsx(l1,{className:"h-6 w-6 text-gray-400"}):v===2?c.jsx(Cu,{className:"h-6 w-6 text-amber-700"}):c.jsx("span",{className:"w-6 h-6 flex items-center justify-center font-bold text-muted-foreground",children:v+1}),m=v=>v===0?"bg-gradient-to-r from-yellow-500/20 to-amber-500/20 border-yellow-500/30":v===1?"bg-gradient-to-r from-gray-400/20 to-slate-400/20 border-gray-400/30":v===2?"bg-gradient-to-r from-amber-700/20 to-orange-700/20 border-amber-700/30":"";return c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"font-display text-3xl md:text-4xl font-bold mb-2",children:"Tournament Standings"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:o})]}),l&&r.length>0&&c.jsxs(De,{className:"border-2 dark:rgb-border",children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(f1,{className:"h-5 w-5 text-accent dark:rgb-text"}),c.jsx("span",{className:"dark:rgb-text",children:"Super League Standings"})]})}),c.jsx(Ue,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-2 px-4 py-2 text-sm font-medium text-muted-foreground border-b",children:[c.jsx("div",{className:"col-span-1",children:"#"}),c.jsx("div",{className:"col-span-5",children:"Player"}),c.jsx("div",{className:"col-span-2 text-center",children:"Rating"}),c.jsx("div",{className:"col-span-2 text-center",children:"SL Score"}),c.jsx("div",{className:"col-span-2 text-center",children:"Total"})]}),r.map((v,g)=>c.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center px-4 py-3 rounded-lg border transition-all hover:scale-[1.01] ${m(g)} dark:rgb-glow`,style:{animationDelay:`${g*.5}s`},children:[c.jsx("div",{className:"col-span-1",children:h(g)}),c.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[c.jsx(ur,{avatarUrl:v.avatar_url,initials:v.avatar_initials,name:v.full_name,size:"sm",showOnlineIndicator:!0,isOnline:d(v.id)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:v.username}),c.jsx("p",{className:"text-xs text-muted-foreground",children:v.full_name})]})]}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-primary",children:v.rating||1200})}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-lg text-accent",children:v.super_league_score.toFixed(1)})}),c.jsx("div",{className:"col-span-2 text-center text-sm text-muted-foreground",children:Number(v.score||0).toFixed(1)})]},v.id))]})})]}),c.jsxs(De,{className:"border-2",children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(Wn,{className:"h-5 w-5 text-primary"}),l?"Swiss Round Rankings":"Current Rankings"]})}),c.jsx(Ue,{children:s?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading standings..."}):t.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No players yet."}):c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-2 px-4 py-2 text-sm font-medium text-muted-foreground border-b",children:[c.jsx("div",{className:"col-span-1",children:"#"}),c.jsx("div",{className:"col-span-5",children:"Player"}),c.jsx("div",{className:"col-span-2 text-center",children:"Rating"}),c.jsx("div",{className:"col-span-2 text-center",children:"Score"}),c.jsx("div",{className:"col-span-2 text-center",children:"W/L"})]}),t.map((v,g)=>c.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center px-4 py-3 rounded-lg border transition-all hover:scale-[1.01] ${m(g)}`,children:[c.jsx("div",{className:"col-span-1",children:h(g)}),c.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[c.jsx(ur,{avatarUrl:v.avatar_url,initials:v.avatar_initials,name:v.full_name,size:"sm",showOnlineIndicator:!0,isOnline:d(v.id)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:v.username}),c.jsx("p",{className:"text-xs text-muted-foreground",children:v.full_name})]})]}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-primary",children:v.rating||1200})}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-lg",children:Number(v.score||0).toFixed(1)})}),c.jsxs("div",{className:"col-span-2 text-center text-sm",children:[c.jsx("span",{className:"text-green-500",children:v.games_won||0}),c.jsx("span",{className:"text-muted-foreground",children:"/"}),c.jsx("span",{className:"text-red-500",children:(v.games_played||0)-(v.games_won||0)})]})]},v.id))]})})]})]})})},tI=()=>{const[t,e]=f.useState(null),[r,n]=f.useState(!0);f.useEffect(()=>{s()},[]);const s=async()=>{const{data:i}=await ee.from("champions").select(`
        id,
        published,
        first_place:first_place_id (id, username, full_name, avatar_url, avatar_initials),
        second_place:second_place_id (id, username, full_name, avatar_url, avatar_initials),
        third_place:third_place_id (id, username, full_name, avatar_url, avatar_initials),
        tournament:tournament_id (name)
      `).eq("published",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();i&&e(i),n(!1)};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center",children:[c.jsx($n,{className:"h-16 w-16 mx-auto text-primary animate-float"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading champions..."})]})}):t?c.jsxs("div",{className:"min-h-screen bg-background py-12 px-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/5"}),c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:50}).map((i,o)=>c.jsx("div",{className:"absolute w-3 h-3 rounded-full",style:{left:`${Math.random()*100}%`,top:`-${Math.random()*20}%`,backgroundColor:["#FFD700","#C41E3A","#228B22","#00D4FF","#8B5CF6"][Math.floor(Math.random()*5)],animation:`confetti-fall ${5+Math.random()*5}s linear infinite`,animationDelay:`${Math.random()*5}s`}},o))}),c.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[c.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx($n,{className:"h-20 w-20 text-accent trophy-shine"})}),c.jsx("h1",{className:"font-display text-4xl md:text-5xl font-bold mb-2 bg-clip-text text-transparent bg-christmas-gradient dark:bg-neon-gradient",children:"Christmas Gambit Cup 2K25"}),c.jsx("p",{className:"text-xl text-muted-foreground font-gamer-body",children:"Champions"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-end",children:[c.jsx("div",{className:"order-2 md:order-1 animate-fade-in-up",style:{animationDelay:"0.2s"},children:t.second_place&&c.jsx(De,{className:"border-2 border-gray-400/30 card-hover",children:c.jsxs(Ue,{className:"pt-6 text-center",children:[c.jsxs("div",{className:"relative inline-block mb-4",children:[c.jsx(ur,{avatarUrl:t.second_place.avatar_url,initials:t.second_place.avatar_initials,name:t.second_place.full_name,size:"lg",className:"ring-4 ring-gray-400"}),c.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gray-400 rounded-full p-2",children:c.jsx(l1,{className:"h-5 w-5 text-white"})})]}),c.jsx("h3",{className:"font-display text-xl font-bold",children:t.second_place.username}),c.jsx("p",{className:"text-muted-foreground",children:t.second_place.full_name}),c.jsxs("div",{className:"mt-4 py-2 bg-gray-400/20 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-400",children:""}),c.jsx("p",{className:"text-sm font-medium",children:"Runner-up"})]})]})})}),c.jsx("div",{className:"order-1 md:order-2 animate-fade-in-up",children:t.first_place&&c.jsxs(De,{className:"border-4 border-yellow-500/50 shadow-xl relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/10 via-transparent to-amber-500/10"}),c.jsxs(Ue,{className:"pt-8 pb-6 text-center relative",children:[c.jsxs("div",{className:"relative inline-block mb-4",children:[c.jsx(ur,{avatarUrl:t.first_place.avatar_url,initials:t.first_place.avatar_initials,name:t.first_place.full_name,size:"xl",className:"ring-4 ring-yellow-500 trophy-shine"}),c.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:c.jsx($n,{className:"h-10 w-10 text-yellow-500 trophy-shine"})})]}),c.jsx("h3",{className:"font-display text-2xl font-bold",children:t.first_place.username}),c.jsx("p",{className:"text-muted-foreground",children:t.first_place.full_name}),c.jsxs("div",{className:"mt-4 py-3 bg-yellow-500/20 rounded-lg",children:[c.jsx("p",{className:"text-3xl font-bold",children:""}),c.jsx("p",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400",children:"CHAMPION"})]})]})]})}),c.jsx("div",{className:"order-3 animate-fade-in-up",style:{animationDelay:"0.4s"},children:t.third_place&&c.jsx(De,{className:"border-2 border-amber-700/30 card-hover",children:c.jsxs(Ue,{className:"pt-6 text-center",children:[c.jsxs("div",{className:"relative inline-block mb-4",children:[c.jsx(ur,{avatarUrl:t.third_place.avatar_url,initials:t.third_place.avatar_initials,name:t.third_place.full_name,size:"lg",className:"ring-4 ring-amber-700"}),c.jsx("div",{className:"absolute -bottom-2 -right-2 bg-amber-700 rounded-full p-2",children:c.jsx(Cu,{className:"h-5 w-5 text-white"})})]}),c.jsx("h3",{className:"font-display text-xl font-bold",children:t.third_place.username}),c.jsx("p",{className:"text-muted-foreground",children:t.third_place.full_name}),c.jsxs("div",{className:"mt-4 py-2 bg-amber-700/20 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-amber-700",children:""}),c.jsx("p",{className:"text-sm font-medium",children:"Third Place"})]})]})})})]}),c.jsxs("div",{className:"text-center mt-12",children:[c.jsx("div",{className:"candy-divider w-48 mx-auto mb-4 dark:hidden"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:" Congratulations to all participants! "})]})]})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx(Wn,{className:"h-20 w-20 mx-auto text-muted-foreground mb-4"}),c.jsx("h1",{className:"font-display text-2xl font-bold mb-2",children:"No Champions Yet"}),c.jsx("p",{className:"text-muted-foreground",children:"The tournament hasn't concluded yet. Check back after the final games!"})]})})},rI=()=>{const{profile:t}=Ei(),[e,r]=f.useState([]),[n,s]=f.useState(!0);f.useEffect(()=>{i();const a=ee.channel("games-list").on("postgres_changes",{event:"*",schema:"public",table:"games"},()=>{i()}).subscribe();return()=>{ee.removeChannel(a)}},[]);const i=async()=>{const{data:a}=await ee.from("tournaments").select("id").in("status",["in_progress","completed"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(a){const{data:l}=await ee.from("games").select(`
          id,
          round,
          result,
          white_player_id,
          black_player_id,
          white_player:white_player_id (username, avatar_url, avatar_initials),
          black_player:black_player_id (username, avatar_url, avatar_initials)
        `).eq("tournament_id",a.id).order("round",{ascending:!1}).order("created_at",{ascending:!1});l&&r(l)}s(!1)},o=(a,l,u)=>a==="pending"?c.jsx("span",{className:"text-muted-foreground",children:"Pending"}):a==="in_progress"?c.jsx("span",{className:"text-primary",children:"Live"}):a==="draw"?c.jsx("span",{className:"text-muted-foreground",children:"Draw"}):a==="white_wins"&&l?c.jsx("span",{className:"text-green-500",children:"Won"}):a==="black_wins"&&u?c.jsx("span",{className:"text-green-500",children:"Won"}):a==="white_wins"&&u?c.jsx("span",{className:"text-destructive",children:"Lost"}):a==="black_wins"&&l?c.jsx("span",{className:"text-destructive",children:"Lost"}):c.jsx("span",{className:"capitalize",children:a.replace(/_/g," ")});return c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"font-display text-3xl md:text-4xl font-bold mb-2",children:"Games"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Active and completed matches"})]}),c.jsxs(De,{className:"border-2",children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(jo,{className:"h-5 w-5 text-primary"}),"Match List"]})}),c.jsx(Ue,{children:n?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading games..."}):e.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No games yet. The tournament hasn't started."}):c.jsx("div",{className:"space-y-3",children:e.map(a=>{var p,h,m,v,g,b;const l=(t==null?void 0:t.id)===a.white_player_id,u=(t==null?void 0:t.id)===a.black_player_id,d=l||u;return c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-all ${d?"border-primary/30 bg-primary/5":""} ${a.result==="in_progress"?"ring-2 ring-primary":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:"Round"}),c.jsx("p",{className:"font-bold",children:a.round})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ur,{avatarUrl:(p=a.white_player)==null?void 0:p.avatar_url,initials:(h=a.white_player)==null?void 0:h.avatar_initials,size:"sm"}),c.jsx("span",{className:`font-medium ${l?"text-primary font-bold":""}`,children:(m=a.white_player)==null?void 0:m.username})]}),c.jsx("span",{className:"text-muted-foreground",children:"vs"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ur,{avatarUrl:(v=a.black_player)==null?void 0:v.avatar_url,initials:(g=a.black_player)==null?void 0:g.avatar_initials,size:"sm"}),c.jsx("span",{className:`font-medium ${u?"text-primary font-bold":""}`,children:(b=a.black_player)==null?void 0:b.username})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-right",children:o(a.result,l,u)}),c.jsx(tn,{to:`/game/${a.id}`,children:c.jsx(_e,{size:"sm",variant:a.result==="in_progress"&&d?"default":"outline",children:a.result==="in_progress"?d?c.jsxs(c.Fragment,{children:[c.jsx(af,{className:"h-4 w-4 mr-1"})," Play"]}):c.jsxs(c.Fragment,{children:[c.jsx($a,{className:"h-4 w-4 mr-1"})," Watch"]}):c.jsxs(c.Fragment,{children:[c.jsx($a,{className:"h-4 w-4 mr-1"})," View"]})})})]})]},a.id)})})})]})]})})};function nI(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function sI(t,e,r,n,s){const i={move:t,variations:s};return e&&(i.suffix=e),r&&(i.nag=r),n!==null&&(i.comment=n),i}function iI(...t){const[e,...r]=t;let n=e;for(const s of r)s!==null&&(n.variations=[s,...s.variations],s.variations=[],n=s);return e}function oI(t,e){if(e.marker&&e.marker.comment){let r=e.root;for(;;){const n=r.variations[0];if(!n){r.comment=e.marker.comment;break}r=n}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function aI(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function Po(t,e,r,n){var s=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(s,Po.prototype),s.expected=e,s.found=r,s.location=n,s.name="SyntaxError",s}aI(Po,Error);function zd(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,r+=r.repeat(e),t+r.slice(0,e))}Po.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){r=t[n].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,i=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,o=this.location.source+":"+i.line+":"+i.column;if(r){var a=this.location.end,l=zd("",i.line.toString().length," "),u=r[s.line-1],d=s.line===a.line?a.column:u.length+1,p=d-s.column||1;e+=`
 --> `+o+`
`+l+` |
`+i.line+" | "+u+`
`+l+" | "+zd("",s.column-1," ")+zd("",p,"^")}else e+=`
 at `+o}return e};Po.buildMessage=function(t,e){var r={literal:function(u){return'"'+s(u.text)+'"'},class:function(u){var d=u.parts.map(function(p){return Array.isArray(p)?i(p[0])+"-"+i(p[1]):i(p)});return"["+(u.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function n(u){return u.charCodeAt(0).toString(16).toUpperCase()}function s(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+n(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+n(d)})}function i(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+n(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+n(d)})}function o(u){return r[u.type](u)}function a(u){var d=u.map(o),p,h;if(d.sort(),d.length>0){for(p=1,h=1;p<d.length;p++)d[p-1]!==d[p]&&(d[h]=d[p],h++);d.length=h}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function l(u){return u?'"'+s(u)+'"':"end of input"}return"Expected "+a(t)+" but "+l(e)+" found."};function lI(t,e){e=e!==void 0?e:{};var r={},n=e.grammarSource,s={pgn:Hm},i=Hm,o="[",a='"',l="]",u=".",d="O-O-O",p="O-O",h="0-0-0",m="0-0",v="$",g="{",b="}",w=";",y="(",x=")",_="1-0",S="0-1",E="1/2-1/2",C="*",T=/^[a-zA-Z]/,L=/^[^"]/,$=/^[0-9]/,Y=/^[.]/,U=/^[a-zA-Z1-8\-=]/,J=/^[+#]/,R=/^[!?]/,K=/^[^}]/,M=/^[^\r\n]/,V=/^[ \t\r\n]/,j=Ke("tag pair"),O=Ae("[",!1),H=Ae('"',!1),Z=Ae("]",!1),k=Ke("tag name"),W=$e([["a","z"],["A","Z"]],!1,!1),z=Ke("tag value"),X=$e(['"'],!0,!1),ae=Ke("move number"),A=$e([["0","9"]],!1,!1),ne=Ae(".",!1),de=$e(["."],!1,!1),le=Ke("standard algebraic notation"),ie=Ae("O-O-O",!1),ge=Ae("O-O",!1),We=Ae("0-0-0",!1),gt=Ae("0-0",!1),Lt=$e([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),ut=$e(["+","#"],!1,!1),Vt=Ke("suffix annotation"),qt=$e(["!","?"],!1,!1),kr=Ke("NAG"),kn=Ae("$",!1),Br=Ke("brace comment"),un=Ae("{",!1),Mt=$e(["}"],!0,!1),G=Ae("}",!1),se=Ke("rest of line comment"),re=Ae(";",!1),xe=$e(["\r",`
`],!0,!1),vt=Ke("variation"),Kt=Ae("(",!1),yt=Ae(")",!1),et=Ke("game termination marker"),tr=Ae("1-0",!1),rr=Ae("0-1",!1),dt=Ae("1/2-1/2",!1),wt=Ae("*",!1),dr=Ke("whitespace"),Tn=$e([" ","	","\r",`
`],!1,!1),Tr=function(N,I){return oI(N,I)},hr=function(N){return Object.fromEntries(N)},jr=function(N,I){return[N,I]},jn=function(N,I){return{root:N,marker:I}},zr=function(N,I){return iI(nI(N),...I.flat())},Nr=function(N,I,D,ue,he){return sI(N,I,D,ue,he)},Bo=function(N){return N},ve=function(N){return N.replace(/[\r\n]+/g," ")},Oe=function(N){return N.trim()},Re=function(N){return N},kt=function(N,I){return{result:N,comment:I}},P=e.peg$currPos|0,Tt=[{line:1,column:1}],st=P,xt=e.peg$maxFailExpected||[],B=e.peg$silentFails|0,Me;if(e.startRule){if(!(e.startRule in s))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=s[e.startRule]}function Ae(N,I){return{type:"literal",text:N,ignoreCase:I}}function $e(N,I,D){return{type:"class",parts:N,inverted:I,ignoreCase:D}}function dn(){return{type:"end"}}function Ke(N){return{type:"other",description:N}}function ml(N){var I=Tt[N],D;if(I)return I;if(N>=Tt.length)D=Tt.length-1;else for(D=N;!Tt[--D];);for(I=Tt[D],I={line:I.line,column:I.column};D<N;)t.charCodeAt(D)===10?(I.line++,I.column=1):I.column++,D++;return Tt[N]=I,I}function Wm(N,I,D){var ue=ml(N),he=ml(I),Ie={source:n,start:{offset:N,line:ue.line,column:ue.column},end:{offset:I,line:he.line,column:he.column}};return Ie}function ce(N){P<st||(P>st&&(st=P,xt=[]),xt.push(N))}function pE(N,I,D){return new Po(Po.buildMessage(N,I),N,I,D)}function Hm(){var N,I,D;return N=P,I=mE(),D=yE(),N=Tr(I,D),N}function mE(){var N,I,D;for(N=P,I=[],D=Vm();D!==r;)I.push(D),D=Vm();return D=Gt(),N=hr(I),N}function Vm(){var N,I,D,ue,he,Ie,Fs;return B++,N=P,Gt(),t.charCodeAt(P)===91?(I=o,P++):(I=r,B===0&&ce(O)),I!==r?(Gt(),D=gE(),D!==r?(Gt(),t.charCodeAt(P)===34?(ue=a,P++):(ue=r,B===0&&ce(H)),ue!==r?(he=vE(),t.charCodeAt(P)===34?(Ie=a,P++):(Ie=r,B===0&&ce(H)),Ie!==r?(Gt(),t.charCodeAt(P)===93?(Fs=l,P++):(Fs=r,B===0&&ce(Z)),Fs!==r?N=jr(D,he):(P=N,N=r)):(P=N,N=r)):(P=N,N=r)):(P=N,N=r)):(P=N,N=r),B--,N===r&&B===0&&ce(j),N}function gE(){var N,I,D;if(B++,N=P,I=[],D=t.charAt(P),T.test(D)?P++:(D=r,B===0&&ce(W)),D!==r)for(;D!==r;)I.push(D),D=t.charAt(P),T.test(D)?P++:(D=r,B===0&&ce(W));else I=r;return I!==r?N=t.substring(N,P):N=I,B--,N===r&&(I=r,B===0&&ce(k)),N}function vE(){var N,I,D;for(B++,N=P,I=[],D=t.charAt(P),L.test(D)?P++:(D=r,B===0&&ce(X));D!==r;)I.push(D),D=t.charAt(P),L.test(D)?P++:(D=r,B===0&&ce(X));return N=t.substring(N,P),B--,I=r,B===0&&ce(z),N}function yE(){var N,I,D;return N=P,I=qm(),Gt(),D=EE(),D===r&&(D=null),Gt(),N=jn(I,D),N}function qm(){var N,I,D,ue;for(N=P,I=Yu(),I===r&&(I=null),D=[],ue=Km();ue!==r;)D.push(ue),ue=Km();return N=zr(I,D),N}function Km(){var N,I,D,ue,he,Ie,Fs,gl;if(N=P,Gt(),wE(),Gt(),I=xE(),I!==r){for(D=bE(),D===r&&(D=null),ue=[],he=Gm();he!==r;)ue.push(he),he=Gm();for(he=Gt(),Ie=Yu(),Ie===r&&(Ie=null),Fs=[],gl=Qm();gl!==r;)Fs.push(gl),gl=Qm();N=Nr(I,D,ue,Ie,Fs)}else P=N,N=r;return N}function wE(){var N,I,D,ue,he,Ie;for(B++,N=P,I=[],D=t.charAt(P),$.test(D)?P++:(D=r,B===0&&ce(A));D!==r;)I.push(D),D=t.charAt(P),$.test(D)?P++:(D=r,B===0&&ce(A));if(t.charCodeAt(P)===46?(D=u,P++):(D=r,B===0&&ce(ne)),D!==r){for(ue=Gt(),he=[],Ie=t.charAt(P),Y.test(Ie)?P++:(Ie=r,B===0&&ce(de));Ie!==r;)he.push(Ie),Ie=t.charAt(P),Y.test(Ie)?P++:(Ie=r,B===0&&ce(de));I=[I,D,ue,he],N=I}else P=N,N=r;return B--,N===r&&(I=r,B===0&&ce(ae)),N}function xE(){var N,I,D,ue,he,Ie;if(B++,N=P,I=P,t.substr(P,5)===d?(D=d,P+=5):(D=r,B===0&&ce(ie)),D===r&&(t.substr(P,3)===p?(D=p,P+=3):(D=r,B===0&&ce(ge)),D===r&&(t.substr(P,5)===h?(D=h,P+=5):(D=r,B===0&&ce(We)),D===r&&(t.substr(P,3)===m?(D=m,P+=3):(D=r,B===0&&ce(gt)),D===r))))if(D=P,ue=t.charAt(P),T.test(ue)?P++:(ue=r,B===0&&ce(W)),ue!==r){if(he=[],Ie=t.charAt(P),U.test(Ie)?P++:(Ie=r,B===0&&ce(Lt)),Ie!==r)for(;Ie!==r;)he.push(Ie),Ie=t.charAt(P),U.test(Ie)?P++:(Ie=r,B===0&&ce(Lt));else he=r;he!==r?(ue=[ue,he],D=ue):(P=D,D=r)}else P=D,D=r;return D!==r?(ue=t.charAt(P),J.test(ue)?P++:(ue=r,B===0&&ce(ut)),ue===r&&(ue=null),D=[D,ue],I=D):(P=I,I=r),I!==r?N=t.substring(N,P):N=I,B--,N===r&&(I=r,B===0&&ce(le)),N}function bE(){var N,I,D;for(B++,N=P,I=[],D=t.charAt(P),R.test(D)?P++:(D=r,B===0&&ce(qt));D!==r;)I.push(D),I.length>=2?D=r:(D=t.charAt(P),R.test(D)?P++:(D=r,B===0&&ce(qt)));return I.length<1?(P=N,N=r):N=I,B--,N===r&&(I=r,B===0&&ce(Vt)),N}function Gm(){var N,I,D,ue,he;if(B++,N=P,Gt(),t.charCodeAt(P)===36?(I=v,P++):(I=r,B===0&&ce(kn)),I!==r){if(D=P,ue=[],he=t.charAt(P),$.test(he)?P++:(he=r,B===0&&ce(A)),he!==r)for(;he!==r;)ue.push(he),he=t.charAt(P),$.test(he)?P++:(he=r,B===0&&ce(A));else ue=r;ue!==r?D=t.substring(D,P):D=ue,D!==r?N=Bo(D):(P=N,N=r)}else P=N,N=r;return B--,N===r&&B===0&&ce(kr),N}function Yu(){var N;return N=_E(),N===r&&(N=SE()),N}function _E(){var N,I,D,ue,he;if(B++,N=P,t.charCodeAt(P)===123?(I=g,P++):(I=r,B===0&&ce(un)),I!==r){for(D=P,ue=[],he=t.charAt(P),K.test(he)?P++:(he=r,B===0&&ce(Mt));he!==r;)ue.push(he),he=t.charAt(P),K.test(he)?P++:(he=r,B===0&&ce(Mt));D=t.substring(D,P),t.charCodeAt(P)===125?(ue=b,P++):(ue=r,B===0&&ce(G)),ue!==r?N=ve(D):(P=N,N=r)}else P=N,N=r;return B--,N===r&&(I=r,B===0&&ce(Br)),N}function SE(){var N,I,D,ue,he;if(B++,N=P,t.charCodeAt(P)===59?(I=w,P++):(I=r,B===0&&ce(re)),I!==r){for(D=P,ue=[],he=t.charAt(P),M.test(he)?P++:(he=r,B===0&&ce(xe));he!==r;)ue.push(he),he=t.charAt(P),M.test(he)?P++:(he=r,B===0&&ce(xe));D=t.substring(D,P),N=Oe(D)}else P=N,N=r;return B--,N===r&&(I=r,B===0&&ce(se)),N}function Qm(){var N,I,D,ue;return B++,N=P,Gt(),t.charCodeAt(P)===40?(I=y,P++):(I=r,B===0&&ce(Kt)),I!==r?(D=qm(),D!==r?(Gt(),t.charCodeAt(P)===41?(ue=x,P++):(ue=r,B===0&&ce(yt)),ue!==r?N=Re(D):(P=N,N=r)):(P=N,N=r)):(P=N,N=r),B--,N===r&&B===0&&ce(vt),N}function EE(){var N,I,D;return B++,N=P,t.substr(P,3)===_?(I=_,P+=3):(I=r,B===0&&ce(tr)),I===r&&(t.substr(P,3)===S?(I=S,P+=3):(I=r,B===0&&ce(rr)),I===r&&(t.substr(P,7)===E?(I=E,P+=7):(I=r,B===0&&ce(dt)),I===r&&(t.charCodeAt(P)===42?(I=C,P++):(I=r,B===0&&ce(wt))))),I!==r?(Gt(),D=Yu(),D===r&&(D=null),N=kt(I,D)):(P=N,N=r),B--,N===r&&(I=r,B===0&&ce(et)),N}function Gt(){var N,I;for(B++,N=[],I=t.charAt(P),V.test(I)?P++:(I=r,B===0&&ce(Tn));I!==r;)N.push(I),I=t.charAt(P),V.test(I)?P++:(I=r,B===0&&ce(Tn));return B--,I=r,B===0&&ce(dr),N}if(Me=i(),e.peg$library)return{peg$result:Me,peg$currPos:P,peg$FAILED:r,peg$maxFailExpected:xt,peg$maxFailPos:st};if(Me!==r&&P===t.length)return Me;throw Me!==r&&P<t.length&&ce(dn()),pE(xt,st<t.length?t.charAt(st):null,st<t.length?Wm(st,st+1):Wm(st,st))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const fc=0xffffffffffffffffn;function Wd(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function v0(t,e){return t*e&fc}function cI(t){return function(){let e=BigInt(t&fc),r=BigInt(t>>64n&fc);const n=v0(Wd(v0(e,5n),7n),9n);return r^=e,e=(Wd(e,24n)^r^r<<16n)&fc,r=Wd(r,37n),t=r<<64n|e,n}}const Uu=cI(0xa187eb39cdcaed8f31c4b365b102e01en),uI=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Uu()))),dI=Array.from({length:8},()=>Uu()),hI=Array.from({length:16},()=>Uu()),Hd=Uu(),Bt="w",pr="b",ot="p",If="n",pc="b",ia="r",as="q",ft="k",Vd="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Hl{constructor(e,r){Ge(this,"color");Ge(this,"from");Ge(this,"to");Ge(this,"piece");Ge(this,"captured");Ge(this,"promotion");Ge(this,"flags");Ge(this,"san");Ge(this,"lan");Ge(this,"before");Ge(this,"after");const{color:n,piece:s,from:i,to:o,flags:a,captured:l,promotion:u}=r,d=bt(i),p=bt(o);this.color=n,this.piece=s,this.from=d,this.to=p,this.san=e._moveToSan(r,e._moves({legal:!0})),this.lan=d+p,this.before=e.fen(),e._makeMove(r),this.after=e.fen(),e._undoMove(),this.flags="";for(const h in we)we[h]&a&&(this.flags+=Ws[h]);l&&(this.captured=l),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(Ws.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Ws.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Ws.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Ws.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Ws.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Ws.BIG_PAWN)>-1}}const Nt=-1,Ws={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},we={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Df={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},fI={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},pI={...Df,...fI},ye={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},qd={b:[16,32,17,15],w:[-16,-32,-17,-15]},y0={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},mI=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],gI=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],vI={p:1,n:2,b:4,r:8,q:16,k:32},yI="pnbrqkPNBRQK",w0=[If,pc,ia,as],wI=7,xI=6,bI=1,_I=0,Vl={[ft]:we.KSIDE_CASTLE,[as]:we.QSIDE_CASTLE},es={w:[{square:ye.a1,flag:we.QSIDE_CASTLE},{square:ye.h1,flag:we.KSIDE_CASTLE}],b:[{square:ye.a8,flag:we.QSIDE_CASTLE},{square:ye.h8,flag:we.KSIDE_CASTLE}]},SI={b:bI,w:xI},Kd="--";function ai(t){return t>>4}function Xa(t){return t&15}function o_(t){return"0123456789".indexOf(t)!==-1}function bt(t){const e=Xa(t),r=ai(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function Xo(t){return t===Bt?pr:Bt}function EI(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const s=e[0].split("/");if(s.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<s.length;o++){let a=0,l=!1;for(let u=0;u<s[o].length;u++)if(o_(s[o][u])){if(l)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};a+=parseInt(s[o][u],10),l=!0}else{if(!/^[prnbqkPRNBQK]$/.test(s[o][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};a+=1,l=!1}if(a!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:a}of i){if(!a.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(a)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(s[0]+s[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function CI(t,e){const r=t.from,n=t.to,s=t.piece;let i=0,o=0,a=0;for(let l=0,u=e.length;l<u;l++){const d=e[l].from,p=e[l].to,h=e[l].piece;s===h&&r!==d&&n===p&&(i++,ai(r)===ai(d)&&o++,Xa(r)===Xa(d)&&a++)}return i>0?o>0&&a>0?bt(r):a>0?bt(r).charAt(1):bt(r).charAt(0):""}function ts(t,e,r,n,s,i=void 0,o=we.NORMAL){const a=ai(n);if(s===ot&&(a===wI||a===_I))for(let l=0;l<w0.length;l++){const u=w0[l];t.push({color:e,from:r,to:n,piece:s,captured:i,promotion:u,flags:o|we.PROMOTION})}else t.push({color:e,from:r,to:n,piece:s,captured:i,flags:o})}function x0(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:ot:(e=e.toLowerCase(),e==="o"?ft:e)}function Gd(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class vn{constructor(e=Vd,{skipValidation:r=!1}={}){Ge(this,"_board",new Array(128));Ge(this,"_turn",Bt);Ge(this,"_header",{});Ge(this,"_kings",{w:Nt,b:Nt});Ge(this,"_epSquare",-1);Ge(this,"_halfMoves",0);Ge(this,"_moveNumber",0);Ge(this,"_history",[]);Ge(this,"_comments",{});Ge(this,"_castling",{w:0,b:0});Ge(this,"_hash",0n);Ge(this,"_positionCount",new Map);this.load(e,{skipValidation:r})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:Nt,b:Nt},this._turn=Bt,this._castling={w:0,b:0},this._epSquare=Nt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...pI},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:r=!1,preserveHeaders:n=!1}={}){let s=e.split(/\s+/);if(s.length>=2&&s.length<6){const a=["-","-","0","1"];e=s.concat(a.slice(-(6-s.length))).join(" ")}if(s=e.split(/\s+/),!r){const{ok:a,error:l}=EI(e);if(!a)throw new Error(l)}const i=s[0];let o=0;this.clear({preserveHeaders:n});for(let a=0;a<i.length;a++){const l=i.charAt(a);if(l==="/")o+=8;else if(o_(l))o+=parseInt(l,10);else{const u=l<"a"?Bt:pr;this._put({type:l.toLowerCase(),color:u},bt(o)),o++}}this._turn=s[1],s[2].indexOf("K")>-1&&(this._castling.w|=we.KSIDE_CASTLE),s[2].indexOf("Q")>-1&&(this._castling.w|=we.QSIDE_CASTLE),s[2].indexOf("k")>-1&&(this._castling.b|=we.KSIDE_CASTLE),s[2].indexOf("q")>-1&&(this._castling.b|=we.QSIDE_CASTLE),this._epSquare=s[3]==="-"?Nt:ye[s[3]],this._halfMoves=parseInt(s[4],10),this._moveNumber=parseInt(s[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){var o,a;let r=0,n="";for(let l=ye.a8;l<=ye.h1;l++){if(this._board[l]){r>0&&(n+=r,r=0);const{color:u,type:d}=this._board[l];n+=u===Bt?d.toUpperCase():d.toLowerCase()}else r++;l+1&136&&(r>0&&(n+=r),l!==ye.h1&&(n+="/"),r=0,l+=8)}let s="";this._castling[Bt]&we.KSIDE_CASTLE&&(s+="K"),this._castling[Bt]&we.QSIDE_CASTLE&&(s+="Q"),this._castling[pr]&we.KSIDE_CASTLE&&(s+="k"),this._castling[pr]&we.QSIDE_CASTLE&&(s+="q"),s=s||"-";let i="-";if(this._epSquare!==Nt)if(e)i=bt(this._epSquare);else{const l=this._epSquare+(this._turn===Bt?16:-16),u=[l+1,l-1];for(const d of u){if(d&136)continue;const p=this._turn;if(((o=this._board[d])==null?void 0:o.color)===p&&((a=this._board[d])==null?void 0:a.type)===ot){this._makeMove({color:p,from:d,to:this._epSquare,piece:ot,captured:ot,flags:we.EP_CAPTURE});const h=!this._isKingAttacked(p);if(this._undoMove(),h){i=bt(this._epSquare);break}}}}return[n,this._turn,s,i,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:r,type:n}=this._board[e],s={w:0,b:1}[r],i={p:0,n:1,b:2,r:3,q:4,k:5}[n];return uI[s][i][e]}_epKey(){return this._epSquare===Nt?0n:dI[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return hI[e]}_computeHash(){let e=0n;for(let r=ye.a8;r<=ye.h1;r++){if(r&136){r+=7;continue}this._board[r]&&(e^=this._pieceKey(r))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=Hd),e}_updateSetup(e){this._history.length>0||(e!==Vd?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Vd)}get(e){return this._board[ye[e]]}findPiece(e){var n;const r=[];for(let s=ye.a8;s<=ye.h1;s++){if(s&136){s+=7;continue}!this._board[s]||((n=this._board[s])==null?void 0:n.color)!==e.color||this._board[s].color===e.color&&this._board[s].type===e.type&&r.push(bt(s))}return r}put({type:e,color:r},n){return this._put({type:e,color:r},n)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,r){this._hash^=this._pieceKey(e),this._board[e]=r,this._hash^=this._pieceKey(e)}_put({type:e,color:r},n){if(yI.indexOf(e.toLowerCase())===-1||!(n in ye))return!1;const s=ye[n];if(e==ft&&!(this._kings[r]==Nt||this._kings[r]==s))return!1;const i=this._board[s];return i&&i.type===ft&&(this._kings[i.color]=Nt),this._set(s,{type:e,color:r}),e===ft&&(this._kings[r]=s),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const r=this.get(e);return this._clear(ye[e]),r&&r.type===ft&&(this._kings[r.color]=Nt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){var n,s,i,o,a,l,u,d,p,h,m,v;this._hash^=this._castlingKey();const e=((n=this._board[ye.e1])==null?void 0:n.type)===ft&&((s=this._board[ye.e1])==null?void 0:s.color)===Bt,r=((i=this._board[ye.e8])==null?void 0:i.type)===ft&&((o=this._board[ye.e8])==null?void 0:o.color)===pr;(!e||((a=this._board[ye.a1])==null?void 0:a.type)!==ia||((l=this._board[ye.a1])==null?void 0:l.color)!==Bt)&&(this._castling.w&=-65),(!e||((u=this._board[ye.h1])==null?void 0:u.type)!==ia||((d=this._board[ye.h1])==null?void 0:d.color)!==Bt)&&(this._castling.w&=-33),(!r||((p=this._board[ye.a8])==null?void 0:p.type)!==ia||((h=this._board[ye.a8])==null?void 0:h.color)!==pr)&&(this._castling.b&=-65),(!r||((m=this._board[ye.h8])==null?void 0:m.type)!==ia||((v=this._board[ye.h8])==null?void 0:v.color)!==pr)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var i,o;if(this._epSquare===Nt)return;const e=this._epSquare+(this._turn===Bt?-16:16),r=this._epSquare+(this._turn===Bt?16:-16),n=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((i=this._board[r])==null?void 0:i.color)!==Xo(this._turn)||((o=this._board[r])==null?void 0:o.type)!==ot){this._hash^=this._epKey(),this._epSquare=Nt;return}const s=a=>{var l,u;return!(a&136)&&((l=this._board[a])==null?void 0:l.color)===this._turn&&((u=this._board[a])==null?void 0:u.type)===ot};n.some(s)||(this._hash^=this._epKey(),this._epSquare=Nt)}_attacked(e,r,n){const s=[];for(let i=ye.a8;i<=ye.h1;i++){if(i&136){i+=7;continue}if(this._board[i]===void 0||this._board[i].color!==e)continue;const o=this._board[i],a=i-r;if(a===0)continue;const l=a+119;if(mI[l]&vI[o.type]){if(o.type===ot){if(a>0&&o.color===Bt||a<=0&&o.color===pr)if(n)s.push(bt(i));else return!0;continue}if(o.type==="n"||o.type==="k")if(n){s.push(bt(i));continue}else return!0;const u=gI[l];let d=i+u,p=!1;for(;d!==r;){if(this._board[d]!=null){p=!0;break}d+=u}if(!p)if(n){s.push(bt(i));continue}else return!0}}return n?s:!1}attackers(e,r){return r?this._attacked(r,ye[e],!0):this._attacked(this._turn,ye[e],!0)}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(Xo(e),r)}hash(){return this._hash.toString(16)}isAttacked(e,r){return this._attacked(r,ye[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let n=0,s=0;for(let i=ye.a8;i<=ye.h1;i++){if(s=(s+1)%2,i&136){i+=7;continue}const o=this._board[i];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===pc&&r.push(s),n++)}if(n===2)return!0;if(n===3&&(e[pc]===1||e[If]===1))return!0;if(n===e[pc]+2){let i=0;const o=r.length;for(let a=0;a<o;a++)i+=r[a];if(i===0||i===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:n=void 0}={}){const s=this._moves({square:r,piece:n});return e?s.map(i=>new Hl(this,i)):s.map(i=>this._moveToSan(i,s))}_moves({legal:e=!0,piece:r=void 0,square:n=void 0}={}){var m;const s=n?n.toLowerCase():void 0,i=r==null?void 0:r.toLowerCase(),o=[],a=this._turn,l=Xo(a);let u=ye.a8,d=ye.h1,p=!1;if(s)if(s in ye)u=d=ye[s],p=!0;else return[];for(let v=u;v<=d;v++){if(v&136){v+=7;continue}if(!this._board[v]||this._board[v].color===l)continue;const{type:g}=this._board[v];let b;if(g===ot){if(i&&i!==g)continue;b=v+qd[a][0],this._board[b]||(ts(o,a,v,b,ot),b=v+qd[a][1],SI[a]===ai(v)&&!this._board[b]&&ts(o,a,v,b,ot,void 0,we.BIG_PAWN));for(let w=2;w<4;w++)b=v+qd[a][w],!(b&136)&&(((m=this._board[b])==null?void 0:m.color)===l?ts(o,a,v,b,ot,this._board[b].type,we.CAPTURE):b===this._epSquare&&ts(o,a,v,b,ot,ot,we.EP_CAPTURE))}else{if(i&&i!==g)continue;for(let w=0,y=y0[g].length;w<y;w++){const x=y0[g][w];for(b=v;b+=x,!(b&136);){if(!this._board[b])ts(o,a,v,b,g);else{if(this._board[b].color===a)break;ts(o,a,v,b,g,this._board[b].type,we.CAPTURE);break}if(g===If||g===ft)break}}}}if((i===void 0||i===ft)&&(!p||d===this._kings[a])){if(this._castling[a]&we.KSIDE_CASTLE){const v=this._kings[a],g=v+2;!this._board[v+1]&&!this._board[g]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v+1)&&!this._attacked(l,g)&&ts(o,a,this._kings[a],g,ft,void 0,we.KSIDE_CASTLE)}if(this._castling[a]&we.QSIDE_CASTLE){const v=this._kings[a],g=v-2;!this._board[v-1]&&!this._board[v-2]&&!this._board[v-3]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v-1)&&!this._attacked(l,g)&&ts(o,a,this._kings[a],g,ft,void 0,we.QSIDE_CASTLE)}}if(!e||this._kings[a]===-1)return o;const h=[];for(let v=0,g=o.length;v<g;v++)this._makeMove(o[v]),this._isKingAttacked(a)||h.push(o[v]),this._undoMove();return h}move(e,{strict:r=!1}={}){let n=null;if(typeof e=="string")n=this._moveFromSan(e,r);else if(e===null)n=this._moveFromSan(Kd,r);else if(typeof e=="object"){const i=this._moves();for(let o=0,a=i.length;o<a;o++)if(e.from===bt(i[o].from)&&e.to===bt(i[o].to)&&(!("promotion"in i[o])||e.promotion===i[o].promotion)){n=i[o];break}}if(!n)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&n.flags&we.NULL_MOVE)throw new Error("Null move not allowed when in check");const s=new Hl(this,n);return this._makeMove(n),this._incPositionCount(),s}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,r){this._hash^=this._pieceKey(e),this._board[r]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(r)}_makeMove(e){var s,i,o,a;const r=this._turn,n=Xo(r);if(this._push(e),e.flags&we.NULL_MOVE){r===pr&&this._moveNumber++,this._halfMoves++,this._turn=n,this._epSquare=Nt;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&we.EP_CAPTURE&&(this._turn===pr?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:r})),this._board[e.to].type===ft){if(this._kings[r]=e.to,e.flags&we.KSIDE_CASTLE){const l=e.to-1,u=e.to+1;this._movePiece(u,l)}else if(e.flags&we.QSIDE_CASTLE){const l=e.to+1,u=e.to-2;this._movePiece(u,l)}this._castling[r]=0}if(this._castling[r]){for(let l=0,u=es[r].length;l<u;l++)if(e.from===es[r][l].square&&this._castling[r]&es[r][l].flag){this._castling[r]^=es[r][l].flag;break}}if(this._castling[n]){for(let l=0,u=es[n].length;l<u;l++)if(e.to===es[n][l].square&&this._castling[n]&es[n][l].flag){this._castling[n]^=es[n][l].flag;break}}if(this._hash^=this._castlingKey(),e.flags&we.BIG_PAWN){let l;r===pr?l=e.to-16:l=e.to+16,!(e.to-1&136)&&((s=this._board[e.to-1])==null?void 0:s.type)===ot&&((i=this._board[e.to-1])==null?void 0:i.color)===n||!(e.to+1&136)&&((o=this._board[e.to+1])==null?void 0:o.type)===ot&&((a=this._board[e.to+1])==null?void 0:a.color)===n?(this._epSquare=l,this._hash^=this._epKey()):this._epSquare=Nt}else this._epSquare=Nt;e.piece===ot?this._halfMoves=0:e.flags&(we.CAPTURE|we.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===pr&&this._moveNumber++,this._turn=n,this._hash^=Hd}undo(){const e=this._hash,r=this._undoMove();if(r){const n=new Hl(this,r);return this._decPositionCount(e),n}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Hd;const n=this._turn,s=Xo(n);if(r.flags&we.NULL_MOVE)return r;if(this._movePiece(r.to,r.from),r.piece&&(this._clear(r.from),this._set(r.from,{type:r.piece,color:n})),r.captured)if(r.flags&we.EP_CAPTURE){let i;n===pr?i=r.to-16:i=r.to+16,this._set(i,{type:ot,color:s})}else this._set(r.to,{type:r.captured,color:s});if(r.flags&(we.KSIDE_CASTLE|we.QSIDE_CASTLE)){let i,o;r.flags&we.KSIDE_CASTLE?(i=r.to+1,o=r.to-1):(i=r.to-2,o=r.to+1),this._movePiece(o,i)}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const n=[];let s=!1;for(const h in this._header)this._header[h]&&n.push(`[${h} "${this._header[h]}"]`+e),s=!0;s&&this._history.length&&n.push(e);const i=h=>{const m=this._comments[this.fen()];if(typeof m<"u"){const v=h.length>0?" ":"";h=`${h}${v}{${m}}`}return h},o=[];for(;this._history.length>0;)o.push(this._undoMove());const a=[];let l="";for(o.length===0&&a.push(i(""));o.length>0;){l=i(l);const h=o.pop();if(!h)break;if(!this._history.length&&h.color==="b"){const m=`${this._moveNumber}. ...`;l=l?`${l} ${m}`:m}else h.color==="w"&&(l.length&&a.push(l),l=this._moveNumber+".");l=l+" "+this._moveToSan(h,this._moves({legal:!0})),this._makeMove(h)}if(l.length&&a.push(i(l)),a.push(this._header.Result||"*"),r===0)return n.join("")+a.join(" ");const u=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},d=function(h,m){for(const v of m.split(" "))if(v){if(h+v.length>r){for(;u();)h--;n.push(e),h=0}n.push(v),h+=v.length,n.push(" "),h++}return u()&&h--,h};let p=0;for(let h=0;h<a.length;h++){if(p+a[h].length>r&&a[h].includes("{")){p=d(p,a[h]);continue}p+a[h].length>r&&h!==0?(n[n.length-1]===" "&&n.pop(),n.push(e),p=0):h!==0&&(n.push(" "),p++),n.push(a[h]),p+=a[h].length}return n.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}setHeader(e,r){return this._header[e]=r??Df[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Df[e]||null,!0):!1}getHeaders(){const e={};for(const[r,n]of Object.entries(this._header))n!==null&&(e[r]=n);return e}loadPgn(e,{strict:r=!1,newlineChar:n=`\r?
`}={}){n!==`\r?
`&&(e=e.replace(new RegExp(n,"g"),`
`));const s=lI(e);this.reset();const i=s.headers;let o="";for(const u in i)u.toLowerCase()==="fen"&&(o=i[u]),this.header(u,i[u]);if(!r)o&&this.load(o,{preserveHeaders:!0});else if(i.SetUp==="1"){if(!("FEN"in i))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(i.FEN,{preserveHeaders:!0})}let a=s.root;for(;a;){if(a.move){const u=this._moveFromSan(a.move,r);if(u==null)throw new Error(`Invalid move in PGN: ${a.move}`);this._makeMove(u),this._incPositionCount()}a.comment!==void 0&&(this._comments[this.fen()]=a.comment),a=a.variations[0]}const l=s.result;l&&Object.keys(this._header).length&&this._header.Result!==l&&this.setHeader("Result",l)}_moveToSan(e,r){let n="";if(e.flags&we.KSIDE_CASTLE)n="O-O";else if(e.flags&we.QSIDE_CASTLE)n="O-O-O";else{if(e.flags&we.NULL_MOVE)return Kd;if(e.piece!==ot){const s=CI(e,r);n+=e.piece.toUpperCase()+s}e.flags&(we.CAPTURE|we.EP_CAPTURE)&&(e.piece===ot&&(n+=bt(e.from)[0]),n+="x"),n+=bt(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,r=!1){let n=Gd(e);if(r||(n==="0-0"?n="O-O":n==="0-0-0"&&(n="O-O-O")),n==Kd)return{color:this._turn,from:0,to:0,piece:"k",flags:we.NULL_MOVE};let s=x0(n),i=this._moves({legal:!0,piece:s});for(let h=0,m=i.length;h<m;h++)if(n===Gd(this._moveToSan(i[h],i)))return i[h];if(r)return null;let o,a,l,u,d,p=!1;if(a=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),a?(o=a[1],l=a[2],u=a[3],d=a[4],l.length==1&&(p=!0)):(a=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),a&&(o=a[1],l=a[2],u=a[3],d=a[4],l.length==1&&(p=!0))),s=x0(n),i=this._moves({legal:!0,piece:o||s}),!u)return null;for(let h=0,m=i.length;h<m;h++)if(l){if((!o||o.toLowerCase()==i[h].piece)&&ye[l]==i[h].from&&ye[u]==i[h].to&&(!d||d.toLowerCase()==i[h].promotion))return i[h];if(p){const v=bt(i[h].from);if((!o||o.toLowerCase()==i[h].piece)&&ye[u]==i[h].to&&(l==v[0]||l==v[1])&&(!d||d.toLowerCase()==i[h].promotion))return i[h]}}else if(n===Gd(this._moveToSan(i[h],i)).replace("x",""))return i[h];return null}ascii(){let e=`   +------------------------+
`;for(let r=ye.a8;r<=ye.h1;r++){if(Xa(r)===0&&(e+=" "+"87654321"[ai(r)]+" |"),this._board[r]){const n=this._board[r].type,i=this._board[r].color===Bt?n.toUpperCase():n.toLowerCase();e+=" "+i+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let n=0;const s=this._turn;for(let i=0,o=r.length;i<o;i++)this._makeMove(r[i]),this._isKingAttacked(s)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let r=[];for(let n=ye.a8;n<=ye.h1;n++)this._board[n]==null?r.push(null):r.push({square:bt(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e}squareColor(e){if(e in ye){const r=ye[e];return(ai(r)+Xa(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],n=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const s=r.pop();if(!s)break;e?n.push(new Hl(this,s)):n.push(this._moveToSan(s,this._moves())),this._makeMove(s)}return n}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const r=this._positionCount.get(e)??0;r===1?this._positionCount.delete(e):this._positionCount.set(e,r-1)}_pruneComments(){const e=[],r={},n=s=>{s in this._comments&&(r[s]=this._comments[s])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const s=e.pop();if(!s)break;this._makeMove(s),n(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const s of[ft,as])r[s]!==void 0&&(r[s]?this._castling[e]|=Vl[s]:this._castling[e]&=~Vl[s]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(r[ft]===void 0||r[ft]===n[ft])&&(r[as]===void 0||r[as]===n[as])}getCastlingRights(e){return{[ft]:(this._castling[e]&Vl[ft])!==0,[as]:(this._castling[e]&Vl[as])!==0}}moveNumber(){return this._moveNumber}}function kI(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}const Za="abcdefgh".split(""),mc={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},TI={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},jI={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},NI=[7,6,5,4,3,2,1,0],OI=[0,1,2,3,4,5,6,7],b0={wP:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),c.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),c.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[c.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),c.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),c.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),c.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[c.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),c.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),c.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),c.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),c.jsx("circle",{cx:"6",cy:"12",r:"2"}),c.jsx("circle",{cx:"14",cy:"9",r:"2"}),c.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),c.jsx("circle",{cx:"31",cy:"9",r:"2"}),c.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),c.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),c.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[c.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),c.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),c.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),c.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[c.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),c.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),c.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),c.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),c.jsx("circle",{cx:"6",cy:"12",r:"2"}),c.jsx("circle",{cx:"14",cy:"9",r:"2"}),c.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),c.jsx("circle",{cx:"31",cy:"9",r:"2"}),c.jsx("circle",{cx:"39",cy:"12",r:"2"}),c.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),c.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[c.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),c.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),c.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),c.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),c.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),c.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Lf(t,e,r){const n=e/8,s=t==="white"?TI:jI,i=t==="white"?NI:OI,o=s[r[0]]*n+n/2,a=i[parseInt(r[1],10)-1]*n+n/2;return{x:o,y:a}}function _0(t){let e=!1;return Object.keys(mc).forEach(r=>{t[r]!==mc[r]&&(e=!0)}),Object.keys(t).forEach(r=>{mc[r]!==t[r]&&(e=!0)}),e}function PI(t,e){const r={removed:{},added:{}};return Object.keys(t).forEach(n=>{e[n]!==t[n]&&(r.removed[n]=t[n])}),Object.keys(e).forEach(n=>{t[n]!==e[n]&&(r.added[n]=e[n])}),r}function S0(t){return t==="start"?mc:typeof t=="string"?RI(t):t}function RI(t){if(!AI(t))return{};t=t.replace(/ .+$/,"");const e=t.split("/"),r={};let n=8;for(let s=0;s<8;s++){const i=e[s].split("");let o=0;for(let a=0;a<i.length;a++)if(i[a].search(/[1-8]/)!==-1){const l=parseInt(i[a],10);o=o+l}else{const l=Za[o]+n;r[l]=DI(i[a]),o=o+1}n=n-1}return r}function AI(t){t=t.replace(/ .+$/,""),t=II(t);const e=t.split("/");if(e.length!==8)return!1;for(let r=0;r<8;r++)if(e[r].length!==8||e[r].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function II(t){return t.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function DI(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const LI=(t,e=!0,r,n)=>{const[s,i]=f.useState([]),[o,a]=f.useState([]),[l,u]=f.useState();f.useEffect(()=>{Array.isArray(t)&&(d(),i(t==null?void 0:t.filter(v=>v[0]!==v[1])))},[t]),f.useEffect(()=>{r==null||r(o)},[o]);function d(){a([]),u(void 0)}const p=(v,g)=>{e&&u([v,g,n])},h=[...o,...s];return{arrows:h,newArrow:l,clearArrows:d,drawNewArrow:p,setArrows:a,onArrowDrawEnd:(v,g)=>{if(v===g||!e)return;let b;const w=[v,g,n];h.every(([x,_])=>!(x===v&&_===g))?b=[...o,w]:b=o.filter(([x,_])=>!(x===v&&_===g)),u(void 0),a(b)}}},a_=f.createContext({}),Qn=()=>f.useContext(a_),MI=f.forwardRef(({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:r=!0,arePiecesDraggable:n=!0,arePremovesAllowed:s=!1,autoPromoteToQueen:i=!1,boardOrientation:o="white",boardWidth:a,children:l,clearPremovesOnRightClick:u=!0,customArrows:d,customArrowColor:p="rgb(255,170,0)",customBoardStyle:h,customNotationStyle:m,customDarkSquareStyle:v={backgroundColor:"#B58863"},customDropSquareStyle:g={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:b={backgroundColor:"#F0D9B5"},customPieces:w,customPremoveDarkSquareStyle:y={backgroundColor:"#A42323"},customPremoveLightSquareStyle:x={backgroundColor:"#BD2828"},customSquare:_="div",customSquareStyles:S,dropOffBoardAction:E="snapback",id:C=0,isDraggablePiece:T=()=>!0,getPositionObject:L=()=>{},onArrowsChange:$=()=>{},onDragOverSquare:Y=()=>{},onMouseOutSquare:U=()=>{},onMouseOverSquare:J=()=>{},onPieceClick:R=()=>{},onPieceDragBegin:K=()=>{},onPieceDragEnd:M=()=>{},onPieceDrop:V=()=>!0,onPieceDropOffBoard:j=()=>{},onPromotionCheck:O=(ie,ge,We)=>(We==="wP"&&ie[1]==="7"&&ge[1]==="8"||We==="bP"&&ie[1]==="2"&&ge[1]==="1")&&Math.abs(ie.charCodeAt(0)-ge.charCodeAt(0))<=1,onPromotionPieceSelect:H=()=>!0,onSparePieceDrop:Z=()=>!0,onSquareClick:k=()=>{},onSquareRightClick:W=()=>{},position:z="start",promotionDialogVariant:X="default",promotionToSquare:ae=null,showBoardNotation:A=!0,showPromotionDialog:ne=!1,snapToCursor:de=!0},le)=>{const[ie,ge]=f.useState(S0(z)),[We,gt]=f.useState({removed:{},added:{}}),[Lt,ut]=f.useState(void 0),[Vt,qt]=f.useState(ne&&!i),[kr,kn]=f.useState(null),[Br,un]=f.useState(ae),[Mt,G]=f.useState([]),se=f.useRef(Mt),[re,xe]=f.useState(),[vt,Kt]=f.useState(Object.assign(Object.assign({},b0),w)),[yt,et]=f.useState(!1),[tr,rr]=f.useState(),[dt,wt]=f.useState(!1),[dr,Tn]=f.useState(null);f.useImperativeHandle(le,()=>({clearPremoves(B=!0){Re(B)}})),f.useEffect(()=>{Kt(Object.assign(Object.assign({},b0),w))},[w]),f.useEffect(()=>{qt(ne),un(ae)},[ae,ne]),f.useEffect(()=>{var B,Me,Ae;kt();const $e=S0(z),dn=PI(ie,$e),Ke=((B=Object.keys(dn.added))===null||B===void 0?void 0:B.length)<=2?(Ae=(Me=Object.entries(dn.added))===null||Me===void 0?void 0:Me[0])===null||Ae===void 0?void 0:Ae[1][0]:void 0;if(dt)ge($e),wt(!1),s&&ve(Ke),tr&&clearTimeout(tr);else if(yt)ge($e),wt(!1),s&&ve(Ke);else{_0($e)&&Lt!==void 0?ut(Ke):_0($e)?ut(void 0):ut("b"),gt(dn),wt(!0);const ml=setTimeout(()=>{ge($e),wt(!1),s&&ve(Ke)},e);rr(ml)}return et(!1),L($e),jr(),()=>{clearTimeout(tr)}},[z]);const{arrows:Tr,newArrow:hr,clearArrows:jr,drawNewArrow:jn,onArrowDrawEnd:zr}=LI(d,r,$,p);function Nr(B,Me,Ae,$e){if(B===Me)return;if(jr(),s&&dt||s&&(Lt===Ae[0]||se.current.filter(Ke=>Ke.piece[0]===Ae[0]).length>0)){const Ke=[...se.current];Ke.push({sourceSq:B,targetSq:Me,piece:Ae}),se.current=Ke,G([...Ke]),kt();return}if(!s&&dt)return;const dn=Object.assign({},ie);et(!!$e),ut(Ae[0]),V.length?V(B,Me,Ae)||(Re(),et(!1)):(delete dn[B],dn[Me]=Ae,ge(dn)),kt(),L(dn)}function Bo(B){const Me=Object.assign({},ie);delete Me[B],ge(Me),L(Me)}function ve(B){if(se.current.length===0)return;const Me=se.current[0];if(Me.piece[0]!==void 0&&Me.piece[0]!==B&&V.length)if(ut(Me.piece[0]),et(!0),V(Me.sourceSq,Me.targetSq,Me.piece)){const $e=[...se.current];$e.shift(),se.current=$e,G([...$e])}else Re()}function Oe(B,Me){if(!Z(B,Me))return;const $e=Object.assign({},ie);$e[Me]=B,ge($e),L($e)}function Re(B=!0){B&&ut(void 0),se.current=[],G([])}function kt(){kn(null),un(null),qt(!1)}function P(B){xe(B)}function Tt(B){if(re){if(re===B){xe(void 0),u&&Re(!1),W(B);return}}else xe(void 0)}function st(){xe(void 0)}const xt={allowDragOutsideBoard:t,animationDuration:e,arePiecesDraggable:n,arePremovesAllowed:s,arrows:Tr,autoPromoteToQueen:i,boardOrientation:o,boardWidth:a,chessPieces:vt,clearArrows:jr,clearCurrentRightClickDown:st,currentPosition:ie,currentRightClickDown:re,customArrowColor:p,customBoardStyle:h,customDarkSquareStyle:v,customDropSquareStyle:g,customLightSquareStyle:b,customNotationStyle:m,customPremoveDarkSquareStyle:y,customPremoveLightSquareStyle:x,customSquare:_,customSquareStyles:S,deletePieceFromSquare:Bo,drawNewArrow:jn,dropOffBoardAction:E,handleSetPosition:Nr,handleSparePieceDrop:Oe,id:C,isDraggablePiece:T,isWaitingForAnimation:dt,lastPieceColour:Lt,lastSquareDraggedOver:dr,newArrow:hr,onArrowDrawEnd:zr,onDragOverSquare:Y,onMouseOutSquare:U,onMouseOverSquare:J,onPieceClick:R,onPieceDragBegin:K,onPieceDragEnd:M,onPieceDrop:V,onPieceDropOffBoard:j,onPromotionCheck:O,onPromotionPieceSelect:H,onRightClickDown:P,onRightClickUp:Tt,onSparePieceDrop:Z,onSquareClick:k,positionDifferences:We,premoves:Mt,promoteFromSquare:kr,promoteToSquare:Br,promotionDialogVariant:X,setLastSquareDraggedOver:Tn,setPromoteFromSquare:kn,setPromoteToSquare:un,setShowPromoteDialog:qt,showBoardNotation:A,showPromoteDialog:Vt,snapToCursor:de};return c.jsx(a_.Provider,Object.assign({value:xt},{children:l}))});function $I({row:t,col:e}){const{boardOrientation:r,boardWidth:n,customDarkSquareStyle:s,customLightSquareStyle:i,customNotationStyle:o}=Qn(),a=i.backgroundColor,l=s.backgroundColor,u=e===0,d=t===7,p=u&&d;function h(){return r==="white"?8-t:t+1}function m(){return r==="black"?Za[7-e]:Za[e]}function v(){return c.jsxs(c.Fragment,{children:[c.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),C0(n,o))},{children:h()})),c.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),E0(n,o))},{children:m()}))]})}function g(){return c.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!==0?l:a}),E0(n,o))},{children:m()}))}function b(){return c.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},r==="black"?{color:t%2===0?l:a}:{color:t%2===0?l:a}),C0(n,o))},{children:h()}))}return p?v():d?g():u?b():null}const E0=(t,e)=>Object.assign({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48},e),C0=(t,e)=>Object.assign({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48},e),l_=f.createContext({dragDropManager:void 0});function Or(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var k0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Qd=function(){return Math.random().toString(36).substring(7).split("").join(".")},T0={INIT:"@@redux/INIT"+Qd(),REPLACE:"@@redux/REPLACE"+Qd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Qd()}};function UI(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function c_(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Or(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Or(1));return r(c_)(t,e)}if(typeof t!="function")throw new Error(Or(2));var s=t,i=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(Or(3));return i}function p(g){if(typeof g!="function")throw new Error(Or(4));if(l)throw new Error(Or(5));var b=!0;return u(),a.push(g),function(){if(b){if(l)throw new Error(Or(6));b=!1,u();var y=a.indexOf(g);a.splice(y,1),o=null}}}function h(g){if(!UI(g))throw new Error(Or(7));if(typeof g.type>"u")throw new Error(Or(8));if(l)throw new Error(Or(9));try{l=!0,i=s(i,g)}finally{l=!1}for(var b=o=a,w=0;w<b.length;w++){var y=b[w];y()}return g}function m(g){if(typeof g!="function")throw new Error(Or(10));s=g,h({type:T0.REPLACE})}function v(){var g,b=p;return g={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Or(11));function x(){y.next&&y.next(d())}x();var _=b(x);return{unsubscribe:_}}},g[k0]=function(){return this},g}return h({type:T0.INIT}),n={dispatch:h,subscribe:p,getState:d,replaceReducer:m},n[k0]=v,n}function Se(t,e,...r){if(FI()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(e.replace(/%s/g,function(){return r[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function FI(){return typeof process<"u"&&!0}function BI(t,e,r){return e.split(".").reduce((n,s)=>n&&n[s]?n[s]:r||null,t)}function zI(t,e){return t.filter(r=>r!==e)}function u_(t){return typeof t=="object"}function WI(t,e){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};t.forEach(n),e.forEach(n);const s=[];return r.forEach((i,o)=>{i===1&&s.push(o)}),s}function HI(t,e){return t.filter(r=>e.indexOf(r)>-1)}const km="dnd-core/INIT_COORDS",Fu="dnd-core/BEGIN_DRAG",Tm="dnd-core/PUBLISH_DRAG_SOURCE",Bu="dnd-core/HOVER",zu="dnd-core/DROP",Wu="dnd-core/END_DRAG";function j0(t,e){return{type:km,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const VI={type:km,payload:{clientOffset:null,sourceClientOffset:null}};function qI(t){return function(r=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:o}=n,a=t.getMonitor(),l=t.getRegistry();t.dispatch(j0(i)),KI(r,a,l);const u=YI(r,a);if(u==null){t.dispatch(VI);return}let d=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");GI(o),d=o(u)}t.dispatch(j0(i,d));const h=l.getSource(u).beginDrag(a,u);if(h==null)return;QI(h),l.pinSource(u);const m=l.getSourceType(u);return{type:Fu,payload:{itemType:m,item:h,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!s}}}}function KI(t,e,r){Se(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){Se(r.getSource(n),"Expected sourceIds to be registered.")})}function GI(t){Se(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function QI(t){Se(u_(t),"Item must be an object.")}function YI(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function JI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){JI(t,s,r[s])})}return t}function ZI(t){return function(r={}){const n=t.getMonitor(),s=t.getRegistry();eD(n),nD(n).forEach((o,a)=>{const l=tD(o,a,s,n),u={type:zu,payload:{dropResult:XI({},r,l)}};t.dispatch(u)})}}function eD(t){Se(t.isDragging(),"Cannot call drop while not dragging."),Se(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function tD(t,e,r,n){const s=r.getTarget(t);let i=s?s.drop(n,t):void 0;return rD(i),typeof i>"u"&&(i=e===0?{}:n.getDropResult()),i}function rD(t){Se(typeof t>"u"||u_(t),"Drop result must either be an object or undefined.")}function nD(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function sD(t){return function(){const r=t.getMonitor(),n=t.getRegistry();iD(r);const s=r.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(r,s),n.unpinSource()),{type:Wu}}}function iD(t){Se(t.isDragging(),"Cannot call endDrag while not dragging.")}function Mf(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function oD(t){return function(r,{clientOffset:n}={}){aD(r);const s=r.slice(0),i=t.getMonitor(),o=t.getRegistry(),a=i.getItemType();return cD(s,o,a),lD(s,i,o),uD(s,i,o),{type:Bu,payload:{targetIds:s,clientOffset:n||null}}}}function aD(t){Se(Array.isArray(t),"Expected targetIds to be an array.")}function lD(t,e,r){Se(e.isDragging(),"Cannot call hover while not dragging."),Se(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const s=t[n];Se(t.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(s);Se(i,"Expected targetIds to be registered.")}}function cD(t,e,r){for(let n=t.length-1;n>=0;n--){const s=t[n],i=e.getTargetType(s);Mf(i,r)||t.splice(n,1)}}function uD(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function dD(t){return function(){if(t.getMonitor().isDragging())return{type:Tm}}}function hD(t){return{beginDrag:qI(t),publishDragSource:dD(t),hover:oD(t),drop:ZI(t),endDrag:sD(t)}}class fD{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(i){return(...o)=>{const a=i.apply(e,o);typeof a<"u"&&r(a)}}const s=hD(this);return Object.keys(s).reduce((i,o)=>{const a=s[o];return i[o]=n(a),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function pD(t,e){return{x:t.x+e.x,y:t.y+e.y}}function d_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mD(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:d_(pD(e,n),r)}function gD(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:d_(e,r)}const wa=[],jm=[];wa.__IS_NONE__=!0;jm.__IS_ALL__=!0;function vD(t,e){return t===wa?!1:t===jm||typeof e>"u"?!0:HI(e,t).length>0}class yD{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;Se(typeof e=="function","listener must be a function."),Se(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),a=o.stateId;try{a===s||a===s+1&&!vD(o.dirtyHandlerIds,n)||e()}finally{s=a}};return this.store.subscribe(i)}subscribeToOffsetChange(e){Se(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return Se(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(Se(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),s=this.getItemType();return Mf(n,s)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(Se(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),s=this.getItemType();return n!==s?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),i=this.getItemType();if(i&&!Mf(s,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return mD(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return gD(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const N0=typeof global<"u"?global:self,h_=N0.MutationObserver||N0.WebKitMutationObserver;function f_(t){return function(){const r=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(r),clearInterval(n),t()}}}function wD(t){let e=1;const r=new h_(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const xD=typeof h_=="function"?wD:f_;class bD{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,s=e.length-this.index;n<s;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=xD(this.flush),this.requestErrorThrow=f_(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class _D{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class SD{create(e){const r=this.freeTasks,n=r.length?r.pop():new _D(this.onError,s=>r[r.length]=s);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const p_=new bD,ED=new SD(p_.registerPendingError);function CD(t){p_.enqueueTask(ED.create(t))}const Nm="dnd-core/ADD_SOURCE",Om="dnd-core/ADD_TARGET",Pm="dnd-core/REMOVE_SOURCE",Hu="dnd-core/REMOVE_TARGET";function kD(t){return{type:Nm,payload:{sourceId:t}}}function TD(t){return{type:Om,payload:{targetId:t}}}function jD(t){return{type:Pm,payload:{sourceId:t}}}function ND(t){return{type:Hu,payload:{targetId:t}}}function OD(t){Se(typeof t.canDrag=="function","Expected canDrag to be a function."),Se(typeof t.beginDrag=="function","Expected beginDrag to be a function."),Se(typeof t.endDrag=="function","Expected endDrag to be a function.")}function PD(t){Se(typeof t.canDrop=="function","Expected canDrop to be a function."),Se(typeof t.hover=="function","Expected hover to be a function."),Se(typeof t.drop=="function","Expected beginDrag to be a function.")}function $f(t,e){if(e&&Array.isArray(t)){t.forEach(r=>$f(r,!1));return}Se(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Dr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Dr||(Dr={}));let RD=0;function AD(){return RD++}function ID(t){const e=AD().toString();switch(t){case Dr.SOURCE:return`S${e}`;case Dr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function O0(t){switch(t[0]){case"S":return Dr.SOURCE;case"T":return Dr.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function P0(t,e){const r=t.entries();let n=!1;do{const{done:s,value:[,i]}=r.next();if(i===e)return!0;n=!!s}while(!n);return!1}class DD{addSource(e,r){$f(e),OD(r);const n=this.addHandler(Dr.SOURCE,e,r);return this.store.dispatch(kD(n)),n}addTarget(e,r){$f(e,!0),PD(r);const n=this.addHandler(Dr.TARGET,e,r);return this.store.dispatch(TD(n)),n}containsHandler(e){return P0(this.dragSources,e)||P0(this.dropTargets,e)}getSource(e,r=!1){return Se(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Se(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Se(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Se(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return O0(e)===Dr.SOURCE}isTargetId(e){return O0(e)===Dr.TARGET}removeSource(e){Se(this.getSource(e),"Expected an existing source."),this.store.dispatch(jD(e)),CD(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){Se(this.getTarget(e),"Expected an existing target."),this.store.dispatch(ND(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);Se(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){Se(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const s=ID(e);return this.types.set(s,r),e===Dr.SOURCE?this.dragSources.set(s,n):e===Dr.TARGET&&this.dropTargets.set(s,n),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const LD=(t,e)=>t===e;function MD(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function $D(t,e,r=LD){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function UD(t=wa,e){switch(e.type){case Bu:break;case Nm:case Om:case Hu:case Pm:return wa;case Fu:case Tm:case Wu:case zu:default:return jm}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,s=WI(r,n);if(!(s.length>0||!$D(r,n)))return wa;const o=n[n.length-1],a=r[r.length-1];return o!==a&&(o&&s.push(o),a&&s.push(a)),s}function FD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){FD(t,s,r[s])})}return t}const R0={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function zD(t=R0,e){const{payload:r}=e;switch(e.type){case km:case Fu:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Bu:return MD(t.clientOffset,r.clientOffset)?t:BD({},t,{clientOffset:r.clientOffset});case Wu:case zu:return R0;default:return t}}function WD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){WD(t,s,r[s])})}return t}const HD={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function VD(t=HD,e){const{payload:r}=e;switch(e.type){case Fu:return Ai({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Tm:return Ai({},t,{isSourcePublic:!0});case Bu:return Ai({},t,{targetIds:r.targetIds});case Hu:return t.targetIds.indexOf(r.targetId)===-1?t:Ai({},t,{targetIds:zI(t.targetIds,r.targetId)});case zu:return Ai({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Wu:return Ai({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function qD(t=0,e){switch(e.type){case Nm:case Om:return t+1;case Pm:case Hu:return t-1;default:return t}}function KD(t=0){return t+1}function GD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){GD(t,s,r[s])})}return t}function YD(t={},e){return{dirtyHandlerIds:UD(t.dirtyHandlerIds,{type:e.type,payload:QD({},e.payload,{prevTargetIds:BI(t,"dragOperation.targetIds",[])})}),dragOffset:zD(t.dragOffset,e),refCount:qD(t.refCount,e),dragOperation:VD(t.dragOperation,e),stateId:KD(t.stateId)}}function JD(t,e=void 0,r={},n=!1){const s=XD(n),i=new yD(s,new DD(s)),o=new fD(s,i),a=t(o,e,r);return o.receiveBackend(a),o}function XD(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return c_(YD,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function ZD(t,e){if(t==null)return{};var r=e3(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e3(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}let A0=0;const gc=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var t3=f.memo(function(e){var{children:r}=e,n=ZD(e,["children"]);const[s,i]=r3(n);return f.useEffect(()=>{if(i){const o=m_();return++A0,()=>{--A0===0&&(o[gc]=null)}}},[]),c.jsx(l_.Provider,{value:s,children:r})});function r3(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=n3(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function n3(t,e=m_(),r,n){const s=e;return s[gc]||(s[gc]={dragDropManager:JD(t,e,r,n)}),s[gc]}function m_(){return typeof global<"u"?global:window}var s3=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const pi=typeof window<"u"?f.useLayoutEffect:f.useEffect;function g_(t,e,r){const[n,s]=f.useState(()=>e(t)),i=f.useCallback(()=>{const o=e(t);s3(n,o)||(s(o),r&&r())},[n,t,r]);return pi(i),[n,i]}function i3(t,e,r){const[n,s]=g_(t,e,r);return pi(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(s,{handlerIds:[o]})},[t,s]),n}function v_(t,e,r){return i3(e,t||(()=>({})),()=>r.reconnect())}function y_(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),f.useMemo(()=>typeof t=="function"?t():t,r)}function o3(t){return f.useMemo(()=>t.hooks.dragSource(),[t])}function a3(t){return f.useMemo(()=>t.hooks.dragPreview(),[t])}let Yd=!1,Jd=!1;class l3{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Se(!Yd,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Yd=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Yd=!1}}isDragging(){if(!this.sourceId)return!1;Se(!Jd,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Jd=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Jd=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Xd=!1;class c3{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;Se(!Xd,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Xd=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Xd=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function u3(t,e,r){const n=r.getRegistry(),s=n.addTarget(t,e);return[s,()=>n.removeTarget(s)]}function d3(t,e,r){const n=r.getRegistry(),s=n.addSource(t,e);return[s,()=>n.removeSource(s)]}function Uf(t,e,r,n){let s;if(s!==void 0)return!!s;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<i.length;l++){const u=i[l];if(!a(u))return!1;const d=t[u],p=e[u];if(s=void 0,s===!1||s===void 0&&d!==p)return!1}return!0}function Ff(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function h3(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function f3(t){return(e=null,r=null)=>{if(!f.isValidElement(e)){const i=e;return t(i,r),i}const n=e;return h3(n),p3(n,r?i=>t(i,r):t)}}function w_(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const s=f3(n);e[r]=()=>s}}),e}function I0(t,e){typeof t=="function"?t(e):t.current=e}function p3(t,e){const r=t.ref;return Se(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?f.cloneElement(t,{ref:n=>{I0(r,n),I0(e,n)}}):f.cloneElement(t,{ref:e})}class m3{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Uf(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Uf(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=w_({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Ff(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Ff(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class g3{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Uf(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=w_({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Ff(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Ci(){const{dragDropManager:t}=f.useContext(l_);return Se(t!=null,"Expected drag drop context"),t}function v3(t,e){const r=Ci(),n=f.useMemo(()=>new m3(r.getBackend()),[r]);return pi(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),pi(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function y3(){const t=Ci();return f.useMemo(()=>new l3(t),[t])}class w3{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,s=this.monitor,{isDragging:i}=n;return i?i(s):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:s}=e;s&&s(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function x3(t,e,r){const n=f.useMemo(()=>new w3(t,e,r),[e,r]);return f.useEffect(()=>{n.spec=t},[t]),n}function b3(t){return f.useMemo(()=>{const e=t.type;return Se(e!=null,"spec.type must be defined"),e},[t])}function _3(t,e,r){const n=Ci(),s=x3(t,e,r),i=b3(t);pi(function(){if(i!=null){const[a,l]=d3(i,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l}},[n,e,r,s,i])}function S3(t,e){const r=y_(t,e);Se(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=y3(),s=v3(r.options,r.previewOptions);return _3(r,n,s),[v_(r.collect,n,s),o3(s),a3(s)]}function E3(t){const r=Ci().getMonitor(),[n,s]=g_(r,t);return f.useEffect(()=>r.subscribeToOffsetChange(s)),f.useEffect(()=>r.subscribeToStateChange(s)),n}function C3(t){return f.useMemo(()=>t.hooks.dropTarget(),[t])}function k3(t){const e=Ci(),r=f.useMemo(()=>new g3(e.getBackend()),[e]);return pi(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function T3(){const t=Ci();return f.useMemo(()=>new c3(t),[t])}function j3(t){const{accept:e}=t;return f.useMemo(()=>(Se(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class N3{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function O3(t,e){const r=f.useMemo(()=>new N3(t,e),[e]);return f.useEffect(()=>{r.spec=t},[t]),r}function P3(t,e,r){const n=Ci(),s=O3(t,e),i=j3(t);pi(function(){const[a,l]=u3(i,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l},[n,e,s,r,i.map(o=>o.toString()).join("|")])}function R3(t,e){const r=y_(t,e),n=T3(),s=k3(r.options);return P3(r,n,s),[v_(r.collect,n,s),C3(s)]}function x_(t){let e=null;return()=>(e==null&&(e=t()),e)}function A3(t,e){return t.filter(r=>r!==e)}function I3(t,e){const r=new Set,n=i=>r.add(i);t.forEach(n),e.forEach(n);const s=[];return r.forEach(i=>s.push(i)),s}class D3{enter(e){const r=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=I3(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=A3(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class L3{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(r[n]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const b_="__NATIVE_FILE__",__="__NATIVE_URL__",S_="__NATIVE_TEXT__",E_="__NATIVE_HTML__";var D0=Object.freeze({__proto__:null,FILE:b_,HTML:E_,TEXT:S_,URL:__});function Zd(t,e,r){const n=e.reduce((s,i)=>s||t.getData(i),"");return n??r}const Bf={[b_]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[E_]:{exposeProperties:{html:(t,e)=>Zd(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[__]:{exposeProperties:{urls:(t,e)=>Zd(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[S_]:{exposeProperties:{text:(t,e)=>Zd(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function M3(t,e){const r=Bf[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new L3(r);return n.loadDataTransfer(e),n}function eh(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Bf).filter(r=>{const n=Bf[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const $3=x_(()=>/firefox/i.test(navigator.userAgent)),C_=x_(()=>!!window.safari);class L0{interpolate(e){const{xs:r,ys:n,c1s:s,c2s:i,c3s:o}=this;let a=r.length-1;if(e===r[a])return n[a];let l=0,u=o.length-1,d;for(;l<=u;){d=Math.floor(.5*(l+u));const m=r[d];if(m<e)l=d+1;else if(m>e)u=d-1;else return n[d]}a=Math.max(0,u);const p=e-r[a],h=p*p;return n[a]+s[a]*p+i[a]*h+o[a]*p*h}constructor(e,r){const{length:n}=e,s=[];for(let m=0;m<n;m++)s.push(m);s.sort((m,v)=>e[m]<e[v]?-1:1);const i=[],o=[];let a,l;for(let m=0;m<n-1;m++)a=e[m+1]-e[m],l=r[m+1]-r[m],i.push(a),o.push(l/a);const u=[o[0]];for(let m=0;m<i.length-1;m++){const v=o[m],g=o[m+1];if(v*g<=0)u.push(0);else{a=i[m];const b=i[m+1],w=a+b;u.push(3*w/((w+b)/v+(w+a)/g))}}u.push(o[o.length-1]);const d=[],p=[];let h;for(let m=0;m<u.length-1;m++){h=o[m];const v=u[m],g=1/i[m],b=v+u[m+1]-h-h;d.push((h-v-b)*g),p.push(b*g*g)}this.xs=e,this.ys=r,this.c1s=u,this.c2s=d,this.c3s=p}}const U3=1;function k_(t){const e=t.nodeType===U3?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function ql(t){return{x:t.clientX,y:t.clientY}}function F3(t){var e;return t.nodeName==="IMG"&&($3()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function B3(t,e,r,n){let s=t?e.width:r,i=t?e.height:n;return C_()&&t&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function z3(t,e,r,n,s){const i=F3(e),a=k_(i?t:e),l={x:r.x-a.x,y:r.y-a.y},{offsetWidth:u,offsetHeight:d}=t,{anchorX:p,anchorY:h}=n,{dragPreviewWidth:m,dragPreviewHeight:v}=B3(i,e,u,d),g=()=>{let E=new L0([0,.5,1],[l.y,l.y/d*v,l.y+v-d]).interpolate(h);return C_()&&i&&(E+=(window.devicePixelRatio-1)*v),E},b=()=>new L0([0,.5,1],[l.x,l.x/u*m,l.x+m-u]).interpolate(p),{offsetX:w,offsetY:y}=s,x=w===0||w,_=y===0||y;return{x:x?w:b(),y:_?y:g()}}let W3=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}};function H3(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){H3(t,s,r[s])})}return t}class V3{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const s=o=>this.handleDragStart(o,e),i=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=o=>this.handleDragEnter(o,e),s=o=>this.handleDragOver(o,e),i=o=>this.handleDrop(o,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",s),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",s),r.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return M0({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return M0({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(D0).some(r=>D0[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=M3(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&k_(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=ql(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=s,l=eh(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const d=this.monitor.getSourceId(),p=this.sourceNodes.get(d),h=this.sourcePreviewNodes.get(d)||p;if(h){const{anchorX:m,anchorY:v,offsetX:g,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),x=z3(p,h,o,{anchorX:m,anchorY:v},{offsetX:g,offsetY:b});a.setDragImage(h,x.x,x.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,l=eh(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:ql(s)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=ql(s),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else eh(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:ql(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new W3(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new D3(this.isNodeInDocument)}}let Kl;function q3(){return Kl||(Kl=new Image,Kl.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Kl}const K3=function(e,r,n){return new V3(e,r,n)};function $0({isPremovedPiece:t=!1,piece:e,square:r,squares:n}){const{animationDuration:s,arePiecesDraggable:i,boardWidth:o,boardOrientation:a,chessPieces:l,currentPosition:u,deletePieceFromSquare:d,dropOffBoardAction:p,id:h,isDraggablePiece:m,isWaitingForAnimation:v,onPieceClick:g,onPieceDragBegin:b,onPieceDragEnd:w,onPieceDropOffBoard:y,onPromotionCheck:x,positionDifferences:_}=Qn(),[S,E]=f.useState({opacity:1,zIndex:5,touchAction:"none",cursor:i&&m({piece:e,sourceSquare:r})?"-webkit-grab":"default"}),[{canDrag:C,isDragging:T},L,$]=S3(()=>({type:"piece",item:()=>(b(e,r),{piece:e,square:r,id:h}),end:(U,J)=>{w(e,r),!J.didDrop()&&(p==="trash"&&d(r),y==null||y(r,e))},collect:U=>({canDrag:m({piece:e,sourceSquare:r}),isDragging:!!U.isDragging()})}),[e,r,u,h]);$(q3(),{captureDraggingState:!0}),f.useEffect(()=>{E(U=>Object.assign(Object.assign({},U),{opacity:T?0:1}))},[T]),f.useEffect(()=>{var U;const J=(U=_.removed)===null||U===void 0?void 0:U[r];if(!_.added||!J)return;const R=Object.entries(_.added).find(([K,M])=>M===J||x(r,K,J));if(v&&J&&R&&!t){const K=r,M=R[0];if(K&&M){const V=o/8;E(j=>Object.assign(Object.assign({},j),{transform:`translate(${(a==="black"?-1:1)*(M.charCodeAt(0)-K.charCodeAt(0))*V}px, ${(a==="black"?-1:1)*(Number(K[1])-Number(M[1]))*V}px)`,transition:`transform ${s}ms`,zIndex:6}))}}},[_]),f.useEffect(()=>{const{sourceSq:U}=Y();U&&E(J=>Object.assign(Object.assign({},J),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[u]),f.useEffect(()=>{E(U=>Object.assign(Object.assign({},U),{cursor:i&&m({piece:e,sourceSquare:r})?"-webkit-grab":"default"}))},[r,u,i]);function Y(){return{sourceSq:n[r]}}return c.jsx("div",Object.assign({ref:i&&C?L:null,onClick:()=>g(e,r),"data-piece":e,style:S},{children:typeof l[e]=="function"?l[e]({squareWidth:o/8,isDragging:T,square:r}):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:o/8,height:o/8,style:{display:"block"}},{children:c.jsx("g",{children:l[e]})}))}))}function G3({square:t,squareColor:e,setSquares:r,squareHasPremove:n,children:s}){const i=f.useRef(null),{autoPromoteToQueen:o,boardWidth:a,boardOrientation:l,clearArrows:u,currentPosition:d,currentRightClickDown:p,customBoardStyle:h,customDarkSquareStyle:m,customDropSquareStyle:v,customLightSquareStyle:g,customPremoveDarkSquareStyle:b,customPremoveLightSquareStyle:w,customSquare:y,customSquareStyles:x,drawNewArrow:_,handleSetPosition:S,handleSparePieceDrop:E,isWaitingForAnimation:C,lastPieceColour:T,lastSquareDraggedOver:L,onArrowDrawEnd:$,onDragOverSquare:Y,onMouseOutSquare:U,onMouseOverSquare:J,onPieceDrop:R,onPromotionCheck:K,onRightClickDown:M,onRightClickUp:V,onSquareClick:j,setLastSquareDraggedOver:O,setPromoteFromSquare:H,setPromoteToSquare:Z,setShowPromoteDialog:k}=Qn(),[{isOver:W},z]=R3(()=>({accept:"piece",drop:X,collect:A=>({isOver:!!A.isOver()})}),[t,d,R,C,T]);function X(A){if(A.isSpare){E(A.piece,t);return}K(A.square,t,A.piece)?o?S(A.square,t,A.piece[0]==="w"?"wQ":"bQ"):(H(A.square),Z(t),k(!0)):S(A.square,t,A.piece,!0)}f.useEffect(()=>{if(i.current){const{x:A,y:ne}=i.current.getBoundingClientRect();r(de=>Object.assign(Object.assign({},de),{[t]:{x:A,y:ne}}))}},[a,l]);const ae=Object.assign(Object.assign(Object.assign(Object.assign({},Q3(t,l,h)),e==="black"?m:g),n&&(e==="black"?b:w)),W&&v);return c.jsx("div",Object.assign({ref:z,style:ae,"data-square-color":e,"data-square":t,onTouchMove:A=>{var ne;const de=A.touches[0],le=document.elementsFromPoint(de.clientX,de.clientY),ie=(ne=le==null?void 0:le.find(ge=>ge.getAttribute("data-square")))===null||ne===void 0?void 0:ne.getAttribute("data-square");ie&&ie!==L&&(O(ie),Y(ie))},onMouseOver:A=>{A.buttons===2&&p&&_(p,t),!(A.relatedTarget&&A.currentTarget.contains(A.relatedTarget))&&J(t)},onMouseOut:A=>{A.relatedTarget&&A.currentTarget.contains(A.relatedTarget)||U(t)},onMouseDown:A=>{A.button===2&&M(t)},onMouseUp:A=>{A.button===2&&(p&&$(p,t),V(t))},onDragEnter:()=>Y(t),onClick:()=>{const A=d[t];j(t,A),u()},onContextMenu:A=>{A.preventDefault()}},{children:typeof y=="string"?c.jsx(y,Object.assign({ref:i,style:Object.assign(Object.assign(Object.assign({},F0(a)),U0),!n&&(x==null?void 0:x[t]))},{children:s})):c.jsx(y,Object.assign({ref:i,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},F0(a)),U0),!n&&(x==null?void 0:x[t]))},{children:s}))}))}const U0={display:"flex",justifyContent:"center"},F0=t=>({width:t/8,height:t/8}),Q3=(t,e,r)=>r!=null&&r.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:r.borderRadius}:{borderTopRightRadius:r.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:r.borderRadius}:{borderBottomRightRadius:r.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:r.borderRadius}:{borderTopLeftRadius:r.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:r.borderRadius}:{borderBottomLeftRadius:r.borderRadius}:{}:{};function Y3(){const[t,e]=f.useState({}),{arePremovesAllowed:r,boardOrientation:n,boardWidth:s,currentPosition:i,id:o,premoves:a,showBoardNotation:l}=Qn(),u=f.useMemo(()=>{const d=[];return r?(a.forEach((p,h)=>{const{sourceSq:m,targetSq:v,piece:g}=p,b=d.find(w=>{var y;return w.piece===g&&((y=w.premovesRoute.at(-1))===null||y===void 0?void 0:y.targetSq)===m});b?b.premovesRoute.push({sourceSq:m,targetSq:v,index:h}):d.push({piece:g,premovesRoute:[{sourceSq:m,targetSq:v,index:h}]})}),d):[]},[a]);return c.jsx("div",Object.assign({"data-boardid":o},{children:[...Array(8)].map((d,p)=>c.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:s}},{children:[...Array(8)].map((h,m)=>{const v=n==="black"?Za[7-m]+(p+1):Za[m]+(8-p),g=m%2===p%2?"white":"black",b=a.find(y=>y.sourceSq===v||y.targetSq===v),w=u.filter(({premovesRoute:y})=>{var x;return((x=y.at(-1))===null||x===void 0?void 0:x.targetSq)===v}).sort((y,x)=>{var _,S;return((_=x.premovesRoute.at(-1))===null||_===void 0?void 0:_.index)-((S=y.premovesRoute.at(-1))===null||S===void 0?void 0:S.index)}).at(0);return c.jsxs(G3,Object.assign({square:v,squareColor:g,setSquares:e,squareHasPremove:!!b},{children:[!b&&i[v]&&c.jsx($0,{piece:i[v],square:v,squares:t}),w&&c.jsx($0,{isPremovedPiece:!0,piece:w.piece,square:v,squares:t}),l&&c.jsx($I,{row:p,col:m})]}),`${m}${p}`)})}),p.toString()))}))}const J3=()=>{const{arrows:t,newArrow:e,boardOrientation:r,boardWidth:n,customArrowColor:s}=Qn(),i=[...t,e].filter(Boolean);return c.jsx("svg",Object.assign({width:n,height:n,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:i.map((o,a)=>{const[l,u,d]=o;if(l===u)return null;const p=Lf(r,n,l),h=Lf(r,n,u);let m=n/32;const v=a===t.length;t.some(x=>x[0]!==l&&x[1]===u)&&!v&&(m=n/16);const g=h.x-p.x,b=h.y-p.y,w=Math.hypot(b,g),y={x:p.x+g*(w-m)/w,y:p.y+b*(w-m)/w};return c.jsxs(f.Fragment,{children:[c.jsx("marker",Object.assign({id:`arrowhead-${a}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:c.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:d??s})})),c.jsx("line",{x1:p.x,y1:p.y,x2:y.x,y2:y.y,opacity:v?"0.5":"0.65",stroke:d??s,strokeWidth:v?.9*n/40:n/40,markerEnd:`url(#arrowhead-${a})`})]},`${l}-${u}${v?"-active":""}`)})}))};function X3({option:t}){const[e,r]=f.useState(!1),{boardWidth:n,chessPieces:s,customDarkSquareStyle:i,customLightSquareStyle:o,handleSetPosition:a,onPromotionPieceSelect:l,promoteFromSquare:u,promoteToSquare:d,promotionDialogVariant:p}=Qn(),h=()=>{switch(t[1]){case"Q":return i.backgroundColor;case"R":return o.backgroundColor;case"N":return p==="default"?o.backgroundColor:i.backgroundColor;case"B":return p==="default"?i.backgroundColor:o.backgroundColor}};return c.jsx("div",Object.assign({onClick:()=>{l(t,u??void 0,d??void 0)&&a(u,d,t,!0)},onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?h():`${h()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof s[t]=="function"?c.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:s[t]({squareWidth:n/8,isDragging:!1})})):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:n/8,height:n/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:c.jsx("g",{children:s[t]})}))}))}function Z3(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:r,promoteToSquare:n}=Qn(),s=(n==null?void 0:n[1])==="1"?"b":"w",i=[`${s??"w"}Q`,`${s??"w"}R`,`${s??"w"}N`,`${s??"w"}B`],o={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:`${e/4}px`,top:0,backgroundColor:"white",left:0}},a=Lf(t,e,n||"a8");return c.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${a==null?void 0:a.y}px`,left:`${a==null?void 0:a.x}px`,zIndex:1e3},o[r]),title:"Choose promotion piece"},{children:i.map(l=>c.jsx(X3,{option:l},l))}))}const e4={whiteKing:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:c.jsx("g",{children:c.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function t4({children:t}){try{return c.jsx(c.Fragment,{children:t})}catch(e){return console.log(e),c.jsx(T_,{showError:!0})}}function T_({showError:t=!1}){return c.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[c.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:e4.whiteKing})),t&&c.jsx("h1",{children:"Something went wrong"})]}))}function r4(){const t=f.useRef(null),{boardWidth:e,clearCurrentRightClickDown:r,onPromotionPieceSelect:n,setShowPromoteDialog:s,showPromoteDialog:i,customBoardStyle:o}=Qn();return f.useEffect(()=>{function a(l){t.current&&!t.current.contains(l.target)&&r()}return document.addEventListener("mouseup",a),()=>{document.removeEventListener("mouseup",a)}},[]),e?c.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:c.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},n4(e)),o)},{children:[c.jsx(Y3,{}),c.jsx(J3,{}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:()=>{s(!1),n==null||n()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),c.jsx(Z3,{})]})]}))})):c.jsx(T_,{})}const n4=t=>({cursor:"default",height:t,width:t});var Ns;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(Ns||(Ns={}));class s4{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,r,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&s!==void 0?s:0}get delayMouseStart(){var e,r,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&s!==void 0?s:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,r){this.args=e,this.context=r}}function i4(t,e,r,n){return Math.sqrt(Math.pow(Math.abs(r-t),2)+Math.pow(Math.abs(n-e),2))}function o4(t,e,r,n,s){if(!s)return!1;const i=Math.atan2(n-e,r-t)*180/Math.PI+180;for(let o=0;o<s.length;++o){const a=s[o];if(a&&(a.start==null||i>=a.start)&&(a.end==null||i<=a.end))return!0}return!1}const a4={Left:1,Right:2,Center:4},l4={Left:0,Center:1,Right:2};function th(t){return t.button===void 0||t.button===l4.Left}function c4(t){return t.buttons===void 0||(t.buttons&a4.Left)===0}function j_(t){return!!t.targetTouches}const u4=1;function d4(t){const e=t.nodeType===u4?t:t.parentElement;if(!e)return;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function h4(t,e){if(t.targetTouches.length===1)return tu(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return tu(t.touches[0])}function tu(t,e){return j_(t)?h4(t,e):{x:t.clientX,y:t.clientY}}const B0=(()=>{let t=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return t=!0,!0}}))}catch{}return t})(),Zo={[Ns.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Ns.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Ns.keyboard]:{keydown:"keydown"}};class xa{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(Se(!xa.isSetUp,"Cannot have two Touch backends at the same time."),xa.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(xa.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,r,n,s=!1){const i=B0?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Zo[o][r];a&&e.addEventListener(a,n,i)})}removeEventListener(e,r,n,s=!1){const i=B0?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Zo[o][r];a&&e.removeEventListener(a,n,i)})}connectDragSource(e,r){const n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(e),this.removeEventListener(r,"start",n)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,r){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const s=i=>{if(!this.document||!n||!this.monitor.isDragging())return;let o;switch(i.type){case Zo.mouse.move:o={x:i.clientX,y:i.clientY};break;case Zo.touch.move:var a,l;o={x:((a=i.touches[0])===null||a===void 0?void 0:a.clientX)||0,y:((l=i.touches[0])===null||l===void 0?void 0:l.clientY)||0};break}const u=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,d=u&&r.contains(u);if(u===r||d)return this.handleMove(i,e)};return this.addEventListener(this.document.body,"move",s),this.targetNodes.set(e,r),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",s))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,r,n){this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&d4(i)},this.handleTopMoveStartCapture=s=>{th(s)&&(this.moveStartSourceIds=[])},this.handleMoveStart=s=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(s)},this.handleTopMoveStart=s=>{if(!th(s))return;const i=tu(s);i&&(j_(s)&&(this.lastTargetTouchFallback=s.targetTouches[0]),this._mouseClientOffset=i),this.waitingForDelay=!1},this.handleTopMoveStartDelay=s=>{if(!th(s))return;const i=s.type===Zo.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,s),i),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(s,i)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(i)},this.handleTopMove=s=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:i,dragOverTargetIds:o}=this,a=this.options.enableHoverOutsideTarget,l=tu(s,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&o4(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&i&&i4(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(i,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),s.cancelable&&s.preventDefault();const d=(o||[]).map(v=>this.targetNodes.get(v)).filter(v=>!!v),p=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,d):this.document.elementsFromPoint(l.x,l.y),h=[];for(const v in p){if(!p.hasOwnProperty(v))continue;let g=p[v];for(g!=null&&h.push(g);g;)g=g.parentElement,g&&h.indexOf(g)===-1&&h.push(g)}const m=h.filter(v=>d.indexOf(v)>-1).map(v=>this._getDropTargetId(v)).filter(v=>!!v).filter((v,g,b)=>b.indexOf(v)===g);if(a)for(const v in this.targetNodes){const g=this.targetNodes.get(v);if(u&&g&&g.contains(u)&&m.indexOf(v)===-1){m.unshift(v);break}}m.reverse(),this.actions.hover(m,{clientOffset:l})},this._getDropTargetId=s=>{const i=this.targetNodes.keys();let o=i.next();for(;o.done===!1;){const a=o.value;if(s===this.targetNodes.get(a))return a;o=i.next()}},this.handleTopMoveEndCapture=s=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!c4(s)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}s.cancelable&&s.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=s=>{s.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new s4(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Ns.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Ns.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Ns.keyboard)}}const f4=function(e,r={},n={}){return new xa(e,r,n)},p4=f.createContext({isCustomDndProviderSet:!1}),m4=({children:t})=>c.jsx(c.Fragment,{children:t}),g4=({customDndBackend:t,customDndBackendOptions:e,children:r})=>{const[n,s]=f.useState(),[i,o]=f.useState(!1),[a,l]=f.useState(!1),{isCustomDndProviderSet:u}=f.useContext(p4);f.useEffect(()=>{l("ontouchstart"in window),o(!0),s(window)},[]);const d=u?m4:t3;return i?n?c.jsx(d,Object.assign({backend:t||(a?f4:K3),context:n,options:t?e:void 0},{children:r})):c.jsx(c.Fragment,{children:r}):null};function v4({boardContainer:t}){const{boardWidth:e,chessPieces:r,id:n,snapToCursor:s,allowDragOutsideBoard:i}=Qn(),o=E3(h=>({item:h.getItem(),clientOffset:h.getClientOffset(),sourceClientOffset:h.getSourceClientOffset(),isDragging:h.isDragging()})),{isDragging:a,item:l,clientOffset:u,sourceClientOffset:d}=o,p=f.useCallback((h,m)=>{if(!h||!m)return{display:"none"};let{x:v,y:g}=s?h:m;const b=e/8/2;if(s&&(v-=b,g-=b),!i){const{left:y,top:x}=t,_=y-b,S=x-b,E=y+e-b,C=x+e-b;v=Math.max(_,Math.min(v,E)),g=Math.max(S,Math.min(g,C))}const w=`translate(${v}px, ${g}px)`;return{transform:w,WebkitTransform:w,touchAction:"none"}},[e,i,s,t]);return a&&l.id===n?c.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:c.jsx("div",Object.assign({style:p(u,d)},{children:typeof r[l.piece]=="function"?r[l.piece]({squareWidth:e/8,isDragging:!0}):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:c.jsx("g",{children:r[l.piece]})}))}))})):null}const N_=f.forwardRef((t,e)=>{const{customDndBackend:r,customDndBackendOptions:n,onBoardWidthChange:s}=t,i=kI(t,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[o,a]=f.useState(t.boardWidth),l=f.useRef(null),u=f.useRef(null),[d,p]=f.useState({left:0,top:0}),h=f.useMemo(()=>{var m;return(m=l.current)===null||m===void 0?void 0:m.getBoundingClientRect()},[l.current]);return f.useEffect(()=>{o&&(s==null||s(o))},[o]),f.useEffect(()=>{p({left:h!=null&&h.left?h==null?void 0:h.left:0,top:h!=null&&h.top?h==null?void 0:h.top:0})},[h]),f.useEffect(()=>{var m;if(t.boardWidth===void 0&&(!((m=l.current)===null||m===void 0)&&m.offsetWidth)){const v=new ResizeObserver(()=>{var g;a((g=l.current)===null||g===void 0?void 0:g.offsetWidth)});return v.observe(l.current),()=>{v.disconnect()}}},[l.current]),c.jsx(t4,{children:c.jsxs("div",Object.assign({ref:u,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[c.jsx("div",{ref:l,style:{width:"100%"}}),c.jsx(g4,Object.assign({customDndBackend:r,customDndBackendOptions:n},{children:o&&c.jsxs(MI,Object.assign({boardWidth:o},i,{ref:e},{children:[c.jsx(v4,{boardContainer:d}),c.jsx(r4,{})]}))}))]}))})}),O_=()=>{const t=f.useRef(null),e=f.useCallback(()=>(t.current||(t.current=new(window.AudioContext||window.webkitAudioContext)),t.current),[]),r=f.useCallback((h,m,v="sine")=>{try{const g=e(),b=g.createOscillator(),w=g.createGain();b.connect(w),w.connect(g.destination),b.frequency.value=h,b.type=v,w.gain.setValueAtTime(.3,g.currentTime),w.gain.exponentialRampToValueAtTime(.01,g.currentTime+m),b.start(g.currentTime),b.stop(g.currentTime+m)}catch{console.log("Audio not supported")}},[e]),n=f.useCallback(()=>{r(440,.1,"sine")},[r]),s=f.useCallback(()=>{r(220,.15,"square"),setTimeout(()=>r(180,.1,"square"),50)},[r]),i=f.useCallback(()=>{r(880,.1,"sine"),setTimeout(()=>r(660,.1,"sine"),100),setTimeout(()=>r(880,.15,"sine"),200)},[r]),o=f.useCallback(()=>{[0,100,200,300,400].forEach((h,m)=>{setTimeout(()=>r(440+m*110,.15,"sine"),h)})},[r]),a=f.useCallback(()=>{r(330,.08,"sine"),setTimeout(()=>r(440,.08,"sine"),80)},[r]),l=f.useCallback(()=>{[0,80,160,240].forEach((h,m)=>{setTimeout(()=>r(330+m*110,.12,"sine"),h)})},[r]),u=f.useCallback(()=>{r(262,.15,"sine"),setTimeout(()=>r(330,.15,"sine"),150),setTimeout(()=>r(392,.2,"sine"),300)},[r]),d=f.useCallback(()=>{r(880,.08,"square")},[r]),p=f.useCallback(()=>{r(440,.15,"sine"),setTimeout(()=>r(440,.15,"sine"),200)},[r]);return{playMove:n,playCapture:s,playCheck:i,playCheckmate:o,playCastle:a,playPromotion:l,playGameStart:u,playTimeWarning:d,playDraw:p}};var rh="focusScope.autoFocusOnMount",nh="focusScope.autoFocusOnUnmount",z0={bubbles:!1,cancelable:!0},y4="FocusScope",Rm=f.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=f.useState(null),u=Fr(s),d=Fr(i),p=f.useRef(null),h=Fe(e,g=>l(g)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let g=function(x){if(m.paused||!a)return;const _=x.target;a.contains(_)?p.current=_:ns(p.current,{select:!0})},b=function(x){if(m.paused||!a)return;const _=x.relatedTarget;_!==null&&(a.contains(_)||ns(p.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&ns(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(w);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[n,a,m.paused]),f.useEffect(()=>{if(a){H0.add(m);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(rh,z0);a.addEventListener(rh,u),a.dispatchEvent(w),w.defaultPrevented||(w4(E4(P_(a)),{select:!0}),document.activeElement===g&&ns(a))}return()=>{a.removeEventListener(rh,u),setTimeout(()=>{const w=new CustomEvent(nh,z0);a.addEventListener(nh,d),a.dispatchEvent(w),w.defaultPrevented||ns(g??document.body,{select:!0}),a.removeEventListener(nh,d),H0.remove(m)},0)}}},[a,u,d,m]);const v=f.useCallback(g=>{if(!r&&!n||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(b&&w){const y=g.currentTarget,[x,_]=x4(y);x&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&ns(x,{select:!0})):g.shiftKey&&w===x&&(g.preventDefault(),r&&ns(_,{select:!0})):w===y&&g.preventDefault()}},[r,n,m.paused]);return c.jsx(Te.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Rm.displayName=y4;function w4(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ns(n,{select:e}),document.activeElement!==r)return}function x4(t){const e=P_(t),r=W0(e,t),n=W0(e.reverse(),t);return[r,n]}function P_(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function W0(t,e){for(const r of t)if(!b4(r,{upTo:e}))return r}function b4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _4(t){return t instanceof HTMLInputElement&&"select"in t}function ns(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&_4(t)&&e&&t.select()}}var H0=S4();function S4(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=V0(t,e),t.unshift(e)},remove(e){var r;t=V0(t,e),(r=t[0])==null||r.resume()}}}function V0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function E4(t){return t.filter(e=>e.tagName!=="A")}var sh=0;function R_(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??q0()),document.body.insertAdjacentElement("beforeend",t[1]??q0()),sh++,()=>{sh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sh--}},[])}function q0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vc="right-scroll-bar-position",yc="width-before-scroll-bar",C4="with-scroll-bars-hidden",k4="--removed-body-scroll-bar-size";function ih(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function T4(t,e){var r=f.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var j4=typeof window<"u"?f.useLayoutEffect:f.useEffect,K0=new WeakMap;function N4(t,e){var r=T4(null,function(n){return t.forEach(function(s){return ih(s,n)})});return j4(function(){var n=K0.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(a){i.has(a)||ih(a,null)}),i.forEach(function(a){s.has(a)||ih(a,o)})}K0.set(r,t)},[t]),r}function O4(t){return t}function P4(t,e){e===void 0&&(e=O4);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function R4(t){t===void 0&&(t={});var e=P4(null);return e.options=wn({async:!0,ssr:!1},t),e}var A_=function(t){var e=t.sideCar,r=Uo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,wn({},r))};A_.isSideCarExport=!0;function A4(t,e){return t.useMedium(e),A_}var I_=R4(),oh=function(){},Vu=f.forwardRef(function(t,e){var r=f.useRef(null),n=f.useState({onScrollCapture:oh,onWheelCapture:oh,onTouchMoveCapture:oh}),s=n[0],i=n[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,h=t.sideCar,m=t.noRelative,v=t.noIsolation,g=t.inert,b=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,x=t.gapMode,_=Uo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=N4([r,e]),C=wn(wn({},_),s);return f.createElement(f.Fragment,null,d&&f.createElement(S,{sideCar:I_,removeScrollBar:u,shards:p,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:x}),o?f.cloneElement(f.Children.only(a),wn(wn({},C),{ref:E})):f.createElement(y,wn({},C,{className:l,ref:E}),a))});Vu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vu.classNames={fullWidth:yc,zeroRight:vc};var I4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=I4();return e&&t.setAttribute("nonce",e),t}function L4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function M4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $4=function(){var t=0,e=null;return{add:function(r){t==0&&(e=D4())&&(L4(e,r),M4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},U4=function(){var t=$4();return function(e,r){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},D_=function(){var t=U4(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},F4={left:0,top:0,right:0,gap:0},ah=function(t){return parseInt(t||"",10)||0},B4=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ah(r),ah(n),ah(s)]},z4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return F4;var e=B4(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},W4=D_(),lo="data-scroll-locked",H4=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(C4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(lo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(yc,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(vc," .").concat(vc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yc," .").concat(yc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(lo,`] {
    `).concat(k4,": ").concat(a,`px;
  }
`)},G0=function(){var t=parseInt(document.body.getAttribute(lo)||"0",10);return isFinite(t)?t:0},V4=function(){f.useEffect(function(){return document.body.setAttribute(lo,(G0()+1).toString()),function(){var t=G0()-1;t<=0?document.body.removeAttribute(lo):document.body.setAttribute(lo,t.toString())}},[])},q4=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;V4();var i=f.useMemo(function(){return z4(s)},[s]);return f.createElement(W4,{styles:H4(i,!e,s,r?"":"!important")})},zf=!1;if(typeof window<"u")try{var Gl=Object.defineProperty({},"passive",{get:function(){return zf=!0,!0}});window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{zf=!1}var Ii=zf?{passive:!1}:!1,K4=function(t){return t.tagName==="TEXTAREA"},L_=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!K4(t)&&r[e]==="visible")},G4=function(t){return L_(t,"overflowY")},Q4=function(t){return L_(t,"overflowX")},Q0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=M_(t,n);if(s){var i=$_(t,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Y4=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},J4=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},M_=function(t,e){return t==="v"?G4(e):Q4(e)},$_=function(t,e){return t==="v"?Y4(e):J4(e)},X4=function(t,e){return t==="h"&&e==="rtl"?-1:1},Z4=function(t,e,r,n,s){var i=X4(t,window.getComputedStyle(e).direction),o=i*n,a=r.target,l=e.contains(a),u=!1,d=o>0,p=0,h=0;do{if(!a)break;var m=$_(t,a),v=m[0],g=m[1],b=m[2],w=g-b-i*v;(v||w)&&M_(t,a)&&(p+=w,h+=v);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Ql=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Y0=function(t){return[t.deltaX,t.deltaY]},J0=function(t){return t&&"current"in t?t.current:t},eL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rL=0,Di=[];function nL(t){var e=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(rL++)[0],i=f.useState(D_)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=zP([t.lockRef.current],(t.shards||[]).map(J0),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Ql(g),y=r.current,x="deltaX"in g?g.deltaX:y[0]-w[0],_="deltaY"in g?g.deltaY:y[1]-w[1],S,E=g.target,C=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&E.type==="range")return!1;var T=Q0(C,E);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=Q0(C,E)),!T)return!1;if(!n.current&&"changedTouches"in g&&(x||_)&&(n.current=S),!S)return!0;var L=n.current||S;return Z4(L,b,g,L==="h"?x:_,!0)},[]),l=f.useCallback(function(g){var b=g;if(!(!Di.length||Di[Di.length-1]!==i)){var w="deltaY"in b?Y0(b):Ql(b),y=e.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&eL(S.delta,w)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var x=(o.current.shards||[]).map(J0).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=x.length>0?a(b,x[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(g,b,w,y){var x={name:g,delta:b,target:w,should:y,shadowParent:sL(w)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(_){return _!==x})},1)},[]),d=f.useCallback(function(g){r.current=Ql(g),n.current=void 0},[]),p=f.useCallback(function(g){u(g.type,Y0(g),g.target,a(g,t.lockRef.current))},[]),h=f.useCallback(function(g){u(g.type,Ql(g),g.target,a(g,t.lockRef.current))},[]);f.useEffect(function(){return Di.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ii),document.addEventListener("touchmove",l,Ii),document.addEventListener("touchstart",d,Ii),function(){Di=Di.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ii),document.removeEventListener("touchmove",l,Ii),document.removeEventListener("touchstart",d,Ii)}},[]);var m=t.removeScrollBar,v=t.inert;return f.createElement(f.Fragment,null,v?f.createElement(i,{styles:tL(s)}):null,m?f.createElement(q4,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function sL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iL=A4(I_,nL);var Am=f.forwardRef(function(t,e){return f.createElement(Vu,wn({},t,{ref:e,sideCar:iL}))});Am.classNames=Vu.classNames;var oL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Li=new WeakMap,Yl=new WeakMap,Jl={},lh=0,U_=function(t){return t&&(t.host||U_(t.parentNode))},aL=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=U_(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},lL=function(t,e,r,n){var s=aL(e,Array.isArray(t)?t:[t]);Jl[r]||(Jl[r]=new WeakMap);var i=Jl[r],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",g=(Li.get(h)||0)+1,b=(i.get(h)||0)+1;Li.set(h,g),i.set(h,b),o.push(h),g===1&&v&&Yl.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),a.clear(),lh++,function(){o.forEach(function(p){var h=Li.get(p)-1,m=i.get(p)-1;Li.set(p,h),i.set(p,m),h||(Yl.has(p)||p.removeAttribute(n),Yl.delete(p)),m||p.removeAttribute(r)}),lh--,lh||(Li=new WeakMap,Li=new WeakMap,Yl=new WeakMap,Jl={})}},F_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=oL(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),lL(n,s,r,"aria-hidden")):function(){return null}},qu="Dialog",[B_,z_]=Kn(qu),[cL,cn]=B_(qu),W_=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=f.useRef(null),l=f.useRef(null),[u,d]=To({prop:n,defaultProp:s??!1,onChange:i,caller:qu});return c.jsx(cL,{scope:e,triggerRef:a,contentRef:l,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(p=>!p),[d]),modal:o,children:r})};W_.displayName=qu;var H_="DialogTrigger",V_=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cn(H_,r),i=Fe(e,s.triggerRef);return c.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lm(s.open),...n,ref:i,onClick:fe(t.onClick,s.onOpenToggle)})});V_.displayName=H_;var Im="DialogPortal",[uL,q_]=B_(Im,{forceMount:void 0}),K_=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=cn(Im,e);return c.jsx(uL,{scope:e,forceMount:r,children:f.Children.map(n,o=>c.jsx(_i,{present:r||i.open,children:c.jsx(_u,{asChild:!0,container:s,children:o})}))})};K_.displayName=Im;var ru="DialogOverlay",G_=f.forwardRef((t,e)=>{const r=q_(ru,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=cn(ru,t.__scopeDialog);return i.modal?c.jsx(_i,{present:n||i.open,children:c.jsx(hL,{...s,ref:e})}):null});G_.displayName=ru;var dL=ko("DialogOverlay.RemoveScroll"),hL=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cn(ru,r);return c.jsx(Am,{as:dL,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Te.div,{"data-state":Lm(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),mi="DialogContent",Q_=f.forwardRef((t,e)=>{const r=q_(mi,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=cn(mi,t.__scopeDialog);return c.jsx(_i,{present:n||i.open,children:i.modal?c.jsx(fL,{...s,ref:e}):c.jsx(pL,{...s,ref:e})})});Q_.displayName=mi;var fL=f.forwardRef((t,e)=>{const r=cn(mi,t.__scopeDialog),n=f.useRef(null),s=Fe(e,r.contentRef,n);return f.useEffect(()=>{const i=n.current;if(i)return F_(i)},[]),c.jsx(Y_,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),pL=f.forwardRef((t,e)=>{const r=cn(mi,t.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return c.jsx(Y_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Y_=f.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=cn(mi,r),l=f.useRef(null),u=Fe(e,l);return R_(),c.jsxs(c.Fragment,{children:[c.jsx(Rm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(al,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Lm(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(gL,{titleId:a.titleId}),c.jsx(yL,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Dm="DialogTitle",J_=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cn(Dm,r);return c.jsx(Te.h2,{id:s.titleId,...n,ref:e})});J_.displayName=Dm;var X_="DialogDescription",Z_=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cn(X_,r);return c.jsx(Te.p,{id:s.descriptionId,...n,ref:e})});Z_.displayName=X_;var eS="DialogClose",tS=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cn(eS,r);return c.jsx(Te.button,{type:"button",...n,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});tS.displayName=eS;function Lm(t){return t?"open":"closed"}var rS="DialogTitleWarning",[mL,nS]=s2(rS,{contentName:mi,titleName:Dm,docsSlug:"dialog"}),gL=({titleId:t})=>{const e=nS(rS),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},vL="DialogDescriptionWarning",yL=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nS(vL).contentName}}.`;return f.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},sS=W_,wL=V_,iS=K_,Mm=G_,$m=Q_,Um=J_,Fm=Z_,Bm=tS;const xL=sS,bL=iS,oS=f.forwardRef(({className:t,...e},r)=>c.jsx(Mm,{ref:r,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));oS.displayName=Mm.displayName;const aS=f.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(bL,{children:[c.jsx(oS,{}),c.jsxs($m,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(Bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(ku,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aS.displayName=$m.displayName;const lS=({className:t,...e})=>c.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});lS.displayName="DialogHeader";const cS=f.forwardRef(({className:t,...e},r)=>c.jsx(Um,{ref:r,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));cS.displayName=Um.displayName;const _L=f.forwardRef(({className:t,...e},r)=>c.jsx(Fm,{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));_L.displayName=Fm.displayName;const SL=[{type:"q",name:"Queen",whiteSymbol:"",blackSymbol:""},{type:"r",name:"Rook",whiteSymbol:"",blackSymbol:""},{type:"b",name:"Bishop",whiteSymbol:"",blackSymbol:""},{type:"n",name:"Knight",whiteSymbol:"",blackSymbol:""}],uS=({isOpen:t,color:e,onSelect:r})=>c.jsx(xL,{open:t,children:c.jsxs(aS,{className:"sm:max-w-md",onPointerDownOutside:n=>n.preventDefault(),children:[c.jsx(lS,{children:c.jsx(cS,{className:"text-center text-xl",children:"Choose Promotion"})}),c.jsx("div",{className:"grid grid-cols-4 gap-3 py-4",children:SL.map(n=>c.jsx(_e,{variant:"outline",className:"h-20 text-5xl hover:bg-primary hover:text-primary-foreground transition-all",onClick:()=>r(n.type),children:e==="white"?n.whiteSymbol:n.blackSymbol},n.type))}),c.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a piece to promote your pawn"})]})}),EL=({x:t,y:e,onComplete:r})=>{const[n,s]=f.useState([]),[i,o]=f.useState(0),[a,l]=f.useState(1);return f.useEffect(()=>{const u=[];for(let m=0;m<16;m++){const v=m/16*Math.PI*2,g=3+Math.random()*4;u.push({id:m,x:0,y:0,vx:Math.cos(v)*g,vy:Math.sin(v)*g,size:3+Math.random()*3,hue:Math.random()>.5?45:25,opacity:1,type:"spark"})}for(let m=0;m<8;m++){const v=Math.random()*Math.PI*2,g=1+Math.random()*2;u.push({id:16+m,x:0,y:0,vx:Math.cos(v)*g,vy:Math.sin(v)*g-1,size:4+Math.random()*4,hue:15+Math.random()*30,opacity:1,type:"ember"})}s(u);const d=setInterval(()=>{o(m=>m+.15),l(m=>Math.max(0,m-.08))},16),p=setInterval(()=>{s(m=>m.map(v=>({...v,x:v.x+v.vx,y:v.y+v.vy+(v.type==="ember"?-.5:0),vy:v.vy+.15,opacity:v.opacity-.04,size:v.size*.96})).filter(v=>v.opacity>0))},16),h=setTimeout(()=>{clearInterval(d),clearInterval(p),r()},800);return()=>{clearInterval(d),clearInterval(p),clearTimeout(h)}},[r]),c.jsxs("div",{className:"fixed pointer-events-none z-[9997]",style:{left:t,top:e},children:[c.jsx("div",{className:"absolute rounded-full",style:{width:80,height:80,left:-40,top:-40,border:"3px solid",borderColor:"hsl(45, 100%, 60%)",transform:`scale(${i})`,opacity:a,boxShadow:`
            0 0 20px hsl(45, 100%, 50%),
            0 0 40px hsl(25, 100%, 50%),
            inset 0 0 20px hsl(45, 100%, 60%)
          `}}),c.jsx("div",{className:"absolute rounded-full",style:{width:40,height:40,left:-20,top:-20,background:"radial-gradient(circle, hsl(45, 100%, 80%), hsl(25, 100%, 50%), transparent)",transform:`scale(${i*.5})`,opacity:a*1.5}}),n.map(u=>c.jsx("div",{className:"absolute rounded-full",style:{width:u.size,height:u.size,left:u.x-u.size/2,top:u.y-u.size/2,opacity:u.opacity,background:u.type==="spark"?`hsl(${u.hue}, 100%, 70%)`:`radial-gradient(circle, hsl(${u.hue}, 100%, 60%), hsl(${u.hue-10}, 100%, 40%))`,boxShadow:`0 0 ${u.size*2}px hsl(${u.hue}, 100%, 50%)`}},u.id))]})},CL=()=>{const{gameId:t}=gP(),{profile:e}=Ei(),{toast:r}=bi(),n=hl(),s=O_(),i=f.useRef(null),[o,a]=f.useState(new vn),[l,u]=f.useState(null),[d,p]=f.useState(null),[h,m]=f.useState(null),[v,g]=f.useState(600),[b,w]=f.useState(600),[y,x]=f.useState(!0),[_,S]=f.useState(null),[E,C]=f.useState([]),[T,L]=f.useState(null),[$,Y]=f.useState(null),[U,J]=f.useState(!1),[R,K]=f.useState([]),M=(e==null?void 0:e.id)===(l==null?void 0:l.white_player_id),V=(e==null?void 0:e.id)===(l==null?void 0:l.black_player_id),j=M||V,O=o.turn()==="w"&&M||o.turn()==="b"&&V,H=M?"white":"black",Z=(l==null?void 0:l.white_ready)&&(l==null?void 0:l.black_ready),k=Z&&(l==null?void 0:l.result)==="in_progress";f.useEffect(()=>{if(t)return W(),z()},[t]),f.useEffect(()=>{if(Z&&(l==null?void 0:l.result)==="in_progress"){const G=setInterval(()=>{o.turn()==="w"?g(se=>{const re=Math.max(0,se-1);return re===30&&M&&!U&&(s.playTimeWarning(),J(!0)),re}):w(se=>{const re=Math.max(0,se-1);return re===30&&V&&!U&&(s.playTimeWarning(),J(!0)),re})},1e3);return()=>clearInterval(G)}},[Z,l==null?void 0:l.result,o,M,V,U,s]),f.useEffect(()=>{J(!1)},[o.turn()]);const W=async()=>{if(!t)return;const{data:G}=await ee.from("games").select("*").eq("id",t).single();if(G){u(G);const se=new vn;G.fen&&se.load(G.fen),a(se),g(G.white_time_remaining||600),w(G.black_time_remaining||600);const{data:re}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, rating").eq("id",G.white_player_id).single(),{data:xe}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, rating").eq("id",G.black_player_id).single();re&&p(re),xe&&m(xe),s.playGameStart()}x(!1)},z=()=>{const G=ee.channel(`game-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"games",filter:`id=eq.${t}`},se=>{const re=se.new;u(re);const xe=new vn;re.fen&&xe.load(re.fen),a(xe),re.pgn&&s.playMove()}).subscribe();return()=>{ee.removeChannel(G)}},X=f.useCallback(G=>{if(!i.current)return;const se=i.current.getBoundingClientRect(),re=se.width/8,xe=G.charCodeAt(0)-97,vt=parseInt(G[1])-1,Kt=!M&&V,yt=Kt?7-xe:xe,et=Kt?vt:7-vt,tr=se.left+(yt+.5)*re,rr=se.top+(et+.5)*re,dt=Date.now()+Math.random();K(wt=>[...wt,{id:dt,x:tr,y:rr}])},[M,V]),ae=f.useCallback(G=>{K(se=>se.filter(re=>re.id!==G))},[]),A=f.useCallback(G=>{G.san.includes("#")?s.playCheckmate():G.san.includes("+")?s.playCheck():G.captured?(s.playCapture(),X(G.to)):G.flags.includes("k")||G.flags.includes("q")?s.playCastle():G.san.includes("=")?s.playPromotion():s.playMove()},[s,X]),ne=f.useCallback((G,se)=>{const re=o.get(G);if(!re||re.type!=="p")return!1;const xe=se[1];return re.color==="w"&&xe==="8"||re.color==="b"&&xe==="1"},[o]),de=f.useCallback((G,se,re="q")=>{if(!l)return!1;try{const xe=new vn(o.fen()),vt=xe.move({from:G,to:se,promotion:re});if(!vt)return!1;a(xe),S(null),C([]),Y({from:G,to:se}),A(vt);const Kt=xe.fen(),yt=xe.pgn();let et="in_progress";return xe.isCheckmate()?et=xe.turn()==="w"?"black_wins":"white_wins":xe.isDraw()&&(et="draw"),ee.from("games").update({fen:Kt,pgn:yt,result:et,white_time_remaining:v,black_time_remaining:b,...et!=="in_progress"?{ended_at:new Date().toISOString()}:{}}).eq("id",t).then(()=>{et!=="in_progress"&&(Vt(et),r({title:"Game Over!",description:`Result: ${et.replace(/_/g," ")}`}))}),!0}catch{return!1}},[o,l,t,v,b,A,r]),le=f.useCallback(G=>{T&&(de(T.from,T.to,G),L(null))},[T,de]),ie=f.useCallback(G=>o.moves({square:G,verbose:!0}).map(re=>re.to),[o]),ge=f.useCallback(G=>{if(!O||!k||T)return;if(_&&E.includes(G)){if(ne(_,G)){L({from:_,to:G});return}de(_,G);return}const se=o.get(G),re=M?"w":"b";se&&se.color===re?(S(G),C(ie(G))):(S(null),C([]))},[o,O,k,_,E,M,T,ne,de,ie]),We=f.useCallback((G,se)=>!O||!k||T?!1:(S(se),C(ie(se)),!0),[O,k,T,ie]),gt=f.useCallback(()=>{S(null),C([])},[]),Lt=f.useCallback((G,se)=>{if(!O||!k||T)return!1;const re=G,xe=se;return o.moves({square:re,verbose:!0}).some(yt=>yt.to===xe)?ne(re,xe)?(L({from:re,to:xe}),!0):de(re,xe):!1},[o,O,k,T,ne,de]),ut=f.useMemo(()=>{const G={};return $&&(G[$.from]={backgroundColor:"rgba(155, 199, 0, 0.4)"},G[$.to]={backgroundColor:"rgba(155, 199, 0, 0.5)"}),_&&(G[_]={backgroundColor:"rgba(255, 255, 0, 0.4)"}),E.forEach(se=>{const re=o.get(se);G[se]={...G[se],background:re?"radial-gradient(circle, rgba(255, 0, 0, 0.4) 85%, transparent 85%)":"radial-gradient(circle, rgba(0, 128, 0, 0.4) 25%, transparent 25%)"}}),G},[_,E,o,$]),Vt=async G=>{if(!l)return;let se=0,re=0,xe=0,vt=0;const{data:Kt}=await ee.from("profiles").select("rating").eq("id",l.white_player_id).single(),{data:yt}=await ee.from("profiles").select("rating").eq("id",l.black_player_id).single(),et=(Kt==null?void 0:Kt.rating)||1200,tr=(yt==null?void 0:yt.rating)||1200,rr=1/(1+Math.pow(10,(tr-et)/400)),dt=1-rr,wt=32;G==="white_wins"?(se=1,xe=Math.round(wt*(1-rr)),vt=Math.round(wt*(0-dt))):G==="black_wins"?(re=1,xe=Math.round(wt*(0-rr)),vt=Math.round(wt*(1-dt))):G==="draw"&&(se=.5,re=.5,xe=Math.round(wt*(.5-rr)),vt=Math.round(wt*(.5-dt)));const{data:dr}=await ee.from("tournament_players").select("score").eq("tournament_id",l.tournament_id).eq("player_id",l.white_player_id).single(),{data:Tn}=await ee.from("tournament_players").select("score").eq("tournament_id",l.tournament_id).eq("player_id",l.black_player_id).single();dr&&await ee.from("tournament_players").update({score:Number(dr.score)+se}).eq("tournament_id",l.tournament_id).eq("player_id",l.white_player_id),Tn&&await ee.from("tournament_players").update({score:Number(Tn.score)+re}).eq("tournament_id",l.tournament_id).eq("player_id",l.black_player_id);const{data:Tr}=await ee.from("profiles").select("games_played, games_won, games_lost, games_drawn, score").eq("id",l.white_player_id).single(),{data:hr}=await ee.from("profiles").select("games_played, games_won, games_lost, games_drawn, score").eq("id",l.black_player_id).single();if(Tr){const jr=G==="white_wins"?1:0,jn=G==="black_wins"?1:0,zr=G==="draw"?1:0;await ee.from("profiles").update({rating:et+xe,games_played:(Tr.games_played||0)+1,games_won:(Tr.games_won||0)+jr,games_lost:(Tr.games_lost||0)+jn,games_drawn:(Tr.games_drawn||0)+zr,score:Number(Tr.score||0)+se}).eq("id",l.white_player_id)}else await ee.from("profiles").update({rating:et+xe}).eq("id",l.white_player_id);if(hr){const jr=G==="black_wins"?1:0,jn=G==="white_wins"?1:0,zr=G==="draw"?1:0;await ee.from("profiles").update({rating:tr+vt,games_played:(hr.games_played||0)+1,games_won:(hr.games_won||0)+jr,games_lost:(hr.games_lost||0)+jn,games_drawn:(hr.games_drawn||0)+zr,score:Number(hr.score||0)+re}).eq("id",l.black_player_id)}else await ee.from("profiles").update({rating:tr+vt}).eq("id",l.black_player_id)},qt=async()=>{if(!l||!j)return;const G=M?{white_ready:!0}:{black_ready:!0},se=M?l.black_ready:l.white_ready&&!0;await ee.from("games").update({...G,...se?{result:"in_progress",started_at:new Date().toISOString()}:{}}).eq("id",t),se?(s.playGameStart(),r({title:"Game Started!",description:"White moves first. Good luck!"})):r({title:M?"Game Started!":"Ready!",description:"Waiting for opponent..."})},kr=async()=>{if(!l||!j||!Z)return;const G=M?"black_wins":"white_wins";await ee.from("games").update({result:G,ended_at:new Date().toISOString()}).eq("id",t),await Vt(G),r({title:"You resigned",description:"Better luck next time!"})},kn=async()=>{!l||!j||!k||(await ee.from("games").update({draw_offered_by:e==null?void 0:e.id}).eq("id",t),r({title:"Draw offered",description:"Waiting for opponent's response..."}))},Br=async()=>{!l||!j||!k||(await ee.from("games").update({result:"draw",ended_at:new Date().toISOString(),draw_offered_by:null}).eq("id",t),await Vt("draw"),r({title:"Draw accepted",description:"Game ended in a draw!"}))},un=async()=>{!l||!j||(await ee.from("games").update({draw_offered_by:null}).eq("id",t),r({title:"Draw declined",description:"The game continues!"}))},Mt=G=>{const se=Math.floor(G/60),re=G%60;return`${se}:${re.toString().padStart(2,"0")}`};return y?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(ir,{className:"h-8 w-8 animate-spin text-primary"})}):l?c.jsxs("div",{className:"min-h-screen bg-background p-4",children:[c.jsx(uS,{isOpen:!!T,color:H,onSelect:le}),c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs(De,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ur,{avatarUrl:h==null?void 0:h.avatar_url,initials:h==null?void 0:h.avatar_initials,name:h==null?void 0:h.full_name,size:"sm"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:(h==null?void 0:h.username)||"Black"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Black  ",(h==null?void 0:h.rating)||1200]})]})]}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors ${o.turn()==="b"?b<=30?"bg-destructive text-destructive-foreground animate-pulse":"bg-primary text-primary-foreground":"bg-muted"}`,children:[c.jsx(af,{className:"h-4 w-4"}),c.jsx("span",{className:"font-mono font-bold",children:Mt(b)})]})]}),c.jsxs("div",{className:"max-w-[min(100%,400px)] mx-auto relative",ref:i,children:[c.jsx(N_,{position:o.fen(),onPieceDrop:Lt,onSquareClick:ge,onPieceDragBegin:We,onPieceDragEnd:gt,boardOrientation:V?"black":"white",arePiecesDraggable:j&&O&&k&&!T,customSquareStyles:ut}),R.map(G=>c.jsx(EL,{x:G.x,y:G.y,onComplete:()=>ae(G.id)},G.id))]}),c.jsxs("div",{className:"flex items-center justify-between mt-4 p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ur,{avatarUrl:d==null?void 0:d.avatar_url,initials:d==null?void 0:d.avatar_initials,name:d==null?void 0:d.full_name,size:"sm"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:(d==null?void 0:d.username)||"White"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["White  ",(d==null?void 0:d.rating)||1200]})]})]}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors ${o.turn()==="w"?v<=30?"bg-destructive text-destructive-foreground animate-pulse":"bg-primary text-primary-foreground":"bg-muted"}`,children:[c.jsx(af,{className:"h-4 w-4"}),c.jsx("span",{className:"font-mono font-bold",children:Mt(v)})]})]})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(De,{children:[c.jsx(St,{children:c.jsx(Et,{children:"Game Status"})}),c.jsxs(Ue,{className:"space-y-4",children:[c.jsx("div",{className:"text-center py-4 bg-muted rounded-lg",children:Z?l.result==="in_progress"?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-bold text-lg",children:o.turn()==="w"?"White's Turn":"Black's Turn"}),O&&c.jsx("p",{className:"text-sm text-primary",children:"Your move!"})]}):c.jsx("p",{className:"font-bold text-lg capitalize",children:l.result.replace(/_/g," ")}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-bold text-lg",children:"Waiting to Start"}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx("p",{className:`text-sm ${l.white_ready?"text-green-500":"text-muted-foreground"}`,children:l.white_ready?" White is ready":" White not ready"}),c.jsx("p",{className:`text-sm ${l.black_ready?"text-green-500":"text-muted-foreground"}`,children:l.black_ready?" Black is ready":" Black not ready"})]})]})}),o.isCheck()&&k&&c.jsx("div",{className:"p-3 bg-destructive/10 text-destructive rounded-lg text-center font-bold animate-pulse",children:"CHECK!"}),j&&!Z&&l.result==="pending"&&c.jsxs(c.Fragment,{children:[M&&!l.white_ready&&c.jsxs(_e,{className:"w-full bg-green-600 hover:bg-green-700",onClick:qt,children:[c.jsx(nm,{className:"h-4 w-4 mr-2"}),"Start Game"]}),M&&l.white_ready&&!l.black_ready&&c.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg text-center",children:[c.jsx(ir,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),c.jsx("p",{className:"text-sm",children:"Waiting for Black to accept..."})]}),V&&!l.black_ready&&l.white_ready&&c.jsxs(_e,{className:"w-full bg-green-600 hover:bg-green-700",onClick:qt,children:[c.jsx(tT,{className:"h-4 w-4 mr-2"}),"Accept & Start"]}),V&&!l.white_ready&&c.jsx("div",{className:"p-3 bg-muted rounded-lg text-center",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiting for White to start the game..."})})]}),j&&k&&l.draw_offered_by&&l.draw_offered_by!==(e==null?void 0:e.id)&&c.jsxs("div",{className:"p-3 bg-amber-500/20 border border-amber-500/30 rounded-lg space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-center",children:"Opponent offers a draw"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(_e,{variant:"outline",className:"flex-1",onClick:Br,children:[c.jsx(fv,{className:"h-4 w-4 mr-2"}),"Accept"]}),c.jsxs(_e,{variant:"outline",className:"flex-1",onClick:un,children:[c.jsx(ku,{className:"h-4 w-4 mr-2"}),"Decline"]})]})]}),j&&k&&l.draw_offered_by===(e==null?void 0:e.id)&&c.jsxs("div",{className:"p-3 bg-muted rounded-lg text-center",children:[c.jsx(ir,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Draw offer pending..."})]}),j&&k&&c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(_e,{variant:"secondary",className:"flex-1",onClick:kn,disabled:!!l.draw_offered_by,children:[c.jsx(fv,{className:"h-4 w-4 mr-2"}),"Offer Draw"]}),c.jsxs(_e,{variant:"destructive",className:"flex-1",onClick:kr,children:[c.jsx(a1,{className:"h-4 w-4 mr-2"}),"Resign"]})]}),c.jsxs(_e,{variant:"outline",className:"w-full",onClick:()=>n("/standings"),children:[c.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Back to Standings"]})]})]}),c.jsxs(De,{children:[c.jsx(St,{children:c.jsx(Et,{children:"Moves"})}),c.jsx(Ue,{children:c.jsx("div",{className:"text-sm font-mono bg-muted p-3 rounded-lg max-h-48 overflow-y-auto",children:o.history().length>0?c.jsx("div",{className:"space-y-1",children:o.history().reduce((G,se,re)=>(re%2===0?G.push([se]):G[G.length-1].push(se),G),[]).map((G,se)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("span",{className:"text-muted-foreground w-6",children:[se+1,"."]}),c.jsx("span",{className:"w-16",children:G[0]}),c.jsx("span",{className:"w-16",children:G[1]||""})]},se))}):c.jsx("span",{className:"text-muted-foreground",children:"No moves yet"})})})]})]})]})})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground",children:"Game not found"})})};function X0(t,[e,r]){return Math.min(r,Math.max(e,t))}function kL(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var TL=[" ","Enter","ArrowUp","ArrowDown"],jL=[" ","Enter"],gi="Select",[Ku,Gu,NL]=Xp(gi),[Fo,RM]=Kn(gi,[NL,Ou]),Qu=Ou(),[OL,$s]=Fo(gi),[PL,RL]=Fo(gi),dS=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:p,disabled:h,required:m,form:v}=t,g=Qu(e),[b,w]=f.useState(null),[y,x]=f.useState(null),[_,S]=f.useState(!1),E=Em(u),[C,T]=To({prop:n,defaultProp:s??!1,onChange:i,caller:gi}),[L,$]=To({prop:o,defaultProp:a,onChange:l,caller:gi}),Y=f.useRef(null),U=b?v||!!b.closest("form"):!0,[J,R]=f.useState(new Set),K=Array.from(J).map(M=>M.props.value).join(";");return c.jsx(JN,{...g,children:c.jsxs(OL,{required:m,scope:e,trigger:b,onTriggerChange:w,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Ts(),value:L,onValueChange:$,open:C,onOpenChange:T,dir:E,triggerPointerDownPosRef:Y,disabled:h,children:[c.jsx(Ku.Provider,{scope:e,children:c.jsx(PL,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(M=>{R(V=>new Set(V).add(M))},[]),onNativeOptionRemove:f.useCallback(M=>{R(V=>{const j=new Set(V);return j.delete(M),j})},[]),children:r})}),U?c.jsxs(DS,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:p,value:L,onChange:M=>$(M.target.value),disabled:h,form:v,children:[L===void 0?c.jsx("option",{value:""}):null,Array.from(J)]},K):null]})})};dS.displayName=gi;var hS="SelectTrigger",fS=f.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Qu(r),o=$s(hS,r),a=o.disabled||n,l=Fe(e,o.onTriggerChange),u=Gu(r),d=f.useRef("touch"),[p,h,m]=MS(g=>{const b=u().filter(x=>!x.disabled),w=b.find(x=>x.value===o.value),y=$S(b,g,w);y!==void 0&&o.onValueChange(y.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(V1,{asChild:!0,...i,children:c.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":LS(o.value)?"":void 0,...s,ref:l,onClick:fe(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:fe(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:fe(s.onKeyDown,g=>{const b=p.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&TL.includes(g.key)&&(v(),g.preventDefault())})})})});fS.displayName=hS;var pS="SelectValue",mS=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=t,l=$s(pS,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,p=Fe(e,l.onValueNodeChange);return Dt(()=>{u(d)},[u,d]),c.jsx(Te.span,{...a,ref:p,style:{pointerEvents:"none"},children:LS(l.value)?c.jsx(c.Fragment,{children:o}):i})});mS.displayName=pS;var AL="SelectIcon",gS=f.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return c.jsx(Te.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});gS.displayName=AL;var IL="SelectPortal",vS=t=>c.jsx(_u,{asChild:!0,...t});vS.displayName=IL;var vi="SelectContent",yS=f.forwardRef((t,e)=>{const r=$s(vi,t.__scopeSelect),[n,s]=f.useState();if(Dt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?xi.createPortal(c.jsx(wS,{scope:t.__scopeSelect,children:c.jsx(Ku.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(xS,{...t,ref:e})});yS.displayName=vi;var qr=10,[wS,Us]=Fo(vi),DL="SelectContentImpl",LL=ko("SelectContent.RemoveScroll"),xS=f.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b,...w}=t,y=$s(vi,r),[x,_]=f.useState(null),[S,E]=f.useState(null),C=Fe(e,A=>_(A)),[T,L]=f.useState(null),[$,Y]=f.useState(null),U=Gu(r),[J,R]=f.useState(!1),K=f.useRef(!1);f.useEffect(()=>{if(x)return F_(x)},[x]),R_();const M=f.useCallback(A=>{const[ne,...de]=U().map(ge=>ge.ref.current),[le]=de.slice(-1),ie=document.activeElement;for(const ge of A)if(ge===ie||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===ne&&S&&(S.scrollTop=0),ge===le&&S&&(S.scrollTop=S.scrollHeight),ge==null||ge.focus(),document.activeElement!==ie))return},[U,S]),V=f.useCallback(()=>M([T,x]),[M,T,x]);f.useEffect(()=>{J&&V()},[J,V]);const{onOpenChange:j,triggerPointerDownPosRef:O}=y;f.useEffect(()=>{if(x){let A={x:0,y:0};const ne=le=>{var ie,ge;A={x:Math.abs(Math.round(le.pageX)-(((ie=O.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(le.pageY)-(((ge=O.current)==null?void 0:ge.y)??0))}},de=le=>{A.x<=10&&A.y<=10?le.preventDefault():x.contains(le.target)||j(!1),document.removeEventListener("pointermove",ne),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",de,{capture:!0})}}},[x,j,O]),f.useEffect(()=>{const A=()=>j(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[j]);const[H,Z]=MS(A=>{const ne=U().filter(ie=>!ie.disabled),de=ne.find(ie=>ie.ref.current===document.activeElement),le=$S(ne,A,de);le&&setTimeout(()=>le.ref.current.focus())}),k=f.useCallback((A,ne,de)=>{const le=!K.current&&!de;(y.value!==void 0&&y.value===ne||le)&&(L(A),le&&(K.current=!0))},[y.value]),W=f.useCallback(()=>x==null?void 0:x.focus(),[x]),z=f.useCallback((A,ne,de)=>{const le=!K.current&&!de;(y.value!==void 0&&y.value===ne||le)&&Y(A)},[y.value]),X=n==="popper"?Wf:bS,ae=X===Wf?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return c.jsx(wS,{scope:r,content:x,viewport:S,onViewportChange:E,itemRefCallback:k,selectedItem:T,onItemLeave:W,itemTextRefCallback:z,focusSelectedItem:V,selectedItemText:$,position:n,isPositioned:J,searchRef:H,children:c.jsx(Am,{as:LL,allowPinchZoom:!0,children:c.jsx(Rm,{asChild:!0,trapped:y.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:fe(s,A=>{var ne;(ne=y.trigger)==null||ne.focus({preventScroll:!0}),A.preventDefault()}),children:c.jsx(al,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(X,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:A=>A.preventDefault(),...w,...ae,onPlaced:()=>R(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:fe(w.onKeyDown,A=>{const ne=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!ne&&A.key.length===1&&Z(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let le=U().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(A.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const ie=A.target,ge=le.indexOf(ie);le=le.slice(ge+1)}setTimeout(()=>M(le)),A.preventDefault()}})})})})})})});xS.displayName=DL;var ML="SelectItemAlignedPosition",bS=f.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=$s(vi,r),o=Us(vi,r),[a,l]=f.useState(null),[u,d]=f.useState(null),p=Fe(e,C=>d(C)),h=Gu(r),m=f.useRef(!1),v=f.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:w,focusSelectedItem:y}=o,x=f.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&b&&w){const C=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),$=w.getBoundingClientRect();if(i.dir!=="rtl"){const ie=$.left-T.left,ge=L.left-ie,We=C.left-ge,gt=C.width+We,Lt=Math.max(gt,T.width),ut=window.innerWidth-qr,Vt=X0(ge,[qr,Math.max(qr,ut-Lt)]);a.style.minWidth=gt+"px",a.style.left=Vt+"px"}else{const ie=T.right-$.right,ge=window.innerWidth-L.right-ie,We=window.innerWidth-C.right-ge,gt=C.width+We,Lt=Math.max(gt,T.width),ut=window.innerWidth-qr,Vt=X0(ge,[qr,Math.max(qr,ut-Lt)]);a.style.minWidth=gt+"px",a.style.right=Vt+"px"}const Y=h(),U=window.innerHeight-qr*2,J=g.scrollHeight,R=window.getComputedStyle(u),K=parseInt(R.borderTopWidth,10),M=parseInt(R.paddingTop,10),V=parseInt(R.borderBottomWidth,10),j=parseInt(R.paddingBottom,10),O=K+M+J+j+V,H=Math.min(b.offsetHeight*5,O),Z=window.getComputedStyle(g),k=parseInt(Z.paddingTop,10),W=parseInt(Z.paddingBottom,10),z=C.top+C.height/2-qr,X=U-z,ae=b.offsetHeight/2,A=b.offsetTop+ae,ne=K+M+A,de=O-ne;if(ne<=z){const ie=Y.length>0&&b===Y[Y.length-1].ref.current;a.style.bottom="0px";const ge=u.clientHeight-g.offsetTop-g.offsetHeight,We=Math.max(X,ae+(ie?W:0)+ge+V),gt=ne+We;a.style.height=gt+"px"}else{const ie=Y.length>0&&b===Y[0].ref.current;a.style.top="0px";const We=Math.max(z,K+g.offsetTop+(ie?k:0)+ae)+de;a.style.height=We+"px",g.scrollTop=ne-z+g.offsetTop}a.style.margin=`${qr}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=U+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,a,u,g,b,w,i.dir,n]);Dt(()=>x(),[x]);const[_,S]=f.useState();Dt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=f.useCallback(C=>{C&&v.current===!0&&(x(),y==null||y(),v.current=!1)},[x,y]);return c.jsx(UL,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(Te.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});bS.displayName=ML;var $L="SelectPopperPosition",Wf=f.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=qr,...i}=t,o=Qu(r);return c.jsx(q1,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wf.displayName=$L;var[UL,zm]=Fo(vi,{}),Hf="SelectViewport",_S=f.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Us(Hf,r),o=zm(Hf,r),a=Fe(e,i.onViewportChange),l=f.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Ku.Slot,{scope:r,children:c.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&p){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-qr*2,g=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),w=Math.max(g,b);if(w<v){const y=w+m,x=Math.min(v,y),_=y-x;p.style.height=x+"px",p.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,p.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});_S.displayName=Hf;var SS="SelectGroup",[FL,BL]=Fo(SS),zL=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Ts();return c.jsx(FL,{scope:r,id:s,children:c.jsx(Te.div,{role:"group","aria-labelledby":s,...n,ref:e})})});zL.displayName=SS;var ES="SelectLabel",CS=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=BL(ES,r);return c.jsx(Te.div,{id:s.id,...n,ref:e})});CS.displayName=ES;var nu="SelectItem",[WL,kS]=Fo(nu),TS=f.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,a=$s(nu,r),l=Us(nu,r),u=a.value===n,[d,p]=f.useState(i??""),[h,m]=f.useState(!1),v=Fe(e,y=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,y,n,s)}),g=Ts(),b=f.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(WL,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:f.useCallback(y=>{p(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(Ku.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:c.jsx(Te.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:fe(o.onFocus,()=>m(!0)),onBlur:fe(o.onBlur,()=>m(!1)),onClick:fe(o.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:fe(o.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:fe(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:fe(o.onPointerMove,y=>{var x;b.current=y.pointerType,s?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:fe(o.onKeyDown,y=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(jL.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});TS.displayName=nu;var oa="SelectItemText",jS=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=$s(oa,r),a=Us(oa,r),l=kS(oa,r),u=RL(oa,r),[d,p]=f.useState(null),h=Fe(e,w=>p(w),l.onItemTextChange,w=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,w,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=f.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Dt(()=>(g(v),()=>b(v)),[g,b,v]),c.jsxs(c.Fragment,{children:[c.jsx(Te.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xi.createPortal(i.children,o.valueNode):null]})});jS.displayName=oa;var NS="SelectItemIndicator",OS=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return kS(NS,r).isSelected?c.jsx(Te.span,{"aria-hidden":!0,...n,ref:e}):null});OS.displayName=NS;var Vf="SelectScrollUpButton",PS=f.forwardRef((t,e)=>{const r=Us(Vf,t.__scopeSelect),n=zm(Vf,t.__scopeSelect),[s,i]=f.useState(!1),o=Fe(e,n.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(AS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});PS.displayName=Vf;var qf="SelectScrollDownButton",RS=f.forwardRef((t,e)=>{const r=Us(qf,t.__scopeSelect),n=zm(qf,t.__scopeSelect),[s,i]=f.useState(!1),o=Fe(e,n.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(AS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});RS.displayName=qf;var AS=f.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Us("SelectScrollButton",r),o=f.useRef(null),a=Gu(r),l=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),Dt(()=>{var d;const u=a().find(p=>p.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(Te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:fe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{l()})})}),HL="SelectSeparator",IS=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(Te.div,{"aria-hidden":!0,...n,ref:e})});IS.displayName=HL;var Kf="SelectArrow",VL=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Qu(r),i=$s(Kf,r),o=Us(Kf,r);return i.open&&o.position==="popper"?c.jsx(K1,{...s,...n,ref:e}):null});VL.displayName=Kf;var qL="SelectBubbleInput",DS=f.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=f.useRef(null),i=Fe(n,s),o=kL(e);return f.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const p=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(p)}},[o,e]),c.jsx(Te.select,{...r,style:{...Lx,...r.style},ref:i,defaultValue:e})});DS.displayName=qL;function LS(t){return t===""||t===void 0}function MS(t){const e=Fr(t),r=f.useRef(""),n=f.useRef(0),s=f.useCallback(o=>{const a=r.current+o;e(a),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function $S(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=KL(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function KL(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var GL=dS,US=fS,QL=mS,YL=gS,JL=vS,FS=yS,XL=_S,BS=CS,zS=TS,ZL=jS,eM=OS,WS=PS,HS=RS,VS=IS;const Gf=GL,Qf=QL,su=f.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(US,{ref:n,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(YL,{asChild:!0,children:c.jsx(o1,{className:"h-4 w-4 opacity-50"})})]}));su.displayName=US.displayName;const qS=f.forwardRef(({className:t,...e},r)=>c.jsx(WS,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(eT,{className:"h-4 w-4"})}));qS.displayName=WS.displayName;const KS=f.forwardRef(({className:t,...e},r)=>c.jsx(HS,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(o1,{className:"h-4 w-4"})}));KS.displayName=HS.displayName;const iu=f.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>c.jsx(JL,{children:c.jsxs(FS,{ref:s,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(qS,{}),c.jsx(XL,{className:Ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(KS,{})]})}));iu.displayName=FS.displayName;const tM=f.forwardRef(({className:t,...e},r)=>c.jsx(BS,{ref:r,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));tM.displayName=BS.displayName;const Rt=f.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(zS,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(eM,{children:c.jsx(i1,{className:"h-4 w-4"})})}),c.jsx(ZL,{children:e})]}));Rt.displayName=zS.displayName;const rM=f.forwardRef(({className:t,...e},r)=>c.jsx(VS,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));rM.displayName=VS.displayName;const Z0=["Ooh, spicy move! ","I've seen better... in my dreams!","Bold strategy, Cotton!","That piece had a family!","Interesting... very interesting...","My grandma plays faster than this!","Chess isn't a game, it's a lifestyle! ","Someone's been watching too much Queen's Gambit!","The board is getting heated!","Plot twist incoming!"],ey=["CHECK! Your king is sweating! ","Knock knock! Who's there? CHECK!","Your king just felt that one!","Oof! That's gonna leave a mark!","The king is in trouble! DRAMA!"],ty=["RIP to that piece! ","Yoink! Mine now!","That piece just got yeeted!","Nom nom nom! ","And just like that... gone!","Savage! No mercy!"],ry=["CHECKMATE! GG EZ! ","That's all she wrote, folks!","FATALITY! ","And the crowd goes WILD!","Pack it up, we're done here!"],ny=["A draw? How... diplomatic! ","Nobody wins! Everyone gets a participation trophy!","It's a tie! How anti-climactic!"],nM=({lastMove:t,isCheck:e,isCheckmate:r,isDraw:n,moveCount:s})=>{const[i,o]=f.useState("Let the games begin! "),[a,l]=f.useState(!1),[u,d]=f.useState(!1);f.useEffect(()=>{if(s===0){o("Let the games begin! ");return}let h="";r?h=ry[Math.floor(Math.random()*ry.length)]:n?h=ny[Math.floor(Math.random()*ny.length)]:e?h=ey[Math.floor(Math.random()*ey.length)]:t&&t.includes("x")?h=ty[Math.floor(Math.random()*ty.length)]:s>0&&(h=Z0[Math.floor(Math.random()*Z0.length)]),h&&o(h)},[t,e,r,n,s]),f.useEffect(()=>{s>0&&s%5===0&&!r&&!n&&p()},[s]);const p=async()=>{if(!u){d(!0);try{const{data:h,error:m}=await ee.functions.invoke("chess-commentary",{body:{moveCount:s,lastMove:t}});h!=null&&h.commentary&&o(h.commentary)}catch{console.log("Commentary fetch failed, using local")}finally{d(!1)}}};return c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg p-4 border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(iT,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-semibold text-sm",children:"AI Commentator"})]}),c.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(!a),children:a?c.jsx(mT,{className:"h-4 w-4"}):c.jsx(pT,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"text-sm font-medium animate-in fade-in slide-in-from-bottom-2 duration-300",children:i})]})},sM=()=>{const{toast:t}=bi(),e=O_(),[r,n]=f.useState(new vn),[s,i]=f.useState("intermediate"),[o,a]=f.useState("white"),[l,u]=f.useState(!1),[d,p]=f.useState("playing"),[h,m]=f.useState([]),[v,g]=f.useState(null),[b,w]=f.useState([]),[y,x]=f.useState(null),[_,S]=f.useState(null),E=f.useCallback(k=>{k.san.includes("#")?e.playCheckmate():k.san.includes("+")?e.playCheck():k.captured?e.playCapture():k.flags.includes("k")||k.flags.includes("q")?e.playCastle():k.san.includes("=")?e.playPromotion():e.playMove()},[e]),C=f.useCallback(k=>{if(k.isCheckmate()){const W=k.turn()==="w"?"black":"white";return o==="white"&&W==="white"||o==="black"&&W==="black"?(p("won"),t({title:" Congratulations!",description:"You won the game!"})):(p("lost"),t({title:"Game Over",description:"The bot won this time. Try again!"})),!0}return k.isDraw()?(p("draw"),t({title:"Draw!",description:"The game ended in a draw."}),!0):!1},[o,t]),T=f.useCallback(async k=>{if(!(C(k)||k.turn()==="w"&&o==="white"||k.turn()==="b"&&o==="black")){u(!0);try{const{data:z,error:X}=await ee.functions.invoke("chess-bot",{body:{fen:k.fen(),difficulty:s}});if(X){console.error("Bot error:",X);const A=k.moves({verbose:!0});if(A.length>0){const ne=A[Math.floor(Math.random()*A.length)],de=new vn(k.fen()),le=de.move(ne);le&&(n(de),m(ie=>[...ie,le.san]),S(le.san),E(le),C(de))}u(!1);return}const ae=z==null?void 0:z.move;if(ae){const A=new vn(k.fen());try{const ne=A.move({from:ae.slice(0,2),to:ae.slice(2,4),promotion:ae[4]||"q"});if(ne)n(A),m(de=>[...de,ne.san]),S(ne.san),E(ne),C(A);else throw new Error("Invalid move")}catch{const ne=k.moves({verbose:!0});if(ne.length>0){const de=ne[Math.floor(Math.random()*ne.length)];A.load(k.fen());const le=A.move(de);le&&(n(A),m(ie=>[...ie,le.san]),S(le.san),E(le),C(A))}}}}catch(z){console.error("Bot move error:",z)}finally{u(!1)}}},[s,o,C,E]);f.useEffect(()=>{o==="black"&&r.history().length===0&&d==="playing"&&(e.playGameStart(),T(r))},[o,r,d,T,e]);const L=f.useCallback((k,W)=>{const z=r.get(k);if(!z||z.type!=="p")return!1;const X=W[1];return z.color==="w"&&X==="8"||z.color==="b"&&X==="1"},[r]),$=f.useCallback((k,W,z="q")=>{try{const X=new vn(r.fen()),ae=X.move({from:k,to:W,promotion:z});return ae?(n(X),m(A=>[...A,ae.san]),S(ae.san),g(null),w([]),E(ae),C(X)||setTimeout(()=>T(X),500),!0):!1}catch{return!1}},[r,C,T,E]),Y=f.useCallback(k=>{y&&($(y.from,y.to,k),x(null))},[y,$]),U=f.useCallback(k=>r.moves({square:k,verbose:!0}).map(z=>z.to),[r]),J=f.useCallback(k=>{if(d!=="playing"||l||y||!(r.turn()==="w"&&o==="white"||r.turn()==="b"&&o==="black"))return;if(v&&b.includes(k)){if(L(v,k)){x({from:v,to:k});return}$(v,k);return}const z=r.get(k);z&&(z.color==="w"&&o==="white"||z.color==="b"&&o==="black")?(g(k),w(U(k))):(g(null),w([]))},[r,o,d,l,v,b,y,L,$,U]),R=f.useCallback((k,W)=>d!=="playing"||l||y||!(r.turn()==="w"&&o==="white"||r.turn()==="b"&&o==="black")?!1:(g(W),w(U(W)),!0),[r,o,d,l,y,U]),K=f.useCallback(()=>{g(null),w([])},[]),M=f.useCallback((k,W)=>{if(d!=="playing"||l||y||!(r.turn()==="w"&&o==="white"||r.turn()==="b"&&o==="black"))return!1;const X=k,ae=W;return r.moves({square:X,verbose:!0}).some(de=>de.to===ae)?L(X,ae)?(x({from:X,to:ae}),!0):$(X,ae):!1},[r,o,d,l,y,L,$]),V=f.useMemo(()=>{const k={};return v&&(k[v]={backgroundColor:"rgba(255, 255, 0, 0.4)"}),b.forEach(W=>{const z=r.get(W);k[W]={background:z?"radial-gradient(circle, rgba(255, 0, 0, 0.4) 85%, transparent 85%)":"radial-gradient(circle, rgba(0, 128, 0, 0.4) 25%, transparent 25%)"}}),k},[v,b,r]),j=()=>{n(new vn),p("playing"),m([]),g(null),w([]),S(null),x(null),e.playGameStart(),o==="black"&&setTimeout(()=>{const k=new vn;T(k)},500)},O=()=>{p("lost"),t({title:"You resigned",description:"Better luck next time!"})},H=()=>{a(o==="white"?"black":"white"),j()},Z={beginner:"text-green-500",intermediate:"text-yellow-500",advanced:"text-orange-500",master:"text-red-500"};return c.jsxs("div",{className:"min-h-screen bg-background p-4",children:[c.jsx(uS,{isOpen:!!y,color:o,onSelect:Y}),c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground flex items-center justify-center gap-3",children:[c.jsx(of,{className:"h-8 w-8 text-primary"}),"Practice vs AI Bot",c.jsx(u1,{className:"h-6 w-6 text-accent"})]}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Sharpen your skills against our AI opponent"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs(De,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/20 flex items-center justify-center",children:c.jsx(of,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:"AI Bot"}),c.jsx("p",{className:`text-xs capitalize ${Z[s]}`,children:s})]})]}),l&&c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(ir,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"text-sm",children:"Thinking..."})]})]}),c.jsxs("div",{className:"relative max-w-[min(100%,400px)] mx-auto",children:[c.jsx(N_,{position:r.fen(),onPieceDrop:M,onSquareClick:J,onPieceDragBegin:R,onPieceDragEnd:K,boardOrientation:o,arePiecesDraggable:d==="playing"&&!l&&!y,customSquareStyles:V}),d!=="playing"&&c.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"text-center p-6 bg-card rounded-xl border shadow-lg",children:[c.jsxs("p",{className:"text-2xl font-bold mb-4",children:[d==="won"&&" Victory!",d==="lost"&&" Defeat",d==="draw"&&" Draw"]}),c.jsxs(_e,{onClick:j,className:"gap-2",children:[c.jsx(Wc,{className:"h-4 w-4"}),"Play Again"]})]})})]}),c.jsx("div",{className:"flex items-center justify-between mt-4 p-3 bg-muted rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-accent/20 flex items-center justify-center",children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:"You"}),c.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:o})]})]})})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(nM,{fen:r.fen(),lastMove:_,isCheck:r.isCheck(),isCheckmate:r.isCheckmate(),isDraw:r.isDraw(),moveCount:h.length}),c.jsxs(De,{children:[c.jsx(St,{children:c.jsx(Et,{children:"Game Settings"})}),c.jsxs(Ue,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Difficulty"}),c.jsxs(Gf,{value:s,onValueChange:k=>i(k),disabled:d==="playing"&&h.length>0,children:[c.jsx(su,{children:c.jsx(Qf,{})}),c.jsxs(iu,{children:[c.jsx(Rt,{value:"beginner",children:" Beginner"}),c.jsx(Rt,{value:"intermediate",children:" Intermediate"}),c.jsx(Rt,{value:"advanced",children:" Advanced"}),c.jsx(Rt,{value:"master",children:" Master"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Play as"}),c.jsx(_e,{variant:"outline",className:"w-full",onClick:H,disabled:d==="playing"&&h.length>0,children:o==="white"?" White":" Black"})]}),c.jsxs("div",{className:"pt-2 space-y-2",children:[c.jsxs(_e,{variant:"outline",className:"w-full gap-2",onClick:j,children:[c.jsx(Wc,{className:"h-4 w-4"}),"New Game"]}),d==="playing"&&h.length>0&&c.jsxs(_e,{variant:"destructive",className:"w-full gap-2",onClick:O,children:[c.jsx(a1,{className:"h-4 w-4"}),"Resign"]})]})]})]}),c.jsxs(De,{children:[c.jsx(St,{children:c.jsx(Et,{children:"Move History"})}),c.jsx(Ue,{children:c.jsx("div",{className:"text-sm font-mono bg-muted p-3 rounded-lg max-h-48 overflow-y-auto",children:h.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:h.map((k,W)=>c.jsxs("span",{className:W%2===0?"text-foreground":"text-muted-foreground",children:[W%2===0&&c.jsxs("span",{className:"text-xs text-muted-foreground mr-1",children:[Math.floor(W/2)+1,"."]}),k]},W))}):c.jsx("span",{className:"text-muted-foreground",children:"No moves yet"})})})]}),r.isCheck()&&d==="playing"&&c.jsx("div",{className:"p-3 bg-destructive/10 text-destructive rounded-lg text-center font-bold animate-pulse",children:"CHECK!"})]})]})]})]})};var GS="AlertDialog",[iM,AM]=Kn(GS,[z_]),Yn=z_(),QS=t=>{const{__scopeAlertDialog:e,...r}=t,n=Yn(e);return c.jsx(sS,{...n,...r,modal:!0})};QS.displayName=GS;var oM="AlertDialogTrigger",YS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(wL,{...s,...n,ref:e})});YS.displayName=oM;var aM="AlertDialogPortal",JS=t=>{const{__scopeAlertDialog:e,...r}=t,n=Yn(e);return c.jsx(iS,{...n,...r})};JS.displayName=aM;var lM="AlertDialogOverlay",XS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(Mm,{...s,...n,ref:e})});XS.displayName=lM;var co="AlertDialogContent",[cM,uM]=iM(co),dM=Px("AlertDialogContent"),ZS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=Yn(r),o=f.useRef(null),a=Fe(e,o),l=f.useRef(null);return c.jsx(mL,{contentName:co,titleName:eE,docsSlug:"alert-dialog",children:c.jsx(cM,{scope:r,cancelRef:l,children:c.jsxs($m,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:fe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(dM,{children:n}),c.jsx(fM,{contentRef:o})]})})})});ZS.displayName=co;var eE="AlertDialogTitle",tE=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(Um,{...s,...n,ref:e})});tE.displayName=eE;var rE="AlertDialogDescription",nE=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(Fm,{...s,...n,ref:e})});nE.displayName=rE;var hM="AlertDialogAction",sE=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(Bm,{...s,...n,ref:e})});sE.displayName=hM;var iE="AlertDialogCancel",oE=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=uM(iE,r),i=Yn(r),o=Fe(e,s);return c.jsx(Bm,{...i,...n,ref:o})});oE.displayName=iE;var fM=({contentRef:t})=>{const e=`\`${co}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${co}\` by passing a \`${rE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${co}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},pM=QS,mM=YS,gM=JS,aE=XS,lE=ZS,cE=sE,uE=oE,dE=tE,hE=nE;const sy=pM,iy=mM,vM=gM,fE=f.forwardRef(({className:t,...e},r)=>c.jsx(aE,{className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));fE.displayName=aE.displayName;const Yf=f.forwardRef(({className:t,...e},r)=>c.jsxs(vM,{children:[c.jsx(fE,{}),c.jsx(lE,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Yf.displayName=lE.displayName;const Jf=({className:t,...e})=>c.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",t),...e});Jf.displayName="AlertDialogHeader";const Xf=({className:t,...e})=>c.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Xf.displayName="AlertDialogFooter";const Zf=f.forwardRef(({className:t,...e},r)=>c.jsx(dE,{ref:r,className:Ee("text-lg font-semibold",t),...e}));Zf.displayName=dE.displayName;const ep=f.forwardRef(({className:t,...e},r)=>c.jsx(hE,{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));ep.displayName=hE.displayName;const tp=f.forwardRef(({className:t,...e},r)=>c.jsx(cE,{ref:r,className:Ee(eu(),t),...e}));tp.displayName=cE.displayName;const rp=f.forwardRef(({className:t,...e},r)=>c.jsx(uE,{ref:r,className:Ee(eu({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));rp.displayName=uE.displayName;const yM="CheckmateCup2K25Admin",wM="Admin",xM="P@s$w0rd",bM=()=>{const[t,e]=f.useState(!1),[r,n]=f.useState(""),[s,i]=f.useState(""),[o,a]=f.useState(!1),[l,u]=f.useState(!1),[d,p]=f.useState(null),[h,m]=f.useState([]),[v,g]=f.useState([]),[b,w]=f.useState([]),[y,x]=f.useState("swiss"),[_,S]=f.useState("10 | 5"),{toast:E}=bi();f.useEffect(()=>{t&&(T(),L(),$())},[t]);const C=async(k,W={})=>{const{data:z,error:X}=await ee.functions.invoke("admin-action",{body:{action:k,data:W,adminKey:yM}});if(X)throw X;if(z!=null&&z.error)throw new Error(z.error);return z},T=async()=>{const{data:k}=await ee.from("tournaments").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(k){p(k),x(k.format),S(k.time_control);const{data:W}=await ee.from("tournament_players").select("player_id").eq("tournament_id",k.id);W&&g(W.map(z=>z.player_id))}},L=async()=>{const{data:k}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, score").order("username");k&&m(k)},$=async()=>{if(!d)return;const{data:k}=await ee.from("games").select(`
        id,
        result,
        round,
        white_player:profiles!games_white_player_id_fkey(username, avatar_url, avatar_initials),
        black_player:profiles!games_black_player_id_fkey(username, avatar_url, avatar_initials)
      `).eq("tournament_id",d.id).eq("round",d.current_round||1).order("created_at",{ascending:!0});k&&w(k)};f.useEffect(()=>{d&&$()},[d]);const Y=k=>{k.preventDefault(),r===wM&&s===xM?(e(!0),E({title:"Admin access granted"})):E({variant:"destructive",title:"Invalid credentials"})},U=async()=>{u(!0);try{const k=await C("createTournament",{name:"Checkmate Cup 2K25",format:y,timeControl:_});p(k),E({title:"Tournament created!"}),T()}catch(k){E({variant:"destructive",title:"Failed to create tournament",description:String(k)})}u(!1)},J=async()=>{if(d){u(!0);try{await C("updateTournament",{tournamentId:d.id,format:y,timeControl:_}),E({title:"Settings updated!"}),T()}catch(k){E({variant:"destructive",title:"Failed to update",description:String(k)})}u(!1)}},R=async()=>{if(d){u(!0);try{const k=await C("registerAllPlayers",{tournamentId:d.id});E({title:"All players registered!",description:`${k.count} players added`}),T()}catch(k){E({variant:"destructive",title:"Failed to register players",description:String(k)})}u(!1)}},K=async()=>{if(!d||v.length<2){E({variant:"destructive",title:"Need at least 2 players to start"});return}u(!0);let k=Math.ceil(Math.log2(v.length));y==="swiss"||y==="swiss_playoffs"||y==="swiss_super_league"?k=Math.ceil(Math.log2(v.length))+1:y==="round_robin_playoffs"?k=v.length-1:y==="arena"&&(k=10);try{await C("startTournament",{tournamentId:d.id,totalRounds:k}),await M(),E({title:"Tournament started!"}),T()}catch(W){E({variant:"destructive",title:"Failed to start tournament",description:String(W)})}u(!1)},M=async()=>{if(!d)return;const{data:k}=await ee.from("tournament_players").select("player_id, score").eq("tournament_id",d.id).eq("is_eliminated",!1).order("score",{ascending:!1});if(!k||k.length<2)return;const W=k.map(z=>z.player_id);for(let z=0;z<W.length-1;z+=2)await C("createGame",{tournamentId:d.id,round:(d.current_round||0)+1,whitePlayerId:W[z],blackPlayerId:W[z+1]});if(W.length%2===1){const z=W[W.length-1],X=k[k.length-1].score;await C("updatePlayerScore",{tournamentId:d.id,playerId:z,score:Number(X)+1})}},V=async()=>{var k,W,z;if(d){u(!0);try{const{data:X}=await ee.from("tournament_players").select("player_id, score").eq("tournament_id",d.id).order("score",{ascending:!1}).limit(3);X&&X.length>=1&&(await C("publishResults",{tournamentId:d.id,firstPlace:((k=X[0])==null?void 0:k.player_id)||null,secondPlace:((W=X[1])==null?void 0:W.player_id)||null,thirdPlace:((z=X[2])==null?void 0:z.player_id)||null}),E({title:"Results published!",description:"Champions page is now live!"}),T())}catch(X){E({variant:"destructive",title:"Failed to publish results",description:String(X)})}u(!1)}},j=async()=>{if(d){u(!0);try{await C("resetTournament",{tournamentId:d.id}),p(null),g([]),E({title:"Tournament reset!",description:"All data has been cleared."})}catch(k){E({variant:"destructive",title:"Failed to reset",description:String(k)})}u(!1)}},O=async()=>{u(!0);try{await C("deleteAllAccounts",{}),m([]),g([]),E({title:"All accounts deleted!",description:"All user data has been removed."})}catch(k){E({variant:"destructive",title:"Failed to delete accounts",description:String(k)})}u(!1)},H=async()=>{if(d){u(!0);try{const{data:k}=await ee.from("games").select("id").eq("tournament_id",d.id).eq("round",d.current_round||1).in("result",["pending","in_progress"]);if(k&&k.length>0){E({variant:"destructive",title:"Cannot start next round",description:`${k.length} games still pending in current round`}),u(!1);return}await C("advanceRound",{tournamentId:d.id}),await M(),E({title:"Next round started!",description:`Round ${(d.current_round||0)+1} pairings created`}),T()}catch(k){E({variant:"destructive",title:"Failed to start next round",description:String(k)})}u(!1)}},Z=async()=>{if(d){u(!0);try{const{data:k}=await ee.from("tournament_players").select("player_id, score").eq("tournament_id",d.id).order("score",{ascending:!1}).limit(4);if(!k||k.length<4){E({variant:"destructive",title:"Not enough players",description:"Need at least 4 players for super league"}),u(!1);return}const W=k.map(X=>X.player_id),z=(d.current_round||0)+1;for(let X=0;X<W.length;X++)for(let ae=X+1;ae<W.length;ae++)await C("createGame",{tournamentId:d.id,round:z,whitePlayerId:W[X],blackPlayerId:W[ae]});await C("advanceRound",{tournamentId:d.id}),E({title:"Super League started!",description:"Top 4 players will face each other"}),T()}catch(k){E({variant:"destructive",title:"Failed to start super league",description:String(k)})}u(!1)}};return t?c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($n,{className:"h-8 w-8 text-primary"}),c.jsx("h1",{className:"font-display text-2xl md:text-3xl font-bold",children:"Tournament Admin"})]}),c.jsx(_e,{variant:"outline",onClick:()=>e(!1),children:"Logout"})]}),c.jsxs(De,{children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(Wn,{className:"h-5 w-5"}),"Tournament Status"]})}),c.jsx(Ue,{children:d?c.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Format"}),c.jsx("p",{className:"font-bold capitalize",children:d.format.replace(/_/g," ")})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),c.jsx("p",{className:"font-bold capitalize",children:d.status.replace(/_/g," ")})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Round"}),c.jsxs("p",{className:"font-bold",children:[d.current_round," / ",d.total_rounds||"?"]})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),c.jsx("p",{className:"font-bold",children:v.length})]})]}):c.jsx("p",{className:"text-muted-foreground",children:"No tournament created yet."})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(De,{children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(pv,{className:"h-5 w-5"}),"Tournament Settings"]})}),c.jsxs(Ue,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{children:"Format"}),c.jsxs(Gf,{value:y,onValueChange:x,disabled:(d==null?void 0:d.status)==="in_progress",children:[c.jsx(su,{children:c.jsx(Qf,{})}),c.jsxs(iu,{children:[c.jsx(Rt,{value:"swiss",children:"Swiss Only"}),c.jsx(Rt,{value:"knockouts",children:"Knockouts Only"}),c.jsx(Rt,{value:"round_robin_playoffs",children:"Round Robin + Playoffs"}),c.jsx(Rt,{value:"swiss_playoffs",children:"Swiss + Playoffs"}),c.jsx(Rt,{value:"swiss_super_league",children:"Swiss + Super League"}),c.jsx(Rt,{value:"arena",children:"Arena"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{children:"Time Control"}),c.jsxs(Gf,{value:_,onValueChange:S,disabled:(d==null?void 0:d.status)==="in_progress",children:[c.jsx(su,{children:c.jsx(Qf,{})}),c.jsxs(iu,{children:[c.jsx(Rt,{value:"1 | 1",children:"1 | 1 (Bullet)"}),c.jsx(Rt,{value:"3 | 2",children:"3 | 2 (Blitz)"}),c.jsx(Rt,{value:"5 | 3",children:"5 | 3 (Blitz)"}),c.jsx(Rt,{value:"10 | 0",children:"10 | 0 (Rapid)"}),c.jsx(Rt,{value:"10 | 5",children:"10 | 5 (Rapid)"}),c.jsx(Rt,{value:"15 | 10",children:"15 | 10 (Rapid)"})]})]})]}),c.jsx("div",{className:"flex flex-col gap-2",children:d?d.status==="registration"?c.jsxs(c.Fragment,{children:[c.jsx(_e,{onClick:J,disabled:l,variant:"outline",children:"Save Settings"}),c.jsxs(_e,{onClick:R,disabled:l,variant:"secondary",children:[l?c.jsx(ir,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(fT,{className:"h-4 w-4 mr-2"}),"Register All Players"]}),c.jsxs(_e,{onClick:K,disabled:l||v.length<2,children:[l?c.jsx(ir,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(nm,{className:"h-4 w-4 mr-2"}),"Start Tournament"]})]}):d.status==="in_progress"?c.jsxs("div",{className:"space-y-2",children:[c.jsxs(_e,{onClick:H,disabled:l,className:"w-full",children:[l?c.jsx(ir,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(cT,{className:"h-4 w-4 mr-2"}),"Start Next Round"]}),(d.format==="swiss_super_league"||d.format==="swiss_playoffs")&&c.jsxs(_e,{onClick:Z,disabled:l,variant:"secondary",className:"w-full",children:[l?c.jsx(ir,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(f1,{className:"h-4 w-4 mr-2"}),"Start Super League / Playoffs"]}),c.jsxs(_e,{onClick:V,disabled:l,variant:"outline",className:"w-full",children:[l?c.jsx(ir,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Publish Results"]})]}):c.jsx("p",{className:"text-muted-foreground",children:"Tournament completed"}):c.jsxs(_e,{onClick:U,disabled:l,className:"w-full",children:[l?c.jsx(ir,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create Tournament"]})}),c.jsxs("div",{className:"pt-4 border-t border-destructive/20 space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-destructive",children:"Danger Zone"}),c.jsxs(sy,{children:[c.jsx(iy,{asChild:!0,children:c.jsxs(_e,{variant:"outline",className:"w-full border-destructive/50 text-destructive hover:bg-destructive/10",disabled:l,children:[c.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Reset Tournament"]})}),c.jsxs(Yf,{children:[c.jsxs(Jf,{children:[c.jsx(Zf,{children:"Reset Tournament?"}),c.jsx(ep,{children:"This will delete the current tournament, all games, and remove all registered players. This action cannot be undone."})]}),c.jsxs(Xf,{children:[c.jsx(rp,{children:"Cancel"}),c.jsx(tp,{onClick:j,className:"bg-destructive hover:bg-destructive/90",children:"Reset Tournament"})]})]})]}),c.jsxs(sy,{children:[c.jsx(iy,{asChild:!0,children:c.jsxs(_e,{variant:"outline",className:"w-full border-destructive/50 text-destructive hover:bg-destructive/10",disabled:l,children:[c.jsx(dT,{className:"h-4 w-4 mr-2"}),"Delete All Accounts"]})}),c.jsxs(Yf,{children:[c.jsxs(Jf,{children:[c.jsx(Zf,{children:"Delete All Accounts?"}),c.jsx(ep,{children:"This will permanently delete ALL user accounts and their data. This action is IRREVERSIBLE and should only be used for complete reset."})]}),c.jsxs(Xf,{children:[c.jsx(rp,{children:"Cancel"}),c.jsx(tp,{onClick:O,className:"bg-destructive hover:bg-destructive/90",children:"Delete All Accounts"})]})]})]})]})]})]}),c.jsxs(De,{children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(jo,{className:"h-5 w-5"}),"Round ",(d==null?void 0:d.current_round)||1," Matches (",b.length,")"]})}),c.jsx(Ue,{children:c.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[b.map(k=>{var W,z,X,ae,A,ne,de,le;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ur,{avatarUrl:(W=k.white_player)==null?void 0:W.avatar_url,initials:(z=k.white_player)==null?void 0:z.avatar_initials,name:((X=k.white_player)==null?void 0:X.username)||"",size:"sm"}),c.jsx("span",{className:"font-medium",children:(ae=k.white_player)==null?void 0:ae.username})]}),c.jsx("div",{className:`px-3 py-1 rounded text-sm font-bold ${k.result==="white_wins"?"bg-green-500/20 text-green-500":k.result==="black_wins"?"bg-red-500/20 text-red-500":k.result==="draw"?"bg-yellow-500/20 text-yellow-500":k.result==="in_progress"?"bg-blue-500/20 text-blue-500":"bg-muted-foreground/20 text-muted-foreground"}`,children:k.result==="pending"?"Scheduled":k.result==="in_progress"?"Playing":k.result.replace("_"," ")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:(A=k.black_player)==null?void 0:A.username}),c.jsx(ur,{avatarUrl:(ne=k.black_player)==null?void 0:ne.avatar_url,initials:(de=k.black_player)==null?void 0:de.avatar_initials,name:((le=k.black_player)==null?void 0:le.username)||"",size:"sm"})]})]},k.id)}),b.length===0&&c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No matches in this round yet"})]})})]}),c.jsxs(De,{children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(h1,{className:"h-5 w-5"}),"Registered Players (",v.length,")"]})}),c.jsx(Ue,{children:c.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[h.filter(k=>v.includes(k.id)).map(k=>c.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted rounded-lg",children:[c.jsx(ur,{avatarUrl:k.avatar_url,initials:k.avatar_initials,name:k.full_name,size:"sm"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:k.username}),c.jsx("p",{className:"text-xs text-muted-foreground",children:k.full_name})]})]},k.id)),v.length===0&&c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No players registered yet"})]})})]})]})]})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:c.jsxs(De,{className:"w-full max-w-md border-2",children:[c.jsxs(St,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(pv,{className:"h-12 w-12 text-primary"})}),c.jsx(Et,{className:"font-display",children:"Admin Access"}),c.jsx(Ja,{children:"Enter admin credentials to continue"})]}),c.jsx(Ue,{children:c.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{children:"Username"}),c.jsx(rn,{value:r,onChange:k=>n(k.target.value),placeholder:"Admin username"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(vr,{children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(rn,{type:o?"text":"password",value:s,onChange:k=>i(k.target.value),placeholder:"Admin password"}),c.jsx(_e,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>a(!o),children:o?c.jsx(lf,{className:"h-4 w-4"}):c.jsx($a,{className:"h-4 w-4"})})]})]}),c.jsx(_e,{type:"submit",className:"w-full",children:"Access Dashboard"})]})})]})})},_M=()=>{const t=dl();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},SM=new UO,EM=()=>c.jsx(BO,{client:SM,children:c.jsx(_A,{children:c.jsxs(mO,{children:[c.jsx(JT,{}),c.jsx(Nj,{}),c.jsxs(MP,{children:[c.jsx(CA,{}),c.jsx(kA,{}),c.jsxs(Wv,{children:[c.jsx(Pr,{path:"/admin",element:c.jsx(bM,{})}),c.jsx(Pr,{path:"*",element:c.jsxs(c.Fragment,{children:[c.jsx(EA,{}),c.jsxs(Wv,{children:[c.jsx(Pr,{path:"/",element:c.jsx(jA,{})}),c.jsx(Pr,{path:"/auth",element:c.jsx(GA,{})}),c.jsx(Pr,{path:"/profile",element:c.jsx(XA,{})}),c.jsx(Pr,{path:"/standings",element:c.jsx(eI,{})}),c.jsx(Pr,{path:"/champions",element:c.jsx(tI,{})}),c.jsx(Pr,{path:"/games",element:c.jsx(rI,{})}),c.jsx(Pr,{path:"/game/:gameId",element:c.jsx(CL,{})}),c.jsx(Pr,{path:"/practice",element:c.jsx(sM,{})}),c.jsx(Pr,{path:"*",element:c.jsx(_M,{})})]})]})})]})]})]})})});jx(document.getElementById("root")).render(c.jsx(EM,{}));
