var kE=Object.defineProperty;var Ym=t=>{throw TypeError(t)};var TE=(t,e,r)=>e in t?kE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ge=(t,e,r)=>TE(t,typeof e!="symbol"?e+"":e,r),Ju=(t,e,r)=>e.has(t)||Ym("Cannot "+r);var U=(t,e,r)=>(Ju(t,e,"read from private field"),r?r.call(t):e.get(t)),Pe=(t,e,r)=>e.has(t)?Ym("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),xe=(t,e,r,n)=>(Ju(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ft=(t,e,r)=>(Ju(t,e,"access private method"),r);var vl=(t,e,r,n)=>({set _(s){xe(t,e,s,r)},get _(){return U(t,e,n)}});function jE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function my(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gy={exports:{}},ou={},vy={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=Symbol.for("react.element"),NE=Symbol.for("react.portal"),OE=Symbol.for("react.fragment"),PE=Symbol.for("react.strict_mode"),RE=Symbol.for("react.profiler"),AE=Symbol.for("react.provider"),IE=Symbol.for("react.context"),DE=Symbol.for("react.forward_ref"),LE=Symbol.for("react.suspense"),ME=Symbol.for("react.memo"),$E=Symbol.for("react.lazy"),Jm=Symbol.iterator;function UE(t){return t===null||typeof t!="object"?null:(t=Jm&&t[Jm]||t["@@iterator"],typeof t=="function"?t:null)}var yy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wy=Object.assign,xy={};function Ao(t,e,r){this.props=t,this.context=e,this.refs=xy,this.updater=r||yy}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function by(){}by.prototype=Ao.prototype;function np(t,e,r){this.props=t,this.context=e,this.refs=xy,this.updater=r||yy}var sp=np.prototype=new by;sp.constructor=np;wy(sp,Ao.prototype);sp.isPureReactComponent=!0;var Xm=Array.isArray,_y=Object.prototype.hasOwnProperty,ip={current:null},Sy={key:!0,ref:!0,__self:!0,__source:!0};function Ey(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_y.call(e,n)&&!Sy.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:rl,type:t,key:i,ref:o,props:s,_owner:ip.current}}function FE(t,e){return{$$typeof:rl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function op(t){return typeof t=="object"&&t!==null&&t.$$typeof===rl}function BE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Zm=/\/+/g;function Xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BE(""+t.key):e.toString(36)}function Xl(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rl:case NE:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Xu(o,0):n,Xm(s)?(r="",t!=null&&(r=t.replace(Zm,"$&/")+"/"),Xl(s,e,r,"",function(u){return u})):s!=null&&(op(s)&&(s=FE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Xm(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Xu(i,a);o+=Xl(i,e,r,l,s)}else if(l=UE(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Xu(i,a++),o+=Xl(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yl(t,e,r){if(t==null)return t;var n=[],s=0;return Xl(t,n,"","",function(i){return e.call(r,i,s++)}),n}function zE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},Zl={transition:null},WE={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Zl,ReactCurrentOwner:ip};function Cy(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:yl,forEach:function(t,e,r){yl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yl(t,function(){e++}),e},toArray:function(t){return yl(t,function(e){return e})||[]},only:function(t){if(!op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Ao;je.Fragment=OE;je.Profiler=RE;je.PureComponent=np;je.StrictMode=PE;je.Suspense=LE;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WE;je.act=Cy;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ip.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_y.call(e,l)&&!Sy.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:rl,type:t.type,key:s,ref:i,props:n,_owner:o}};je.createContext=function(t){return t={$$typeof:IE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AE,_context:t},t.Consumer=t};je.createElement=Ey;je.createFactory=function(t){var e=Ey.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:DE,render:t}};je.isValidElement=op;je.lazy=function(t){return{$$typeof:$E,_payload:{_status:-1,_result:t},_init:zE}};je.memo=function(t,e){return{$$typeof:ME,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Zl.transition;Zl.transition={};try{t()}finally{Zl.transition=e}};je.unstable_act=Cy;je.useCallback=function(t,e){return er.current.useCallback(t,e)};je.useContext=function(t){return er.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return er.current.useDeferredValue(t)};je.useEffect=function(t,e){return er.current.useEffect(t,e)};je.useId=function(){return er.current.useId()};je.useImperativeHandle=function(t,e,r){return er.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return er.current.useMemo(t,e)};je.useReducer=function(t,e,r){return er.current.useReducer(t,e,r)};je.useRef=function(t){return er.current.useRef(t)};je.useState=function(t){return er.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return er.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return er.current.useTransition()};je.version="18.3.1";vy.exports=je;var f=vy.exports;const Q=my(f),ap=jE({__proto__:null,default:Q},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE=f,VE=Symbol.for("react.element"),qE=Symbol.for("react.fragment"),KE=Object.prototype.hasOwnProperty,GE=HE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QE={key:!0,ref:!0,__self:!0,__source:!0};function ky(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)KE.call(e,n)&&!QE.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:VE,type:t,key:i,ref:o,props:s,_owner:GE.current}}ou.Fragment=qE;ou.jsx=ky;ou.jsxs=ky;gy.exports=ou;var c=gy.exports,Ty={exports:{}},Tr={},jy={exports:{}},Ny={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,P){var z=j.length;j.push(P);e:for(;0<z;){var Z=z-1>>>1,k=j[Z];if(0<s(k,P))j[Z]=P,j[z]=k,z=Z;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var P=j[0],z=j.pop();if(z!==P){j[0]=z;e:for(var Z=0,k=j.length,W=k>>>1;Z<W;){var H=2*(Z+1)-1,Y=j[H],te=H+1,A=j[te];if(0>s(Y,z))te<k&&0>s(A,Y)?(j[Z]=A,j[te]=z,Z=te):(j[Z]=Y,j[H]=z,Z=H);else if(te<k&&0>s(A,z))j[Z]=A,j[te]=z,Z=te;else break e}}return P}function s(j,P){var z=j.sortIndex-P.sortIndex;return z!==0?z:j.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,h=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=j)n(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=r(u)}}function _(j){if(g=!1,x(j),!v)if(r(l)!==null)v=!0,F(S);else{var P=r(u);P!==null&&G(_,P.startTime-j)}}function S(j,P){v=!1,g&&(g=!1,w(T),T=-1),m=!0;var z=h;try{for(x(P),p=r(l);p!==null&&(!(p.expirationTime>P)||j&&!J());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,h=p.priorityLevel;var k=Z(p.expirationTime<=P);P=t.unstable_now(),typeof k=="function"?p.callback=k:p===r(l)&&n(l),x(P)}else n(l);p=r(l)}if(p!==null)var W=!0;else{var H=r(u);H!==null&&G(_,H.startTime-P),W=!1}return W}finally{p=null,h=z,m=!1}}var E=!1,C=null,T=-1,L=5,M=-1;function J(){return!(t.unstable_now()-M<L)}function $(){if(C!==null){var j=t.unstable_now();M=j;var P=!0;try{P=C(!0,j)}finally{P?X():(E=!1,C=null)}}else E=!1}var X;if(typeof y=="function")X=function(){y($)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,q=R.port2;R.port1.onmessage=$,X=function(){q.postMessage(null)}}else X=function(){b($,0)};function F(j){C=j,E||(E=!0,X())}function G(j,P){T=b(function(){j(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,F(S))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var z=h;h=P;try{return j()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var z=h;h=j;try{return P()}finally{h=z}},t.unstable_scheduleCallback=function(j,P,z){var Z=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Z+z:Z):z=Z,j){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=z+k,j={id:d++,callback:P,priorityLevel:j,startTime:z,expirationTime:k,sortIndex:-1},z>Z?(j.sortIndex=z,e(u,j),r(l)===null&&j===r(u)&&(g?(w(T),T=-1):g=!0,G(_,z-Z))):(j.sortIndex=k,e(l,j),v||m||(v=!0,F(S))),j},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(j){var P=h;return function(){var z=h;h=P;try{return j.apply(this,arguments)}finally{h=z}}}})(Ny);jy.exports=Ny;var YE=jy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE=f,kr=YE;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oy=new Set,ba={};function wi(t,e){xo(t,e),xo(t+"Capture",e)}function xo(t,e){for(ba[t]=e,t=0;t<e.length;t++)Oy.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ch=Object.prototype.hasOwnProperty,XE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eg={},tg={};function ZE(t){return ch.call(tg,t)?!0:ch.call(eg,t)?!1:XE.test(t)?tg[t]=!0:(eg[t]=!0,!1)}function eC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tC(t,e,r,n){if(e===null||typeof e>"u"||eC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var lp=/[\-:]([a-z])/g;function cp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lp,cp);Mt[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lp,cp);Mt[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lp,cp);Mt[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function up(t,e,r,n){var s=Mt.hasOwnProperty(e)?Mt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tC(e,r,s,n)&&(r=null),n||s===null?ZE(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var qn=JE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),Py=Symbol.for("react.provider"),Ry=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),Ay=Symbol.for("react.offscreen"),rg=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=rg&&t[rg]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Zu;function ea(t){if(Zu===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Zu=e&&e[1]||""}return`
`+Zu+t}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ed=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ea(t):""}function rC(t){switch(t.tag){case 5:return ea(t.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return t=td(t.type,!1),t;case 11:return t=td(t.type.render,!1),t;case 1:return t=td(t.type,!0),t;default:return""}}function fh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case Bi:return"Portal";case uh:return"Profiler";case dp:return"StrictMode";case dh:return"Suspense";case hh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ry:return(t.displayName||"Context")+".Consumer";case Py:return(t._context.displayName||"Context")+".Provider";case hp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fp:return e=t.displayName||null,e!==null?e:fh(t.type)||"Memo";case is:e=t._payload,t=t._init;try{return fh(t(e))}catch{}}return null}function nC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fh(e);case 8:return e===dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Iy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sC(t){var e=Iy(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xl(t){t._valueTracker||(t._valueTracker=sC(t))}function Dy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Iy(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ph(t,e){var r=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ng(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ps(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ly(t,e){e=e.checked,e!=null&&up(t,"checked",e,!1)}function mh(t,e){Ly(t,e);var r=Ps(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gh(t,e.type,r):e.hasOwnProperty("defaultValue")&&gh(t,e.type,Ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function gh(t,e,r){(e!=="number"||wc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ta=Array.isArray;function eo(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ps(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ig(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(V(92));if(ta(r)){if(1<r.length)throw Error(V(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ps(r)}}function My(t,e){var r=Ps(e.value),n=Ps(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function og(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $y(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$y(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bl,Uy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bl=bl||document.createElement("div"),bl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _a(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iC=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(t){iC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aa[e]=aa[t]})});function Fy(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||aa.hasOwnProperty(t)&&aa[t]?(""+e).trim():e+"px"}function By(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Fy(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var oC=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wh(t,e){if(e){if(oC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function xh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=null;function pp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _h=null,to=null,ro=null;function ag(t){if(t=il(t)){if(typeof _h!="function")throw Error(V(280));var e=t.stateNode;e&&(e=du(e),_h(t.stateNode,t.type,e))}}function zy(t){to?ro?ro.push(t):ro=[t]:to=t}function Wy(){if(to){var t=to,e=ro;if(ro=to=null,ag(t),e)for(t=0;t<e.length;t++)ag(e[t])}}function Hy(t,e){return t(e)}function Vy(){}var rd=!1;function qy(t,e,r){if(rd)return t(e,r);rd=!0;try{return Hy(t,e,r)}finally{rd=!1,(to!==null||ro!==null)&&(Vy(),Wy())}}function Sa(t,e){var r=t.stateNode;if(r===null)return null;var n=du(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(V(231,e,typeof r));return r}var Sh=!1;if(Un)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Sh=!1}function aC(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var la=!1,xc=null,bc=!1,Eh=null,lC={onError:function(t){la=!0,xc=t}};function cC(t,e,r,n,s,i,o,a,l){la=!1,xc=null,aC.apply(lC,arguments)}function uC(t,e,r,n,s,i,o,a,l){if(cC.apply(this,arguments),la){if(la){var u=xc;la=!1,xc=null}else throw Error(V(198));bc||(bc=!0,Eh=u)}}function xi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Ky(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lg(t){if(xi(t)!==t)throw Error(V(188))}function dC(t){var e=t.alternate;if(!e){if(e=xi(t),e===null)throw Error(V(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return lg(s),t;if(i===n)return lg(s),e;i=i.sibling}throw Error(V(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?t:e}function Gy(t){return t=dC(t),t!==null?Qy(t):null}function Qy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qy(t);if(e!==null)return e;t=t.sibling}return null}var Yy=kr.unstable_scheduleCallback,cg=kr.unstable_cancelCallback,hC=kr.unstable_shouldYield,fC=kr.unstable_requestPaint,at=kr.unstable_now,pC=kr.unstable_getCurrentPriorityLevel,mp=kr.unstable_ImmediatePriority,Jy=kr.unstable_UserBlockingPriority,_c=kr.unstable_NormalPriority,mC=kr.unstable_LowPriority,Xy=kr.unstable_IdlePriority,au=null,bn=null;function gC(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(au,t,void 0,(t.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:wC,vC=Math.log,yC=Math.LN2;function wC(t){return t>>>=0,t===0?32:31-(vC(t)/yC|0)|0}var _l=64,Sl=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ra(a):(i&=o,i!==0&&(n=ra(i)))}else o=r&~s,o!==0?n=ra(o):i!==0&&(n=ra(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-sn(e),s=1<<r,n|=t[r],e&=~s;return n}function xC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sn(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=xC(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ch(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zy(){var t=_l;return _l<<=1,!(_l&4194240)&&(_l=64),t}function nd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sn(e),t[e]=r}function _C(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-sn(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function gp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-sn(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Me=0;function ew(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tw,vp,rw,nw,sw,kh=!1,El=[],xs=null,bs=null,_s=null,Ea=new Map,Ca=new Map,cs=[],SC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ug(t,e){switch(t){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(e.pointerId)}}function Ho(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=il(e),e!==null&&vp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function EC(t,e,r,n,s){switch(e){case"focusin":return xs=Ho(xs,t,e,r,n,s),!0;case"dragenter":return bs=Ho(bs,t,e,r,n,s),!0;case"mouseover":return _s=Ho(_s,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ea.set(i,Ho(Ea.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ca.set(i,Ho(Ca.get(i)||null,t,e,r,n,s)),!0}return!1}function iw(t){var e=Ys(t.target);if(e!==null){var r=xi(e);if(r!==null){if(e=r.tag,e===13){if(e=Ky(r),e!==null){t.blockedOn=e,sw(t.priority,function(){rw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Th(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);bh=n,r.target.dispatchEvent(n),bh=null}else return e=il(r),e!==null&&vp(e),t.blockedOn=r,!1;e.shift()}return!0}function dg(t,e,r){ec(t)&&r.delete(e)}function CC(){kh=!1,xs!==null&&ec(xs)&&(xs=null),bs!==null&&ec(bs)&&(bs=null),_s!==null&&ec(_s)&&(_s=null),Ea.forEach(dg),Ca.forEach(dg)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,kh||(kh=!0,kr.unstable_scheduleCallback(kr.unstable_NormalPriority,CC)))}function ka(t){function e(s){return Vo(s,t)}if(0<El.length){Vo(El[0],t);for(var r=1;r<El.length;r++){var n=El[r];n.blockedOn===t&&(n.blockedOn=null)}}for(xs!==null&&Vo(xs,t),bs!==null&&Vo(bs,t),_s!==null&&Vo(_s,t),Ea.forEach(e),Ca.forEach(e),r=0;r<cs.length;r++)n=cs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<cs.length&&(r=cs[0],r.blockedOn===null);)iw(r),r.blockedOn===null&&cs.shift()}var no=qn.ReactCurrentBatchConfig,Ec=!0;function kC(t,e,r,n){var s=Me,i=no.transition;no.transition=null;try{Me=1,yp(t,e,r,n)}finally{Me=s,no.transition=i}}function TC(t,e,r,n){var s=Me,i=no.transition;no.transition=null;try{Me=4,yp(t,e,r,n)}finally{Me=s,no.transition=i}}function yp(t,e,r,n){if(Ec){var s=Th(t,e,r,n);if(s===null)fd(t,e,n,Cc,r),ug(t,n);else if(EC(s,t,e,r,n))n.stopPropagation();else if(ug(t,n),e&4&&-1<SC.indexOf(t)){for(;s!==null;){var i=il(s);if(i!==null&&tw(i),i=Th(t,e,r,n),i===null&&fd(t,e,n,Cc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else fd(t,e,n,null,r)}}var Cc=null;function Th(t,e,r,n){if(Cc=null,t=pp(n),t=Ys(t),t!==null)if(e=xi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Ky(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function ow(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pC()){case mp:return 1;case Jy:return 4;case _c:case mC:return 16;case Xy:return 536870912;default:return 16}default:return 16}}var vs=null,wp=null,tc=null;function aw(){if(tc)return tc;var t,e=wp,r=e.length,n,s="value"in vs?vs.value:vs.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return tc=s.slice(t,1<n?1-n:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cl(){return!0}function hg(){return!1}function jr(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cl:hg,this.isPropagationStopped=hg,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),e}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xp=jr(Io),sl=tt({},Io,{view:0,detail:0}),jC=jr(sl),sd,id,qo,lu=tt({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qo&&(qo&&t.type==="mousemove"?(sd=t.screenX-qo.screenX,id=t.screenY-qo.screenY):id=sd=0,qo=t),sd)},movementY:function(t){return"movementY"in t?t.movementY:id}}),fg=jr(lu),NC=tt({},lu,{dataTransfer:0}),OC=jr(NC),PC=tt({},sl,{relatedTarget:0}),od=jr(PC),RC=tt({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),AC=jr(RC),IC=tt({},Io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DC=jr(IC),LC=tt({},Io,{data:0}),pg=jr(LC),MC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UC[t])?!!e[t]:!1}function bp(){return FC}var BC=tt({},sl,{key:function(t){if(t.key){var e=MC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$C[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zC=jr(BC),WC=tt({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mg=jr(WC),HC=tt({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),VC=jr(HC),qC=tt({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),KC=jr(qC),GC=tt({},lu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QC=jr(GC),YC=[9,13,27,32],_p=Un&&"CompositionEvent"in window,ca=null;Un&&"documentMode"in document&&(ca=document.documentMode);var JC=Un&&"TextEvent"in window&&!ca,lw=Un&&(!_p||ca&&8<ca&&11>=ca),gg=" ",vg=!1;function cw(t,e){switch(t){case"keyup":return YC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function XC(t,e){switch(t){case"compositionend":return uw(e);case"keypress":return e.which!==32?null:(vg=!0,gg);case"textInput":return t=e.data,t===gg&&vg?null:t;default:return null}}function ZC(t,e){if(Wi)return t==="compositionend"||!_p&&cw(t,e)?(t=aw(),tc=wp=vs=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lw&&e.locale!=="ko"?null:e.data;default:return null}}var ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ek[t.type]:e==="textarea"}function dw(t,e,r,n){zy(n),e=kc(e,"onChange"),0<e.length&&(r=new xp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ua=null,Ta=null;function tk(t){_w(t,0)}function cu(t){var e=qi(t);if(Dy(e))return t}function rk(t,e){if(t==="change")return e}var hw=!1;if(Un){var ad;if(Un){var ld="oninput"in document;if(!ld){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),ld=typeof wg.oninput=="function"}ad=ld}else ad=!1;hw=ad&&(!document.documentMode||9<document.documentMode)}function xg(){ua&&(ua.detachEvent("onpropertychange",fw),Ta=ua=null)}function fw(t){if(t.propertyName==="value"&&cu(Ta)){var e=[];dw(e,Ta,t,pp(t)),qy(tk,e)}}function nk(t,e,r){t==="focusin"?(xg(),ua=e,Ta=r,ua.attachEvent("onpropertychange",fw)):t==="focusout"&&xg()}function sk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cu(Ta)}function ik(t,e){if(t==="click")return cu(e)}function ok(t,e){if(t==="input"||t==="change")return cu(e)}function ak(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var an=typeof Object.is=="function"?Object.is:ak;function ja(t,e){if(an(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ch.call(e,s)||!an(t[s],e[s]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,e){var r=bg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bg(r)}}function pw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mw(){for(var t=window,e=wc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wc(t.document)}return e}function Sp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lk(t){var e=mw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&pw(r.ownerDocument.documentElement,r)){if(n!==null&&Sp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=_g(r,i);var o=_g(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ck=Un&&"documentMode"in document&&11>=document.documentMode,Hi=null,jh=null,da=null,Nh=!1;function Sg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||Hi==null||Hi!==wc(n)||(n=Hi,"selectionStart"in n&&Sp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),da&&ja(da,n)||(da=n,n=kc(jh,"onSelect"),0<n.length&&(e=new xp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Hi)))}function kl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vi={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},cd={},gw={};Un&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function uu(t){if(cd[t])return cd[t];if(!Vi[t])return t;var e=Vi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in gw)return cd[t]=e[r];return t}var vw=uu("animationend"),yw=uu("animationiteration"),ww=uu("animationstart"),xw=uu("transitionend"),bw=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){bw.set(t,e),wi(e,[t])}for(var ud=0;ud<Eg.length;ud++){var dd=Eg[ud],uk=dd.toLowerCase(),dk=dd[0].toUpperCase()+dd.slice(1);Ds(uk,"on"+dk)}Ds(vw,"onAnimationEnd");Ds(yw,"onAnimationIteration");Ds(ww,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(xw,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hk=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Cg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,uC(n,e,void 0,t),t.currentTarget=null}function _w(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Cg(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Cg(s,a,u),i=l}}}if(bc)throw t=Eh,bc=!1,Eh=null,t}function Ve(t,e){var r=e[Ih];r===void 0&&(r=e[Ih]=new Set);var n=t+"__bubble";r.has(n)||(Sw(e,t,2,!1),r.add(n))}function hd(t,e,r){var n=0;e&&(n|=4),Sw(r,t,n,e)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function Na(t){if(!t[Tl]){t[Tl]=!0,Oy.forEach(function(r){r!=="selectionchange"&&(hk.has(r)||hd(r,!1,t),hd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tl]||(e[Tl]=!0,hd("selectionchange",!1,e))}}function Sw(t,e,r,n){switch(ow(e)){case 1:var s=kC;break;case 4:s=TC;break;default:s=yp}r=s.bind(null,e,r,t),s=void 0,!Sh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function fd(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ys(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}qy(function(){var u=i,d=pp(r),p=[];e:{var h=bw.get(t);if(h!==void 0){var m=xp,v=t;switch(t){case"keypress":if(rc(r)===0)break e;case"keydown":case"keyup":m=zC;break;case"focusin":v="focus",m=od;break;case"focusout":v="blur",m=od;break;case"beforeblur":case"afterblur":m=od;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=OC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=VC;break;case vw:case yw:case ww:m=AC;break;case xw:m=KC;break;case"scroll":m=jC;break;case"wheel":m=QC;break;case"copy":case"cut":case"paste":m=DC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mg}var g=(e&4)!==0,b=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,w!==null&&(_=Sa(y,w),_!=null&&g.push(Oa(y,_,x)))),b)break;y=y.return}0<g.length&&(h=new m(h,v,null,r,d),p.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==bh&&(v=r.relatedTarget||r.fromElement)&&(Ys(v)||v[Fn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Ys(v):null,v!==null&&(b=xi(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=fg,_="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=mg,_="onPointerLeave",w="onPointerEnter",y="pointer"),b=m==null?h:qi(m),x=v==null?h:qi(v),h=new g(_,y+"leave",m,r,d),h.target=b,h.relatedTarget=x,_=null,Ys(d)===u&&(g=new g(w,y+"enter",v,r,d),g.target=x,g.relatedTarget=b,_=g),b=_,m&&v)t:{for(g=m,w=v,y=0,x=g;x;x=Ti(x))y++;for(x=0,_=w;_;_=Ti(_))x++;for(;0<y-x;)g=Ti(g),y--;for(;0<x-y;)w=Ti(w),x--;for(;y--;){if(g===w||w!==null&&g===w.alternate)break t;g=Ti(g),w=Ti(w)}g=null}else g=null;m!==null&&kg(p,h,m,g,!1),v!==null&&b!==null&&kg(p,b,v,g,!0)}}e:{if(h=u?qi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=rk;else if(yg(h))if(hw)S=ok;else{S=sk;var E=nk}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=ik);if(S&&(S=S(t,u))){dw(p,S,r,d);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&gh(h,"number",h.value)}switch(E=u?qi(u):window,t){case"focusin":(yg(E)||E.contentEditable==="true")&&(Hi=E,jh=u,da=null);break;case"focusout":da=jh=Hi=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Sg(p,r,d);break;case"selectionchange":if(ck)break;case"keydown":case"keyup":Sg(p,r,d)}var C;if(_p)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Wi?cw(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(lw&&r.locale!=="ko"&&(Wi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Wi&&(C=aw()):(vs=d,wp="value"in vs?vs.value:vs.textContent,Wi=!0)),E=kc(u,T),0<E.length&&(T=new pg(T,t,null,r,d),p.push({event:T,listeners:E}),C?T.data=C:(C=uw(r),C!==null&&(T.data=C)))),(C=JC?XC(t,r):ZC(t,r))&&(u=kc(u,"onBeforeInput"),0<u.length&&(d=new pg("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:u}),d.data=C))}_w(p,e)})}function Oa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kc(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sa(t,r),i!=null&&n.unshift(Oa(t,i,s)),i=Sa(t,e),i!=null&&n.push(Oa(t,i,s))),t=t.return}return n}function Ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kg(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Sa(r,i),l!=null&&o.unshift(Oa(r,l,a))):s||(l=Sa(r,i),l!=null&&o.push(Oa(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var fk=/\r\n?/g,pk=/\u0000|\uFFFD/g;function Tg(t){return(typeof t=="string"?t:""+t).replace(fk,`
`).replace(pk,"")}function jl(t,e,r){if(e=Tg(e),Tg(t)!==e&&r)throw Error(V(425))}function Tc(){}var Oh=null,Ph=null;function Rh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,mk=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(t){return jg.resolve(null).then(t).catch(vk)}:Ah;function vk(t){setTimeout(function(){throw t})}function pd(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ka(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ka(e)}function Ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ng(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Do=Math.random().toString(36).slice(2),yn="__reactFiber$"+Do,Pa="__reactProps$"+Do,Fn="__reactContainer$"+Do,Ih="__reactEvents$"+Do,yk="__reactListeners$"+Do,wk="__reactHandles$"+Do;function Ys(t){var e=t[yn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fn]||r[yn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ng(t);t!==null;){if(r=t[yn])return r;t=Ng(t)}return e}t=r,r=t.parentNode}return null}function il(t){return t=t[yn]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function du(t){return t[Pa]||null}var Dh=[],Ki=-1;function Ls(t){return{current:t}}function qe(t){0>Ki||(t.current=Dh[Ki],Dh[Ki]=null,Ki--)}function We(t,e){Ki++,Dh[Ki]=t.current,t.current=e}var Rs={},qt=Ls(Rs),cr=Ls(!1),ci=Rs;function bo(t,e){var r=t.type.contextTypes;if(!r)return Rs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ur(t){return t=t.childContextTypes,t!=null}function jc(){qe(cr),qe(qt)}function Og(t,e,r){if(qt.current!==Rs)throw Error(V(168));We(qt,e),We(cr,r)}function Ew(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(V(108,nC(t)||"Unknown",s));return tt({},r,n)}function Nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rs,ci=qt.current,We(qt,t),We(cr,cr.current),!0}function Pg(t,e,r){var n=t.stateNode;if(!n)throw Error(V(169));r?(t=Ew(t,e,ci),n.__reactInternalMemoizedMergedChildContext=t,qe(cr),qe(qt),We(qt,t)):qe(cr),We(cr,r)}var An=null,hu=!1,md=!1;function Cw(t){An===null?An=[t]:An.push(t)}function xk(t){hu=!0,Cw(t)}function Ms(){if(!md&&An!==null){md=!0;var t=0,e=Me;try{var r=An;for(Me=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}An=null,hu=!1}catch(s){throw An!==null&&(An=An.slice(t+1)),Yy(mp,Ms),s}finally{Me=e,md=!1}}return null}var Gi=[],Qi=0,Oc=null,Pc=0,Ar=[],Ir=0,ui=null,Dn=1,Ln="";function Vs(t,e){Gi[Qi++]=Pc,Gi[Qi++]=Oc,Oc=t,Pc=e}function kw(t,e,r){Ar[Ir++]=Dn,Ar[Ir++]=Ln,Ar[Ir++]=ui,ui=t;var n=Dn;t=Ln;var s=32-sn(n)-1;n&=~(1<<s),r+=1;var i=32-sn(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Dn=1<<32-sn(e)+s|r<<s|n,Ln=i+t}else Dn=1<<i|r<<s|n,Ln=t}function Ep(t){t.return!==null&&(Vs(t,1),kw(t,1,0))}function Cp(t){for(;t===Oc;)Oc=Gi[--Qi],Gi[Qi]=null,Pc=Gi[--Qi],Gi[Qi]=null;for(;t===ui;)ui=Ar[--Ir],Ar[Ir]=null,Ln=Ar[--Ir],Ar[Ir]=null,Dn=Ar[--Ir],Ar[Ir]=null}var Er=null,Sr=null,Qe=!1,tn=null;function Tw(t,e){var r=Lr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Rg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Er=t,Sr=Ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Er=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ui!==null?{id:Dn,overflow:Ln}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Lr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Er=t,Sr=null,!0):!1;default:return!1}}function Lh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mh(t){if(Qe){var e=Sr;if(e){var r=e;if(!Rg(t,e)){if(Lh(t))throw Error(V(418));e=Ss(r.nextSibling);var n=Er;e&&Rg(t,e)?Tw(n,r):(t.flags=t.flags&-4097|2,Qe=!1,Er=t)}}else{if(Lh(t))throw Error(V(418));t.flags=t.flags&-4097|2,Qe=!1,Er=t}}}function Ag(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Er=t}function Nl(t){if(t!==Er)return!1;if(!Qe)return Ag(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rh(t.type,t.memoizedProps)),e&&(e=Sr)){if(Lh(t))throw jw(),Error(V(418));for(;e;)Tw(t,e),e=Ss(e.nextSibling)}if(Ag(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Sr=Ss(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Er?Ss(t.stateNode.nextSibling):null;return!0}function jw(){for(var t=Sr;t;)t=Ss(t.nextSibling)}function _o(){Sr=Er=null,Qe=!1}function kp(t){tn===null?tn=[t]:tn.push(t)}var bk=qn.ReactCurrentBatchConfig;function Ko(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,t))}return t}function Ol(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ig(t){var e=t._init;return e(t._payload)}function Nw(t){function e(w,y){if(t){var x=w.deletions;x===null?(w.deletions=[y],w.flags|=16):x.push(y)}}function r(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Ts(w,y),w.index=0,w.sibling=null,w}function i(w,y,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<y?(w.flags|=2,y):x):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,x,_){return y===null||y.tag!==6?(y=_d(x,w.mode,_),y.return=w,y):(y=s(y,x),y.return=w,y)}function l(w,y,x,_){var S=x.type;return S===zi?d(w,y,x.props.children,_,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===is&&Ig(S)===y.type)?(_=s(y,x.props),_.ref=Ko(w,y,x),_.return=w,_):(_=cc(x.type,x.key,x.props,null,w.mode,_),_.ref=Ko(w,y,x),_.return=w,_)}function u(w,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Sd(x,w.mode,_),y.return=w,y):(y=s(y,x.children||[]),y.return=w,y)}function d(w,y,x,_,S){return y===null||y.tag!==7?(y=ai(x,w.mode,_,S),y.return=w,y):(y=s(y,x),y.return=w,y)}function p(w,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=_d(""+y,w.mode,x),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wl:return x=cc(y.type,y.key,y.props,null,w.mode,x),x.ref=Ko(w,null,y),x.return=w,x;case Bi:return y=Sd(y,w.mode,x),y.return=w,y;case is:var _=y._init;return p(w,_(y._payload),x)}if(ta(y)||zo(y))return y=ai(y,w.mode,x,null),y.return=w,y;Ol(w,y)}return null}function h(w,y,x,_){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(w,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:return x.key===S?l(w,y,x,_):null;case Bi:return x.key===S?u(w,y,x,_):null;case is:return S=x._init,h(w,y,S(x._payload),_)}if(ta(x)||zo(x))return S!==null?null:d(w,y,x,_,null);Ol(w,x)}return null}function m(w,y,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(x)||null,a(y,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wl:return w=w.get(_.key===null?x:_.key)||null,l(y,w,_,S);case Bi:return w=w.get(_.key===null?x:_.key)||null,u(y,w,_,S);case is:var E=_._init;return m(w,y,x,E(_._payload),S)}if(ta(_)||zo(_))return w=w.get(x)||null,d(y,w,_,S,null);Ol(y,_)}return null}function v(w,y,x,_){for(var S=null,E=null,C=y,T=y=0,L=null;C!==null&&T<x.length;T++){C.index>T?(L=C,C=null):L=C.sibling;var M=h(w,C,x[T],_);if(M===null){C===null&&(C=L);break}t&&C&&M.alternate===null&&e(w,C),y=i(M,y,T),E===null?S=M:E.sibling=M,E=M,C=L}if(T===x.length)return r(w,C),Qe&&Vs(w,T),S;if(C===null){for(;T<x.length;T++)C=p(w,x[T],_),C!==null&&(y=i(C,y,T),E===null?S=C:E.sibling=C,E=C);return Qe&&Vs(w,T),S}for(C=n(w,C);T<x.length;T++)L=m(C,w,T,x[T],_),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?T:L.key),y=i(L,y,T),E===null?S=L:E.sibling=L,E=L);return t&&C.forEach(function(J){return e(w,J)}),Qe&&Vs(w,T),S}function g(w,y,x,_){var S=zo(x);if(typeof S!="function")throw Error(V(150));if(x=S.call(x),x==null)throw Error(V(151));for(var E=S=null,C=y,T=y=0,L=null,M=x.next();C!==null&&!M.done;T++,M=x.next()){C.index>T?(L=C,C=null):L=C.sibling;var J=h(w,C,M.value,_);if(J===null){C===null&&(C=L);break}t&&C&&J.alternate===null&&e(w,C),y=i(J,y,T),E===null?S=J:E.sibling=J,E=J,C=L}if(M.done)return r(w,C),Qe&&Vs(w,T),S;if(C===null){for(;!M.done;T++,M=x.next())M=p(w,M.value,_),M!==null&&(y=i(M,y,T),E===null?S=M:E.sibling=M,E=M);return Qe&&Vs(w,T),S}for(C=n(w,C);!M.done;T++,M=x.next())M=m(C,w,T,M.value,_),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?T:M.key),y=i(M,y,T),E===null?S=M:E.sibling=M,E=M);return t&&C.forEach(function($){return e(w,$)}),Qe&&Vs(w,T),S}function b(w,y,x,_){if(typeof x=="object"&&x!==null&&x.type===zi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:e:{for(var S=x.key,E=y;E!==null;){if(E.key===S){if(S=x.type,S===zi){if(E.tag===7){r(w,E.sibling),y=s(E,x.props.children),y.return=w,w=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===is&&Ig(S)===E.type){r(w,E.sibling),y=s(E,x.props),y.ref=Ko(w,E,x),y.return=w,w=y;break e}r(w,E);break}else e(w,E);E=E.sibling}x.type===zi?(y=ai(x.props.children,w.mode,_,x.key),y.return=w,w=y):(_=cc(x.type,x.key,x.props,null,w.mode,_),_.ref=Ko(w,y,x),_.return=w,w=_)}return o(w);case Bi:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(w,y.sibling),y=s(y,x.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else e(w,y);y=y.sibling}y=Sd(x,w.mode,_),y.return=w,w=y}return o(w);case is:return E=x._init,b(w,y,E(x._payload),_)}if(ta(x))return v(w,y,x,_);if(zo(x))return g(w,y,x,_);Ol(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(w,y.sibling),y=s(y,x),y.return=w,w=y):(r(w,y),y=_d(x,w.mode,_),y.return=w,w=y),o(w)):r(w,y)}return b}var So=Nw(!0),Ow=Nw(!1),Rc=Ls(null),Ac=null,Yi=null,Tp=null;function jp(){Tp=Yi=Ac=null}function Np(t){var e=Rc.current;qe(Rc),t._currentValue=e}function $h(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function so(t,e){Ac=t,Tp=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(Tp!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(Ac===null)throw Error(V(308));Yi=t,Ac.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var Js=null;function Op(t){Js===null?Js=[t]:Js.push(t)}function Pw(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Op(e)):(r.next=s.next,s.next=r),e.interleaved=r,Bn(t,n)}function Bn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var os=!1;function Pp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Es(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Bn(t,r)}return s=n.interleaved,s===null?(e.next=e,Op(n)):(e.next=s.next,s.next=e),n.interleaved=e,Bn(t,r)}function nc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gp(t,r)}}function Dg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ic(t,e,r,n){var s=t.updateQueue;os=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(h=e,m=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){p=v.call(m,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,p,h):v,h==null)break e;p=tt({},p,h);break e;case 2:os=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=p):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hi|=o,t.lanes=o,t.memoizedState=p}}function Lg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(V(191,s));s.call(n)}}}var ol={},_n=Ls(ol),Ra=Ls(ol),Aa=Ls(ol);function Xs(t){if(t===ol)throw Error(V(174));return t}function Rp(t,e){switch(We(Aa,e),We(Ra,t),We(_n,ol),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yh(e,t)}qe(_n),We(_n,e)}function Eo(){qe(_n),qe(Ra),qe(Aa)}function Aw(t){Xs(Aa.current);var e=Xs(_n.current),r=yh(e,t.type);e!==r&&(We(Ra,t),We(_n,r))}function Ap(t){Ra.current===t&&(qe(_n),qe(Ra))}var Ze=Ls(0);function Dc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gd=[];function Ip(){for(var t=0;t<gd.length;t++)gd[t]._workInProgressVersionPrimary=null;gd.length=0}var sc=qn.ReactCurrentDispatcher,vd=qn.ReactCurrentBatchConfig,di=0,et=null,yt=null,St=null,Lc=!1,ha=!1,Ia=0,_k=0;function Bt(){throw Error(V(321))}function Dp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!an(t[r],e[r]))return!1;return!0}function Lp(t,e,r,n,s,i){if(di=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sc.current=t===null||t.memoizedState===null?kk:Tk,t=r(n,s),ha){i=0;do{if(ha=!1,Ia=0,25<=i)throw Error(V(301));i+=1,St=yt=null,e.updateQueue=null,sc.current=jk,t=r(n,s)}while(ha)}if(sc.current=Mc,e=yt!==null&&yt.next!==null,di=0,St=yt=et=null,Lc=!1,e)throw Error(V(300));return t}function Mp(){var t=Ia!==0;return Ia=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?et.memoizedState=St=t:St=St.next=t,St}function Ur(){if(yt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=St===null?et.memoizedState:St.next;if(e!==null)St=e,yt=t;else{if(t===null)throw Error(V(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},St===null?et.memoizedState=St=t:St=St.next=t}return St}function Da(t,e){return typeof e=="function"?e(t):e}function yd(t){var e=Ur(),r=e.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=t;var n=yt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((di&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=n):l=l.next=p,et.lanes|=d,hi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,an(n,e.memoizedState)||(lr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,hi|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wd(t){var e=Ur(),r=e.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);an(i,e.memoizedState)||(lr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Iw(){}function Dw(t,e){var r=et,n=Ur(),s=e(),i=!an(n.memoizedState,s);if(i&&(n.memoizedState=s,lr=!0),n=n.queue,$p($w.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||St!==null&&St.memoizedState.tag&1){if(r.flags|=2048,La(9,Mw.bind(null,r,n,s,e),void 0,null),kt===null)throw Error(V(349));di&30||Lw(r,e,s)}return s}function Lw(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Mw(t,e,r,n){e.value=r,e.getSnapshot=n,Uw(e)&&Fw(t)}function $w(t,e,r){return r(function(){Uw(e)&&Fw(t)})}function Uw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!an(t,r)}catch{return!0}}function Fw(t){var e=Bn(t,1);e!==null&&on(e,t,1,-1)}function Mg(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},e.queue=t,t=t.dispatch=Ck.bind(null,et,t),[e.memoizedState,t]}function La(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Bw(){return Ur().memoizedState}function ic(t,e,r,n){var s=fn();et.flags|=t,s.memoizedState=La(1|e,r,void 0,n===void 0?null:n)}function fu(t,e,r,n){var s=Ur();n=n===void 0?null:n;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,n!==null&&Dp(n,o.deps)){s.memoizedState=La(e,r,i,n);return}}et.flags|=t,s.memoizedState=La(1|e,r,i,n)}function $g(t,e){return ic(8390656,8,t,e)}function $p(t,e){return fu(2048,8,t,e)}function zw(t,e){return fu(4,2,t,e)}function Ww(t,e){return fu(4,4,t,e)}function Hw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vw(t,e,r){return r=r!=null?r.concat([t]):null,fu(4,4,Hw.bind(null,e,t),r)}function Up(){}function qw(t,e){var r=Ur();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dp(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Kw(t,e){var r=Ur();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dp(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Gw(t,e,r){return di&21?(an(r,e)||(r=Zy(),et.lanes|=r,hi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=r)}function Sk(t,e){var r=Me;Me=r!==0&&4>r?r:4,t(!0);var n=vd.transition;vd.transition={};try{t(!1),e()}finally{Me=r,vd.transition=n}}function Qw(){return Ur().memoizedState}function Ek(t,e,r){var n=ks(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yw(t))Jw(e,r);else if(r=Pw(t,e,r,n),r!==null){var s=Zt();on(r,t,n,s),Xw(r,e,n)}}function Ck(t,e,r){var n=ks(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yw(t))Jw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,an(a,o)){var l=e.interleaved;l===null?(s.next=s,Op(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Pw(t,e,s,n),r!==null&&(s=Zt(),on(r,t,n,s),Xw(r,e,n))}}function Yw(t){var e=t.alternate;return t===et||e!==null&&e===et}function Jw(t,e){ha=Lc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Xw(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gp(t,r)}}var Mc={readContext:$r,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},kk={readContext:$r,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:$g,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ic(4194308,4,Hw.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return ic(4,2,t,e)},useMemo:function(t,e){var r=fn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=fn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Ek.bind(null,et,t),[n.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:Mg,useDebugValue:Up,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=Mg(!1),e=t[0];return t=Sk.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=et,s=fn();if(Qe){if(r===void 0)throw Error(V(407));r=r()}else{if(r=e(),kt===null)throw Error(V(349));di&30||Lw(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,$g($w.bind(null,n,i,t),[t]),n.flags|=2048,La(9,Mw.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=fn(),e=kt.identifierPrefix;if(Qe){var r=Ln,n=Dn;r=(n&~(1<<32-sn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ia++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=_k++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Tk={readContext:$r,useCallback:qw,useContext:$r,useEffect:$p,useImperativeHandle:Vw,useInsertionEffect:zw,useLayoutEffect:Ww,useMemo:Kw,useReducer:yd,useRef:Bw,useState:function(){return yd(Da)},useDebugValue:Up,useDeferredValue:function(t){var e=Ur();return Gw(e,yt.memoizedState,t)},useTransition:function(){var t=yd(Da)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:Iw,useSyncExternalStore:Dw,useId:Qw,unstable_isNewReconciler:!1},jk={readContext:$r,useCallback:qw,useContext:$r,useEffect:$p,useImperativeHandle:Vw,useInsertionEffect:zw,useLayoutEffect:Ww,useMemo:Kw,useReducer:wd,useRef:Bw,useState:function(){return wd(Da)},useDebugValue:Up,useDeferredValue:function(t){var e=Ur();return yt===null?e.memoizedState=t:Gw(e,yt.memoizedState,t)},useTransition:function(){var t=wd(Da)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:Iw,useSyncExternalStore:Dw,useId:Qw,unstable_isNewReconciler:!1};function Gr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Uh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:tt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var pu={isMounted:function(t){return(t=t._reactInternals)?xi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Zt(),s=ks(t),i=Mn(n,s);i.payload=e,r!=null&&(i.callback=r),e=Es(t,i,s),e!==null&&(on(e,t,s,n),nc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Zt(),s=ks(t),i=Mn(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Es(t,i,s),e!==null&&(on(e,t,s,n),nc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Zt(),n=ks(t),s=Mn(r,n);s.tag=2,e!=null&&(s.callback=e),e=Es(t,s,n),e!==null&&(on(e,t,n,r),nc(e,t,n))}};function Ug(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ja(r,n)||!ja(s,i):!0}function Zw(t,e,r){var n=!1,s=Rs,i=e.contextType;return typeof i=="object"&&i!==null?i=$r(i):(s=ur(e)?ci:qt.current,n=e.contextTypes,i=(n=n!=null)?bo(t,s):Rs),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Fg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&pu.enqueueReplaceState(e,e.state,null)}function Fh(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Pp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$r(i):(i=ur(e)?ci:qt.current,s.context=bo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Uh(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&pu.enqueueReplaceState(s,s.state,null),Ic(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,e){try{var r="",n=e;do r+=rC(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Bh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Nk=typeof WeakMap=="function"?WeakMap:Map;function ex(t,e,r){r=Mn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uc||(Uc=!0,Jh=n),Bh(t,e)},r}function tx(t,e,r){r=Mn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Bh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Bh(t,e),typeof n!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Bg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Nk;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Wk.bind(null,t,e,r),e.then(t,t))}function zg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wg(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Mn(-1,1),e.tag=2,Es(r,e,1))),r.lanes|=1),t)}var Ok=qn.ReactCurrentOwner,lr=!1;function Jt(t,e,r,n){e.child=t===null?Ow(e,null,r,n):So(e,t.child,r,n)}function Hg(t,e,r,n,s){r=r.render;var i=e.ref;return so(e,s),n=Lp(t,e,r,n,i,s),r=Mp(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zn(t,e,s)):(Qe&&r&&Ep(e),e.flags|=1,Jt(t,e,n,s),e.child)}function Vg(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Kp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,rx(t,e,i,n,s)):(t=cc(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ja,r(o,n)&&t.ref===e.ref)return zn(t,e,s)}return e.flags|=1,t=Ts(i,n),t.ref=e.ref,t.return=e,e.child=t}function rx(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ja(i,n)&&t.ref===e.ref)if(lr=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,zn(t,e,s)}return zh(t,e,r,n,s)}function nx(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Xi,yr),yr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Xi,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,We(Xi,yr),yr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,We(Xi,yr),yr|=n;return Jt(t,e,s,r),e.child}function sx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function zh(t,e,r,n,s){var i=ur(r)?ci:qt.current;return i=bo(e,i),so(e,s),r=Lp(t,e,r,n,i,s),n=Mp(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zn(t,e,s)):(Qe&&n&&Ep(e),e.flags|=1,Jt(t,e,r,s),e.child)}function qg(t,e,r,n,s){if(ur(r)){var i=!0;Nc(e)}else i=!1;if(so(e,s),e.stateNode===null)oc(t,e),Zw(e,r,n),Fh(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=$r(u):(u=ur(r)?ci:qt.current,u=bo(e,u));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Fg(e,o,n,u),os=!1;var h=e.memoizedState;o.state=h,Ic(e,n,o,s),l=e.memoizedState,a!==n||h!==l||cr.current||os?(typeof d=="function"&&(Uh(e,r,d,n),l=e.memoizedState),(a=os||Ug(e,r,a,n,h,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Rw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Gr(e.type,a),o.props=u,p=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=$r(l):(l=ur(r)?ci:qt.current,l=bo(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==l)&&Fg(e,o,n,l),os=!1,h=e.memoizedState,o.state=h,Ic(e,n,o,s);var v=e.memoizedState;a!==p||h!==v||cr.current||os?(typeof m=="function"&&(Uh(e,r,m,n),v=e.memoizedState),(u=os||Ug(e,r,u,n,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Wh(t,e,r,n,i,s)}function Wh(t,e,r,n,s,i){sx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Pg(e,r,!1),zn(t,e,i);n=e.stateNode,Ok.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=So(e,t.child,null,i),e.child=So(e,null,a,i)):Jt(t,e,a,i),e.memoizedState=n.state,s&&Pg(e,r,!0),e.child}function ix(t){var e=t.stateNode;e.pendingContext?Og(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Og(t,e.context,!1),Rp(t,e.containerInfo)}function Kg(t,e,r,n,s){return _o(),kp(s),e.flags|=256,Jt(t,e,r,n),e.child}var Hh={dehydrated:null,treeContext:null,retryLane:0};function Vh(t){return{baseLanes:t,cachePool:null,transitions:null}}function ox(t,e,r){var n=e.pendingProps,s=Ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(Ze,s&1),t===null)return Mh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vu(o,n,0,null),t=ai(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vh(r),e.memoizedState=Hh,t):Fp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Pk(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ts(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ts(a,i):(i=ai(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Vh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Hh,n}return i=t.child,t=i.sibling,n=Ts(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Fp(t,e){return e=vu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pl(t,e,r,n){return n!==null&&kp(n),So(e,t.child,null,r),t=Fp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pk(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=xd(Error(V(422))),Pl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=vu({mode:"visible",children:n.children},s,0,null),i=ai(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&So(e,t.child,null,o),e.child.memoizedState=Vh(o),e.memoizedState=Hh,i);if(!(e.mode&1))return Pl(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(V(419)),n=xd(i,n,void 0),Pl(t,e,o,n)}if(a=(o&t.childLanes)!==0,lr||a){if(n=kt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bn(t,s),on(n,t,s,-1))}return qp(),n=xd(Error(V(421))),Pl(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sr=Ss(s.nextSibling),Er=e,Qe=!0,tn=null,t!==null&&(Ar[Ir++]=Dn,Ar[Ir++]=Ln,Ar[Ir++]=ui,Dn=t.id,Ln=t.overflow,ui=e),e=Fp(e,n.children),e.flags|=4096,e)}function Gg(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$h(t.return,e,r)}function bd(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ax(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Jt(t,e,n.children,r),n=Ze.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,r,e);else if(t.tag===19)Gg(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(We(Ze,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Dc(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),bd(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Dc(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}bd(e,!0,r,null,i);break;case"together":bd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,r=Ts(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ts(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Rk(t,e,r){switch(e.tag){case 3:ix(e),_o();break;case 5:Aw(e);break;case 1:ur(e.type)&&Nc(e);break;case 4:Rp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;We(Rc,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(We(Ze,Ze.current&1),e.flags|=128,null):r&e.child.childLanes?ox(t,e,r):(We(Ze,Ze.current&1),t=zn(t,e,r),t!==null?t.sibling:null);We(Ze,Ze.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ax(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(Ze,Ze.current),n)break;return null;case 22:case 23:return e.lanes=0,nx(t,e,r)}return zn(t,e,r)}var lx,qh,cx,ux;lx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qh=function(){};cx=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Xs(_n.current);var i=null;switch(r){case"input":s=ph(t,s),n=ph(t,n),i=[];break;case"select":s=tt({},s,{value:void 0}),n=tt({},n,{value:void 0}),i=[];break;case"textarea":s=vh(t,s),n=vh(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Tc)}wh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ba.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ba.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ux=function(t,e,r,n){r!==n&&(e.flags|=4)};function Go(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ak(t,e,r){var n=e.pendingProps;switch(Cp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return ur(e.type)&&jc(),zt(e),null;case 3:return n=e.stateNode,Eo(),qe(cr),qe(qt),Ip(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tn!==null&&(ef(tn),tn=null))),qh(t,e),zt(e),null;case 5:Ap(e);var s=Xs(Aa.current);if(r=e.type,t!==null&&e.stateNode!=null)cx(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(V(166));return zt(e),null}if(t=Xs(_n.current),Nl(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[yn]=e,n[Pa]=i,t=(e.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(s=0;s<na.length;s++)Ve(na[s],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":ng(n,i),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",n);break;case"textarea":ig(n,i),Ve("invalid",n)}wh(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&jl(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jl(n.textContent,a,t),s=["children",""+a]):ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",n)}switch(r){case"input":xl(n),sg(n,i,!0);break;case"textarea":xl(n),og(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Tc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$y(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[yn]=e,t[Pa]=n,lx(t,e,!1,!1),e.stateNode=t;e:{switch(o=xh(r,n),r){case"dialog":Ve("cancel",t),Ve("close",t),s=n;break;case"iframe":case"object":case"embed":Ve("load",t),s=n;break;case"video":case"audio":for(s=0;s<na.length;s++)Ve(na[s],t);s=n;break;case"source":Ve("error",t),s=n;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=n;break;case"details":Ve("toggle",t),s=n;break;case"input":ng(t,n),s=ph(t,n),Ve("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=tt({},n,{value:void 0}),Ve("invalid",t);break;case"textarea":ig(t,n),s=vh(t,n),Ve("invalid",t);break;default:s=n}wh(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?By(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uy(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_a(t,l):typeof l=="number"&&_a(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ba.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ve("scroll",t):l!=null&&up(t,i,l,o))}switch(r){case"input":xl(t),sg(t,n,!1);break;case"textarea":xl(t),og(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ps(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?eo(t,!!n.multiple,i,!1):n.defaultValue!=null&&eo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Tc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)ux(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(V(166));if(r=Xs(Aa.current),Xs(_n.current),Nl(e)){if(n=e.stateNode,r=e.memoizedProps,n[yn]=e,(i=n.nodeValue!==r)&&(t=Er,t!==null))switch(t.tag){case 3:jl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jl(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yn]=e,e.stateNode=n}return zt(e),null;case 13:if(qe(Ze),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Sr!==null&&e.mode&1&&!(e.flags&128))jw(),_o(),e.flags|=98560,i=!1;else if(i=Nl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(V(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[yn]=e}else _o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else tn!==null&&(ef(tn),tn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?wt===0&&(wt=3):qp())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Eo(),qh(t,e),t===null&&Na(e.stateNode.containerInfo),zt(e),null;case 10:return Np(e.type._context),zt(e),null;case 17:return ur(e.type)&&jc(),zt(e),null;case 19:if(qe(Ze),i=e.memoizedState,i===null)return zt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Go(i,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dc(t),o!==null){for(e.flags|=128,Go(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return We(Ze,Ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&at()>ko&&(e.flags|=128,n=!0,Go(i,!1),e.lanes=4194304)}else{if(!n)if(t=Dc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return zt(e),null}else 2*at()-i.renderingStartTime>ko&&r!==1073741824&&(e.flags|=128,n=!0,Go(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=at(),e.sibling=null,r=Ze.current,We(Ze,n?r&1|2:r&1),e):(zt(e),null);case 22:case 23:return Vp(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?yr&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function Ik(t,e){switch(Cp(e),e.tag){case 1:return ur(e.type)&&jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Eo(),qe(cr),qe(qt),Ip(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ap(e),null;case 13:if(qe(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));_o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Ze),null;case 4:return Eo(),null;case 10:return Np(e.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var Rl=!1,Vt=!1,Dk=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ji(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(t,e,n)}else r.current=null}function Kh(t,e,r){try{r()}catch(n){st(t,e,n)}}var Qg=!1;function Lk(t,e){if(Oh=Ec,t=mw(),Sp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,h=null;t:for(;;){for(var m;p!==r||s!==0&&p.nodeType!==3||(a=o+s),p!==i||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++d===n&&(l=o),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ph={focusedElem:t,selectionRange:r},Ec=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Gr(e.type,g),b);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){st(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return v=Qg,Qg=!1,v}function fa(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kh(e,r,i)}s=s.next}while(s!==n)}}function mu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Gh(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function dx(t){var e=t.alternate;e!==null&&(t.alternate=null,dx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yn],delete e[Pa],delete e[Ih],delete e[yk],delete e[wk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hx(t){return t.tag===5||t.tag===3||t.tag===4}function Yg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Tc));else if(n!==4&&(t=t.child,t!==null))for(Qh(t,e,r),t=t.sibling;t!==null;)Qh(t,e,r),t=t.sibling}function Yh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Yh(t,e,r),t=t.sibling;t!==null;)Yh(t,e,r),t=t.sibling}var It=null,Zr=!1;function Xn(t,e,r){for(r=r.child;r!==null;)fx(t,e,r),r=r.sibling}function fx(t,e,r){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(au,r)}catch{}switch(r.tag){case 5:Vt||Ji(r,e);case 6:var n=It,s=Zr;It=null,Xn(t,e,r),It=n,Zr=s,It!==null&&(Zr?(t=It,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):It.removeChild(r.stateNode));break;case 18:It!==null&&(Zr?(t=It,r=r.stateNode,t.nodeType===8?pd(t.parentNode,r):t.nodeType===1&&pd(t,r),ka(t)):pd(It,r.stateNode));break;case 4:n=It,s=Zr,It=r.stateNode.containerInfo,Zr=!0,Xn(t,e,r),It=n,Zr=s;break;case 0:case 11:case 14:case 15:if(!Vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kh(r,e,o),s=s.next}while(s!==n)}Xn(t,e,r);break;case 1:if(!Vt&&(Ji(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){st(r,e,a)}Xn(t,e,r);break;case 21:Xn(t,e,r);break;case 22:r.mode&1?(Vt=(n=Vt)||r.memoizedState!==null,Xn(t,e,r),Vt=n):Xn(t,e,r);break;default:Xn(t,e,r)}}function Jg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Dk),e.forEach(function(n){var s=Vk.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Hr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,Zr=!1;break e;case 3:It=a.stateNode.containerInfo,Zr=!0;break e;case 4:It=a.stateNode.containerInfo,Zr=!0;break e}a=a.return}if(It===null)throw Error(V(160));fx(i,o,s),It=null,Zr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){st(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)px(e,t),e=e.sibling}function px(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hr(e,t),hn(t),n&4){try{fa(3,t,t.return),mu(3,t)}catch(g){st(t,t.return,g)}try{fa(5,t,t.return)}catch(g){st(t,t.return,g)}}break;case 1:Hr(e,t),hn(t),n&512&&r!==null&&Ji(r,r.return);break;case 5:if(Hr(e,t),hn(t),n&512&&r!==null&&Ji(r,r.return),t.flags&32){var s=t.stateNode;try{_a(s,"")}catch(g){st(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ly(s,i),xh(a,o);var u=xh(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?By(s,p):d==="dangerouslySetInnerHTML"?Uy(s,p):d==="children"?_a(s,p):up(s,d,p,u)}switch(a){case"input":mh(s,i);break;case"textarea":My(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?eo(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?eo(s,!!i.multiple,i.defaultValue,!0):eo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pa]=i}catch(g){st(t,t.return,g)}}break;case 6:if(Hr(e,t),hn(t),n&4){if(t.stateNode===null)throw Error(V(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){st(t,t.return,g)}}break;case 3:if(Hr(e,t),hn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ka(e.containerInfo)}catch(g){st(t,t.return,g)}break;case 4:Hr(e,t),hn(t);break;case 13:Hr(e,t),hn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wp=at())),n&4&&Jg(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||d,Hr(e,t),Vt=u):Hr(e,t),hn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(re=t,d=t.child;d!==null;){for(p=re=d;re!==null;){switch(h=re,m=h.child,h.tag){case 0:case 11:case 14:case 15:fa(4,h,h.return);break;case 1:Ji(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){st(n,r,g)}}break;case 5:Ji(h,h.return);break;case 22:if(h.memoizedState!==null){Zg(p);continue}}m!==null?(m.return=h,re=m):Zg(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fy("display",o))}catch(g){st(t,t.return,g)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){st(t,t.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Hr(e,t),hn(t),n&4&&Jg(t);break;case 21:break;default:Hr(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hx(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_a(s,""),n.flags&=-33);var i=Yg(t);Yh(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Yg(t);Qh(t,a,o);break;default:throw Error(V(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mk(t,e,r){re=t,mx(t)}function mx(t,e,r){for(var n=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Rl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Rl;var u=Vt;if(Rl=o,(Vt=l)&&!u)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?ev(s):l!==null?(l.return=o,re=l):ev(s);for(;i!==null;)re=i,mx(i),i=i.sibling;re=s,Rl=a,Vt=u}Xg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):Xg(t)}}function Xg(t){for(;re!==null;){var e=re;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||mu(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Vt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Gr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lg(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Lg(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ka(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Vt||e.flags&512&&Gh(e)}catch(h){st(e,e.return,h)}}if(e===t){re=null;break}if(r=e.sibling,r!==null){r.return=e.return,re=r;break}re=e.return}}function Zg(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var r=e.sibling;if(r!==null){r.return=e.return,re=r;break}re=e.return}}function ev(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{mu(4,e)}catch(l){st(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){st(e,s,l)}}var i=e.return;try{Gh(e)}catch(l){st(e,i,l)}break;case 5:var o=e.return;try{Gh(e)}catch(l){st(e,o,l)}}}catch(l){st(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var $k=Math.ceil,$c=qn.ReactCurrentDispatcher,Bp=qn.ReactCurrentOwner,Mr=qn.ReactCurrentBatchConfig,Oe=0,kt=null,dt=null,Lt=0,yr=0,Xi=Ls(0),wt=0,Ma=null,hi=0,gu=0,zp=0,pa=null,or=null,Wp=0,ko=1/0,Pn=null,Uc=!1,Jh=null,Cs=null,Al=!1,ys=null,Fc=0,ma=0,Xh=null,ac=-1,lc=0;function Zt(){return Oe&6?at():ac!==-1?ac:ac=at()}function ks(t){return t.mode&1?Oe&2&&Lt!==0?Lt&-Lt:bk.transition!==null?(lc===0&&(lc=Zy()),lc):(t=Me,t!==0||(t=window.event,t=t===void 0?16:ow(t.type)),t):1}function on(t,e,r,n){if(50<ma)throw ma=0,Xh=null,Error(V(185));nl(t,r,n),(!(Oe&2)||t!==kt)&&(t===kt&&(!(Oe&2)&&(gu|=r),wt===4&&us(t,Lt)),dr(t,n),r===1&&Oe===0&&!(e.mode&1)&&(ko=at()+500,hu&&Ms()))}function dr(t,e){var r=t.callbackNode;bC(t,e);var n=Sc(t,t===kt?Lt:0);if(n===0)r!==null&&cg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&cg(r),e===1)t.tag===0?xk(tv.bind(null,t)):Cw(tv.bind(null,t)),gk(function(){!(Oe&6)&&Ms()}),r=null;else{switch(ew(n)){case 1:r=mp;break;case 4:r=Jy;break;case 16:r=_c;break;case 536870912:r=Xy;break;default:r=_c}r=Sx(r,gx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gx(t,e){if(ac=-1,lc=0,Oe&6)throw Error(V(327));var r=t.callbackNode;if(io()&&t.callbackNode!==r)return null;var n=Sc(t,t===kt?Lt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bc(t,n);else{e=n;var s=Oe;Oe|=2;var i=yx();(kt!==t||Lt!==e)&&(Pn=null,ko=at()+500,oi(t,e));do try{Bk();break}catch(a){vx(t,a)}while(!0);jp(),$c.current=i,Oe=s,dt!==null?e=0:(kt=null,Lt=0,e=wt)}if(e!==0){if(e===2&&(s=Ch(t),s!==0&&(n=s,e=Zh(t,s))),e===1)throw r=Ma,oi(t,0),us(t,n),dr(t,at()),r;if(e===6)us(t,n);else{if(s=t.current.alternate,!(n&30)&&!Uk(s)&&(e=Bc(t,n),e===2&&(i=Ch(t),i!==0&&(n=i,e=Zh(t,i))),e===1))throw r=Ma,oi(t,0),us(t,n),dr(t,at()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(V(345));case 2:qs(t,or,Pn);break;case 3:if(us(t,n),(n&130023424)===n&&(e=Wp+500-at(),10<e)){if(Sc(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ah(qs.bind(null,t,or,Pn),e);break}qs(t,or,Pn);break;case 4:if(us(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-sn(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$k(n/1960))-n,10<n){t.timeoutHandle=Ah(qs.bind(null,t,or,Pn),n);break}qs(t,or,Pn);break;case 5:qs(t,or,Pn);break;default:throw Error(V(329))}}}return dr(t,at()),t.callbackNode===r?gx.bind(null,t):null}function Zh(t,e){var r=pa;return t.current.memoizedState.isDehydrated&&(oi(t,e).flags|=256),t=Bc(t,e),t!==2&&(e=or,or=r,e!==null&&ef(e)),t}function ef(t){or===null?or=t:or.push.apply(or,t)}function Uk(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!an(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(t,e){for(e&=~zp,e&=~gu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-sn(e),n=1<<r;t[r]=-1,e&=~n}}function tv(t){if(Oe&6)throw Error(V(327));io();var e=Sc(t,0);if(!(e&1))return dr(t,at()),null;var r=Bc(t,e);if(t.tag!==0&&r===2){var n=Ch(t);n!==0&&(e=n,r=Zh(t,n))}if(r===1)throw r=Ma,oi(t,0),us(t,e),dr(t,at()),r;if(r===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qs(t,or,Pn),dr(t,at()),null}function Hp(t,e){var r=Oe;Oe|=1;try{return t(e)}finally{Oe=r,Oe===0&&(ko=at()+500,hu&&Ms())}}function fi(t){ys!==null&&ys.tag===0&&!(Oe&6)&&io();var e=Oe;Oe|=1;var r=Mr.transition,n=Me;try{if(Mr.transition=null,Me=1,t)return t()}finally{Me=n,Mr.transition=r,Oe=e,!(Oe&6)&&Ms()}}function Vp(){yr=Xi.current,qe(Xi)}function oi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,mk(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(Cp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jc();break;case 3:Eo(),qe(cr),qe(qt),Ip();break;case 5:Ap(n);break;case 4:Eo();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:Np(n.type._context);break;case 22:case 23:Vp()}r=r.return}if(kt=t,dt=t=Ts(t.current,null),Lt=yr=e,wt=0,Ma=null,zp=gu=hi=0,or=pa=null,Js!==null){for(e=0;e<Js.length;e++)if(r=Js[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Js=null}return t}function vx(t,e){do{var r=dt;try{if(jp(),sc.current=Mc,Lc){for(var n=et.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lc=!1}if(di=0,St=yt=et=null,ha=!1,Ia=0,Bp.current=null,r===null||r.return===null){wt=1,Ma=e,dt=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=zg(o);if(m!==null){m.flags&=-257,Wg(m,o,a,i,e),m.mode&1&&Bg(i,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){Bg(i,u,e),qp();break e}l=Error(V(426))}}else if(Qe&&a.mode&1){var b=zg(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Wg(b,o,a,i,e),kp(Co(l,a));break e}}i=l=Co(l,a),wt!==4&&(wt=2),pa===null?pa=[i]:pa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=ex(i,l,e);Dg(i,w);break e;case 1:a=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cs===null||!Cs.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=tx(i,a,e);Dg(i,_);break e}}i=i.return}while(i!==null)}xx(r)}catch(S){e=S,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function yx(){var t=$c.current;return $c.current=Mc,t===null?Mc:t}function qp(){(wt===0||wt===3||wt===2)&&(wt=4),kt===null||!(hi&268435455)&&!(gu&268435455)||us(kt,Lt)}function Bc(t,e){var r=Oe;Oe|=2;var n=yx();(kt!==t||Lt!==e)&&(Pn=null,oi(t,e));do try{Fk();break}catch(s){vx(t,s)}while(!0);if(jp(),Oe=r,$c.current=n,dt!==null)throw Error(V(261));return kt=null,Lt=0,wt}function Fk(){for(;dt!==null;)wx(dt)}function Bk(){for(;dt!==null&&!hC();)wx(dt)}function wx(t){var e=_x(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?xx(t):dt=e,Bp.current=null}function xx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ik(r,e),r!==null){r.flags&=32767,dt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,dt=null;return}}else if(r=Ak(r,e,yr),r!==null){dt=r;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);wt===0&&(wt=5)}function qs(t,e,r){var n=Me,s=Mr.transition;try{Mr.transition=null,Me=1,zk(t,e,r,n)}finally{Mr.transition=s,Me=n}return null}function zk(t,e,r,n){do io();while(ys!==null);if(Oe&6)throw Error(V(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(_C(t,i),t===kt&&(dt=kt=null,Lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Al||(Al=!0,Sx(_c,function(){return io(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Mr.transition,Mr.transition=null;var o=Me;Me=1;var a=Oe;Oe|=4,Bp.current=null,Lk(t,r),px(r,t),lk(Ph),Ec=!!Oh,Ph=Oh=null,t.current=r,Mk(r),fC(),Oe=a,Me=o,Mr.transition=i}else t.current=r;if(Al&&(Al=!1,ys=t,Fc=s),i=t.pendingLanes,i===0&&(Cs=null),gC(r.stateNode),dr(t,at()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Uc)throw Uc=!1,t=Jh,Jh=null,t;return Fc&1&&t.tag!==0&&io(),i=t.pendingLanes,i&1?t===Xh?ma++:(ma=0,Xh=t):ma=0,Ms(),null}function io(){if(ys!==null){var t=ew(Fc),e=Mr.transition,r=Me;try{if(Mr.transition=null,Me=16>t?16:t,ys===null)var n=!1;else{if(t=ys,ys=null,Fc=0,Oe&6)throw Error(V(331));var s=Oe;for(Oe|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:fa(8,d,i)}var p=d.child;if(p!==null)p.return=d,re=p;else for(;re!==null;){d=re;var h=d.sibling,m=d.return;if(dx(d),d===u){re=null;break}if(h!==null){h.return=m,re=h;break}re=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fa(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,re=w;break e}re=i.return}}var y=t.current;for(re=y;re!==null;){o=re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,re=x;else e:for(o=y;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mu(9,a)}}catch(S){st(a,a.return,S)}if(a===o){re=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,re=_;break e}re=a.return}}if(Oe=s,Ms(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(au,t)}catch{}n=!0}return n}finally{Me=r,Mr.transition=e}}return!1}function rv(t,e,r){e=Co(r,e),e=ex(t,e,1),t=Es(t,e,1),e=Zt(),t!==null&&(nl(t,1,e),dr(t,e))}function st(t,e,r){if(t.tag===3)rv(t,t,r);else for(;e!==null;){if(e.tag===3){rv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cs===null||!Cs.has(n))){t=Co(r,t),t=tx(e,t,1),e=Es(e,t,1),t=Zt(),e!==null&&(nl(e,1,t),dr(e,t));break}}e=e.return}}function Wk(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&r,kt===t&&(Lt&r)===r&&(wt===4||wt===3&&(Lt&130023424)===Lt&&500>at()-Wp?oi(t,0):zp|=r),dr(t,e)}function bx(t,e){e===0&&(t.mode&1?(e=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):e=1);var r=Zt();t=Bn(t,e),t!==null&&(nl(t,e,r),dr(t,r))}function Hk(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),bx(t,r)}function Vk(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(e),bx(t,r)}var _x;_x=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||cr.current)lr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return lr=!1,Rk(t,e,r);lr=!!(t.flags&131072)}else lr=!1,Qe&&e.flags&1048576&&kw(e,Pc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;oc(t,e),t=e.pendingProps;var s=bo(e,qt.current);so(e,r),s=Lp(null,e,n,t,s,r);var i=Mp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ur(n)?(i=!0,Nc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pp(e),s.updater=pu,e.stateNode=s,s._reactInternals=e,Fh(e,n,t,r),e=Wh(null,e,n,!0,i,r)):(e.tag=0,Qe&&i&&Ep(e),Jt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(oc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Kk(n),t=Gr(n,t),s){case 0:e=zh(null,e,n,t,r);break e;case 1:e=qg(null,e,n,t,r);break e;case 11:e=Hg(null,e,n,t,r);break e;case 14:e=Vg(null,e,n,Gr(n.type,t),r);break e}throw Error(V(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gr(n,s),zh(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gr(n,s),qg(t,e,n,s,r);case 3:e:{if(ix(e),t===null)throw Error(V(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Rw(t,e),Ic(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Co(Error(V(423)),e),e=Kg(t,e,n,r,s);break e}else if(n!==s){s=Co(Error(V(424)),e),e=Kg(t,e,n,r,s);break e}else for(Sr=Ss(e.stateNode.containerInfo.firstChild),Er=e,Qe=!0,tn=null,r=Ow(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_o(),n===s){e=zn(t,e,r);break e}Jt(t,e,n,r)}e=e.child}return e;case 5:return Aw(e),t===null&&Mh(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Rh(n,s)?o=null:i!==null&&Rh(n,i)&&(e.flags|=32),sx(t,e),Jt(t,e,o,r),e.child;case 6:return t===null&&Mh(e),null;case 13:return ox(t,e,r);case 4:return Rp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=So(e,null,n,r):Jt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gr(n,s),Hg(t,e,n,s,r);case 7:return Jt(t,e,e.pendingProps,r),e.child;case 8:return Jt(t,e,e.pendingProps.children,r),e.child;case 12:return Jt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(Rc,n._currentValue),n._currentValue=o,i!==null)if(an(i.value,o)){if(i.children===s.children&&!cr.current){e=zn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Mn(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),$h(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),$h(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,so(e,r),s=$r(s),n=n(s),e.flags|=1,Jt(t,e,n,r),e.child;case 14:return n=e.type,s=Gr(n,e.pendingProps),s=Gr(n.type,s),Vg(t,e,n,s,r);case 15:return rx(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gr(n,s),oc(t,e),e.tag=1,ur(n)?(t=!0,Nc(e)):t=!1,so(e,r),Zw(e,n,s),Fh(e,n,s,r),Wh(null,e,n,!0,t,r);case 19:return ax(t,e,r);case 22:return nx(t,e,r)}throw Error(V(156,e.tag))};function Sx(t,e){return Yy(t,e)}function qk(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,r,n){return new qk(t,e,r,n)}function Kp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kk(t){if(typeof t=="function")return Kp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hp)return 11;if(t===fp)return 14}return 2}function Ts(t,e){var r=t.alternate;return r===null?(r=Lr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function cc(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Kp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zi:return ai(r.children,s,i,e);case dp:o=8,s|=8;break;case uh:return t=Lr(12,r,e,s|2),t.elementType=uh,t.lanes=i,t;case dh:return t=Lr(13,r,e,s),t.elementType=dh,t.lanes=i,t;case hh:return t=Lr(19,r,e,s),t.elementType=hh,t.lanes=i,t;case Ay:return vu(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Py:o=10;break e;case Ry:o=9;break e;case hp:o=11;break e;case fp:o=14;break e;case is:o=16,n=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Lr(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ai(t,e,r,n){return t=Lr(7,t,n,e),t.lanes=r,t}function vu(t,e,r,n){return t=Lr(22,t,n,e),t.elementType=Ay,t.lanes=r,t.stateNode={isHidden:!1},t}function _d(t,e,r){return t=Lr(6,t,null,e),t.lanes=r,t}function Sd(t,e,r){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gk(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nd(0),this.expirationTimes=nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gp(t,e,r,n,s,i,o,a,l){return t=new Gk(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(i),t}function Qk(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ex(t){if(!t)return Rs;t=t._reactInternals;e:{if(xi(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var r=t.type;if(ur(r))return Ew(t,r,e)}return e}function Cx(t,e,r,n,s,i,o,a,l){return t=Gp(r,n,!0,t,s,i,o,a,l),t.context=Ex(null),r=t.current,n=Zt(),s=ks(r),i=Mn(n,s),i.callback=e??null,Es(r,i,s),t.current.lanes=s,nl(t,s,n),dr(t,n),t}function yu(t,e,r,n){var s=e.current,i=Zt(),o=ks(s);return r=Ex(r),e.context===null?e.context=r:e.pendingContext=r,e=Mn(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Es(s,e,o),t!==null&&(on(t,s,o,i),nc(t,s,o)),o}function zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Qp(t,e){nv(t,e),(t=t.alternate)&&nv(t,e)}function Yk(){return null}var kx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yp(t){this._internalRoot=t}wu.prototype.render=Yp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));yu(t,e,null,null)};wu.prototype.unmount=Yp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fi(function(){yu(null,t,null,null)}),e[Fn]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var e=nw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<cs.length&&e!==0&&e<cs[r].priority;r++);cs.splice(r,0,t),r===0&&iw(t)}};function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sv(){}function Jk(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=zc(o);i.call(u)}}var o=Cx(e,n,t,0,null,!1,!1,"",sv);return t._reactRootContainer=o,t[Fn]=o.current,Na(t.nodeType===8?t.parentNode:t),fi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=zc(l);a.call(u)}}var l=Gp(t,0,!1,null,null,!1,!1,"",sv);return t._reactRootContainer=l,t[Fn]=l.current,Na(t.nodeType===8?t.parentNode:t),fi(function(){yu(e,l,r,n)}),l}function bu(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zc(o);a.call(l)}}yu(e,o,t,s)}else o=Jk(r,e,t,s,n);return zc(o)}tw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ra(e.pendingLanes);r!==0&&(gp(e,r|1),dr(e,at()),!(Oe&6)&&(ko=at()+500,Ms()))}break;case 13:fi(function(){var n=Bn(t,1);if(n!==null){var s=Zt();on(n,t,1,s)}}),Qp(t,1)}};vp=function(t){if(t.tag===13){var e=Bn(t,134217728);if(e!==null){var r=Zt();on(e,t,134217728,r)}Qp(t,134217728)}};rw=function(t){if(t.tag===13){var e=ks(t),r=Bn(t,e);if(r!==null){var n=Zt();on(r,t,e,n)}Qp(t,e)}};nw=function(){return Me};sw=function(t,e){var r=Me;try{return Me=t,e()}finally{Me=r}};_h=function(t,e,r){switch(e){case"input":if(mh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=du(n);if(!s)throw Error(V(90));Dy(n),mh(n,s)}}}break;case"textarea":My(t,r);break;case"select":e=r.value,e!=null&&eo(t,!!r.multiple,e,!1)}};Hy=Hp;Vy=fi;var Xk={usingClientEntryPoint:!1,Events:[il,qi,du,zy,Wy,Hp]},Qo={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zk={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gy(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||Yk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{au=Il.inject(Zk),bn=Il}catch{}}Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xk;Tr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(e))throw Error(V(200));return Qk(t,e,null,r)};Tr.createRoot=function(t,e){if(!Jp(t))throw Error(V(299));var r=!1,n="",s=kx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gp(t,1,!1,null,null,r,!1,n,s),t[Fn]=e.current,Na(t.nodeType===8?t.parentNode:t),new Yp(e)};Tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=Gy(e),t=t===null?null:t.stateNode,t};Tr.flushSync=function(t){return fi(t)};Tr.hydrate=function(t,e,r){if(!xu(e))throw Error(V(200));return bu(null,t,e,!0,r)};Tr.hydrateRoot=function(t,e,r){if(!Jp(t))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=kx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Cx(e,null,t,1,r??null,s,!1,i,o),t[Fn]=e.current,Na(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new wu(e)};Tr.render=function(t,e,r){if(!xu(e))throw Error(V(200));return bu(null,t,e,!1,r)};Tr.unmountComponentAtNode=function(t){if(!xu(t))throw Error(V(40));return t._reactRootContainer?(fi(function(){bu(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Tr.unstable_batchedUpdates=Hp;Tr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!xu(r))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return bu(t,e,r,!1,n)};Tr.version="18.3.1-next-f1338f8080-20240426";function Tx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tx)}catch(t){console.error(t)}}Tx(),Ty.exports=Tr;var bi=Ty.exports;const jx=my(bi);var Nx,iv=bi;Nx=iv.createRoot,iv.hydrateRoot;const e2=1,t2=1e6;let Ed=0;function r2(){return Ed=(Ed+1)%Number.MAX_SAFE_INTEGER,Ed.toString()}const Cd=new Map,ov=t=>{if(Cd.has(t))return;const e=setTimeout(()=>{Cd.delete(t),ga({type:"REMOVE_TOAST",toastId:t})},t2);Cd.set(t,e)},n2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,e2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?ov(r):t.toasts.forEach(n=>{ov(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},uc=[];let dc={toasts:[]};function ga(t){dc=n2(dc,t),uc.forEach(e=>{e(dc)})}function s2({...t}){const e=r2(),r=s=>ga({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>ga({type:"DISMISS_TOAST",toastId:e});return ga({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function _i(){const[t,e]=f.useState(dc);return f.useEffect(()=>(uc.push(e),()=>{const r=uc.indexOf(e);r>-1&&uc.splice(r,1)}),[t]),{...t,toast:s2,dismiss:r=>ga({type:"DISMISS_TOAST",toastId:r})}}function pe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function av(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ox(...t){return e=>{let r=!1;const n=t.map(s=>{const i=av(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():av(t[s],null)}}}}function Be(...t){return f.useCallback(Ox(...t),t)}function i2(t,e){const r=f.createContext(e),n=i=>{const{children:o,...a}=i,l=f.useMemo(()=>a,Object.values(a));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function s(i){const o=f.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function Kn(t,e=[]){let r=[];function n(i,o){const a=f.createContext(o),l=r.length;r=[...r,o];const u=p=>{var w;const{scope:h,children:m,...v}=p,g=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,b=f.useMemo(()=>v,Object.values(v));return c.jsx(g.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(p,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,v=f.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>f.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,o2(s,...e)]}function o2(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function To(t){const e=l2(t),r=f.forwardRef((n,s)=>{const{children:i,...o}=n,a=f.Children.toArray(i),l=a.find(c2);if(l){const u=l.props.children,d=a.map(p=>p===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:p);return c.jsx(e,{...o,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var a2=To("Slot");function l2(t){const e=f.forwardRef((r,n)=>{const{children:s,...i}=r;if(f.isValidElement(s)){const o=d2(s),a=u2(i,s.props);return s.type!==f.Fragment&&(a.ref=n?Ox(n,o):o),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Px=Symbol("radix.slottable");function Rx(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Px,e}function c2(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Px}function u2(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function d2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Xp(t){const e=t+"CollectionProvider",[r,n]=Kn(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:w}=g,y=Q.useRef(null),x=Q.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:x,collectionRef:y,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=To(a),u=Q.forwardRef((g,b)=>{const{scope:w,children:y}=g,x=i(a,w),_=Be(b,x.collectionRef);return c.jsx(l,{ref:_,children:y})});u.displayName=a;const d=t+"CollectionItemSlot",p="data-radix-collection-item",h=To(d),m=Q.forwardRef((g,b)=>{const{scope:w,children:y,...x}=g,_=Q.useRef(null),S=Be(b,_),E=i(d,w);return Q.useEffect(()=>(E.itemMap.set(_,{ref:_,...x}),()=>void E.itemMap.delete(_))),c.jsx(h,{[p]:"",ref:S,children:y})});m.displayName=d;function v(g){const b=i(t+"CollectionConsumer",g);return Q.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((E,C)=>x.indexOf(E.ref.current)-x.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,n]}var h2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Te=h2.reduce((t,e)=>{const r=To(`Primitive.${e}`),n=f.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ax(t,e){t&&bi.flushSync(()=>t.dispatchEvent(e))}function Fr(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function f2(t,e=globalThis==null?void 0:globalThis.document){const r=Fr(t);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var p2="DismissableLayer",tf="dismissableLayer.update",m2="dismissableLayer.pointerDownOutside",g2="dismissableLayer.focusOutside",lv,Ix=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),al=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=f.useContext(Ix),[d,p]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),v=Be(e,C=>p(C)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(b),y=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=w,S=y2(C=>{const T=C.target,L=[...u.branches].some(M=>M.contains(T));!_||L||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),E=w2(C=>{const T=C.target;[...u.branches].some(M=>M.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return f2(C=>{y===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),cv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=lv)}},[d,h,r,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),cv())},[d,u]),f.useEffect(()=>{const C=()=>m({});return document.addEventListener(tf,C),()=>document.removeEventListener(tf,C)},[]),c.jsx(Te.div,{...l,ref:v,style:{pointerEvents:x?_?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,S.onPointerDownCapture)})});al.displayName=p2;var v2="DismissableLayerBranch",Dx=f.forwardRef((t,e)=>{const r=f.useContext(Ix),n=f.useRef(null),s=Be(e,n);return f.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(Te.div,{...t,ref:s})});Dx.displayName=v2;function y2(t,e=globalThis==null?void 0:globalThis.document){const r=Fr(t),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){Lx(m2,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function w2(t,e=globalThis==null?void 0:globalThis.document){const r=Fr(t),n=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!n.current&&Lx(g2,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function cv(){const t=new CustomEvent(tf);document.dispatchEvent(t)}function Lx(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Ax(s,i):s.dispatchEvent(i)}var x2=al,b2=Dx,$t=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},_2="Portal",_u=f.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,i]=f.useState(!1);$t(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jx.createPortal(c.jsx(Te.div,{...n,ref:e}),o):null});_u.displayName=_2;function S2(t,e){return f.useReducer((r,n)=>e[r][n]??r,t)}var Si=t=>{const{present:e,children:r}=t,n=E2(e),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),i=Be(n.ref,C2(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:i}):null};Si.displayName="Presence";function E2(t){const[e,r]=f.useState(),n=f.useRef(null),s=f.useRef(t),i=f.useRef("none"),o=t?"mounted":"unmounted",[a,l]=S2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Dl(n.current);i.current=a==="mounted"?u:"none"},[a]),$t(()=>{const u=n.current,d=s.current;if(d!==t){const h=i.current,m=Dl(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),$t(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=m=>{const g=Dl(n.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=m=>{m.target===e&&(i.current=Dl(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Dl(t){return(t==null?void 0:t.animationName)||"none"}function C2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var k2=ap[" useInsertionEffect ".trim().toString()]||$t;function jo({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,o]=T2({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:s;{const d=f.useRef(t!==void 0);f.useEffect(()=>{const p=d.current;p!==a&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=f.useCallback(d=>{var p;if(a){const h=j2(d)?d(t):d;h!==t&&((p=o.current)==null||p.call(o,h))}else i(d)},[a,t,i,o]);return[l,u]}function T2({defaultProp:t,onChange:e}){const[r,n]=f.useState(t),s=f.useRef(r),i=f.useRef(e);return k2(()=>{i.current=e},[e]),f.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function j2(t){return typeof t=="function"}var Mx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),N2="VisuallyHidden",Su=f.forwardRef((t,e)=>c.jsx(Te.span,{...t,ref:e,style:{...Mx,...t.style}}));Su.displayName=N2;var O2=Su,Zp="ToastProvider",[em,P2,R2]=Xp("Toast"),[$x,NM]=Kn("Toast",[R2]),[A2,Eu]=$x(Zp),Ux=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=f.useState(null),[u,d]=f.useState(0),p=f.useRef(!1),h=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Zp}\`. Expected non-empty \`string\`.`),c.jsx(em.Provider,{scope:e,children:c.jsx(A2,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(m=>m+1),[]),onToastRemove:f.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};Ux.displayName=Zp;var Fx="ToastViewport",I2=["F8"],rf="toast.viewportPause",nf="toast.viewportResume",Bx=f.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=I2,label:s="Notifications ({hotkey})",...i}=t,o=Eu(Fx,r),a=P2(r),l=f.useRef(null),u=f.useRef(null),d=f.useRef(null),p=f.useRef(null),h=Be(e,p,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;f.useEffect(()=>{const b=w=>{var x;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((x=p.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),f.useEffect(()=>{const b=l.current,w=p.current;if(v&&b&&w){const y=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(rf);w.dispatchEvent(E),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(nf);w.dispatchEvent(E),o.isClosePausedRef.current=!1}},_=E=>{!b.contains(E.relatedTarget)&&x()},S=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",y),b.addEventListener("focusout",_),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:b})=>{const y=a().map(x=>{const _=x.ref.current,S=[_,...K2(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?y.reverse():y).flat()},[a]);return f.useEffect(()=>{const b=p.current;if(b){const w=y=>{var S,E,C;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const T=document.activeElement,L=y.shiftKey;if(y.target===b&&L){(S=u.current)==null||S.focus();return}const $=g({tabbingDirection:L?"backwards":"forwards"}),X=$.findIndex(R=>R===T);kd($.slice(X+1))?y.preventDefault():L?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[a,g]),c.jsxs(b2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(sf,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});kd(b)}}),c.jsx(em.Slot,{scope:r,children:c.jsx(Te.ol,{tabIndex:-1,...i,ref:h})}),v&&c.jsx(sf,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});kd(b)}})]})});Bx.displayName=Fx;var zx="ToastFocusProxy",sf=f.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=Eu(zx,r);return c.jsx(Su,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});sf.displayName=zx;var ll="Toast",D2="toast.swipeStart",L2="toast.swipeMove",M2="toast.swipeCancel",$2="toast.swipeEnd",Wx=f.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=jo({prop:n,defaultProp:s??!0,onChange:i,caller:ll});return c.jsx(Si,{present:r||a,children:c.jsx(B2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Fr(t.onPause),onResume:Fr(t.onResume),onSwipeStart:pe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:pe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});Wx.displayName=ll;var[U2,F2]=$x(ll,{onClose(){}}),B2=f.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:m,...v}=t,g=Eu(ll,r),[b,w]=f.useState(null),y=Be(e,R=>w(R)),x=f.useRef(null),_=f.useRef(null),S=s||g.duration,E=f.useRef(0),C=f.useRef(S),T=f.useRef(0),{onToastAdd:L,onToastRemove:M}=g,J=Fr(()=>{var q;(b==null?void 0:b.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),o()}),$=f.useCallback(R=>{!R||R===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(J,R))},[J]);f.useEffect(()=>{const R=g.viewport;if(R){const q=()=>{$(C.current),u==null||u()},F=()=>{const G=new Date().getTime()-E.current;C.current=C.current-G,window.clearTimeout(T.current),l==null||l()};return R.addEventListener(rf,F),R.addEventListener(nf,q),()=>{R.removeEventListener(rf,F),R.removeEventListener(nf,q)}}},[g.viewport,S,l,u,$]),f.useEffect(()=>{i&&!g.isClosePausedRef.current&&$(S)},[i,S,g.isClosePausedRef,$]),f.useEffect(()=>(L(),()=>M()),[L,M]);const X=f.useMemo(()=>b?Yx(b):null,[b]);return g.viewport?c.jsxs(c.Fragment,{children:[X&&c.jsx(z2,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),c.jsx(U2,{scope:r,onClose:J,children:bi.createPortal(c.jsx(em.ItemSlot,{scope:r,children:c.jsx(x2,{asChild:!0,onEscapeKeyDown:pe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||J(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,R=>{R.key==="Escape"&&(a==null||a(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:pe(t.onPointerDown,R=>{R.button===0&&(x.current={x:R.clientX,y:R.clientY})}),onPointerMove:pe(t.onPointerMove,R=>{if(!x.current)return;const q=R.clientX-x.current.x,F=R.clientY-x.current.y,G=!!_.current,j=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=j?P(0,q):0,Z=j?0:P(0,F),k=R.pointerType==="touch"?10:2,W={x:z,y:Z},H={originalEvent:R,delta:W};G?(_.current=W,Ll(L2,p,H,{discrete:!1})):uv(W,g.swipeDirection,k)?(_.current=W,Ll(D2,d,H,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(q)>k||Math.abs(F)>k)&&(x.current=null)}),onPointerUp:pe(t.onPointerUp,R=>{const q=_.current,F=R.target;if(F.hasPointerCapture(R.pointerId)&&F.releasePointerCapture(R.pointerId),_.current=null,x.current=null,q){const G=R.currentTarget,j={originalEvent:R,delta:q};uv(q,g.swipeDirection,g.swipeThreshold)?Ll($2,m,j,{discrete:!0}):Ll(M2,h,j,{discrete:!0}),G.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),z2=t=>{const{__scopeToast:e,children:r,...n}=t,s=Eu(ll,e),[i,o]=f.useState(!1),[a,l]=f.useState(!1);return V2(()=>o(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(_u,{asChild:!0,children:c.jsx(Su,{...n,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",r]})})})},W2="ToastTitle",Hx=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Te.div,{...n,ref:e})});Hx.displayName=W2;var H2="ToastDescription",Vx=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Te.div,{...n,ref:e})});Vx.displayName=H2;var qx="ToastAction",Kx=f.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(Qx,{altText:r,asChild:!0,children:c.jsx(tm,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qx}\`. Expected non-empty \`string\`.`),null)});Kx.displayName=qx;var Gx="ToastClose",tm=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=F2(Gx,r);return c.jsx(Qx,{asChild:!0,children:c.jsx(Te.button,{type:"button",...n,ref:e,onClick:pe(t.onClick,s.onClose)})})});tm.displayName=Gx;var Qx=f.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return c.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Yx(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),q2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Yx(n))}}),e}function Ll(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Ax(s,i):s.dispatchEvent(i)}var uv=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function V2(t=()=>{}){const e=Fr(t);$t(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function q2(t){return t.nodeType===t.ELEMENT_NODE}function K2(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function kd(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var G2=Ux,Jx=Bx,Xx=Wx,Zx=Hx,e1=Vx,t1=Kx,r1=tm;function n1(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=n1(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function s1(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=n1(t))&&(n&&(n+=" "),n+=e);return n}const dv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hv=s1,rm=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return hv(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],p=i==null?void 0:i[u];if(d===null)return null;const h=dv(d)||dv(p);return s[u][h]}),a=r&&Object.entries(r).reduce((u,d)=>{let[p,h]=d;return h===void 0||(u[p]=h),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:p,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...u,p,h]:u},[]);return hv(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i1=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>f.createElement("svg",{ref:l,...Y2,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:i1("lucide",s),...a},[...o.map(([u,d])=>f.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const r=f.forwardRef(({className:n,...s},i)=>f.createElement(J2,{ref:i,iconNode:e,className:i1(`lucide-${Q2(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=Ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ee("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Ee("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Ee("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Ee("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Ee("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Ee("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=Ee("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),sm="-",vT=t=>{const e=wT(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(sm);return a[0]===""&&a.length!==1&&a.shift(),m1(a,e)||yT(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},m1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?m1(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(sm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},gv=/^\[(.+)\]$/,yT=t=>{if(gv.test(t)){const e=gv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},wT=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return bT(Object.entries(t.classGroups),r).forEach(([i,o])=>{cf(o,n,i,e)}),n},cf=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:vv(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(xT(s)){cf(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{cf(o,vv(e,i),r,n)})})},vv=(t,e)=>{let r=t;return e.split(sm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},xT=t=>t.isThemeGetter,bT=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,s]}):t,_T=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},g1="!",ST=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,p;for(let b=0;b<a.length;b++){let w=a[b];if(u===0){if(w===s&&(n||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(w==="/"){p=b;continue}}w==="["?u++:w==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(g1),v=m?h.substring(1):h,g=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:o}):o},ET=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},CT=t=>({cache:_T(t.cacheSize),parseClassName:ST(t),...vT(t)}),kT=/\s+/,TT=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(kT);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,g=n(v?h.substring(0,m):h);if(!g){if(!v){a=u+(a.length>0?" "+a:a);continue}if(g=n(h),!g){a=u+(a.length>0?" "+a:a);continue}v=!1}const b=ET(d).join(":"),w=p?b+g1:b,y=w+g;if(i.includes(y))continue;i.push(y);const x=s(g,v);for(let _=0;_<x.length;++_){const S=x[_];i.push(w+S)}a=u+(a.length>0?" "+a:a)}return a};function jT(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=v1(e))&&(n&&(n+=" "),n+=r);return n}const v1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=v1(t[n]))&&(r&&(r+=" "),r+=e);return r};function NT(t,...e){let r,n,s,i=o;function o(l){const u=e.reduce((d,p)=>p(d),t());return r=CT(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=TT(l,r);return s(l,d),d}return function(){return i(jT.apply(null,arguments))}}const He=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},y1=/^\[(?:([a-z-]+):)?(.+)\]$/i,OT=/^\d+\/\d+$/,PT=new Set(["px","full","screen"]),RT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nn=t=>oo(t)||PT.has(t)||OT.test(t),Zn=t=>Lo(t,"length",HT),oo=t=>!!t&&!Number.isNaN(Number(t)),Td=t=>Lo(t,"number",oo),Yo=t=>!!t&&Number.isInteger(Number(t)),MT=t=>t.endsWith("%")&&oo(t.slice(0,-1)),Ce=t=>y1.test(t),es=t=>RT.test(t),$T=new Set(["length","size","percentage"]),UT=t=>Lo(t,$T,w1),FT=t=>Lo(t,"position",w1),BT=new Set(["image","url"]),zT=t=>Lo(t,BT,qT),WT=t=>Lo(t,"",VT),Jo=()=>!0,Lo=(t,e,r)=>{const n=y1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},HT=t=>AT.test(t)&&!IT.test(t),w1=()=>!1,VT=t=>DT.test(t),qT=t=>LT.test(t),KT=()=>{const t=He("colors"),e=He("spacing"),r=He("blur"),n=He("brightness"),s=He("borderColor"),i=He("borderRadius"),o=He("borderSpacing"),a=He("borderWidth"),l=He("contrast"),u=He("grayscale"),d=He("hueRotate"),p=He("invert"),h=He("gap"),m=He("gradientColorStops"),v=He("gradientColorStopPositions"),g=He("inset"),b=He("margin"),w=He("opacity"),y=He("padding"),x=He("saturate"),_=He("scale"),S=He("sepia"),E=He("skew"),C=He("space"),T=He("translate"),L=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",Ce,e],$=()=>[Ce,e],X=()=>["",Nn,Zn],R=()=>["auto",oo,Ce],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",Ce],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[oo,Ce];return{cacheSize:500,separator:":",theme:{colors:[Jo],spacing:[Nn,Zn],blur:["none","",es,Ce],brightness:Z(),borderColor:[t],borderRadius:["none","","full",es,Ce],borderSpacing:$(),borderWidth:X(),contrast:Z(),grayscale:P(),hueRotate:Z(),invert:P(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[MT,Zn],inset:J(),margin:J(),opacity:Z(),padding:$(),saturate:Z(),scale:Z(),sepia:P(),skew:Z(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Ce]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yo,Ce]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Yo,Ce]}],"grid-cols":[{"grid-cols":[Jo]}],"col-start-end":[{col:["auto",{span:["full",Yo,Ce]},Ce]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Jo]}],"row-start-end":[{row:["auto",{span:[Yo,Ce]},Ce]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Zn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Td]}],"font-family":[{font:[Jo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",oo,Td]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nn,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nn,Zn]}],"underline-offset":[{"underline-offset":["auto",Nn,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),FT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Nn,Ce]}],"outline-w":[{outline:[Nn,Zn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Nn,Zn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,WT]}],"shadow-color":[{shadow:[Jo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",es,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Yo,Ce]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Nn,Zn,Td]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},GT=NT(KT);function Se(...t){return GT(s1(t))}const QT=G2,x1=f.forwardRef(({className:t,...e},r)=>c.jsx(Jx,{ref:r,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));x1.displayName=Jx.displayName;const YT=rm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),b1=f.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(Xx,{ref:n,className:Se(YT({variant:e}),t),...r}));b1.displayName=Xx.displayName;const JT=f.forwardRef(({className:t,...e},r)=>c.jsx(t1,{ref:r,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));JT.displayName=t1.displayName;const _1=f.forwardRef(({className:t,...e},r)=>c.jsx(r1,{ref:r,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(ku,{className:"h-4 w-4"})}));_1.displayName=r1.displayName;const S1=f.forwardRef(({className:t,...e},r)=>c.jsx(Zx,{ref:r,className:Se("text-sm font-semibold",t),...e}));S1.displayName=Zx.displayName;const E1=f.forwardRef(({className:t,...e},r)=>c.jsx(e1,{ref:r,className:Se("text-sm opacity-90",t),...e}));E1.displayName=e1.displayName;function XT(){const{toasts:t}=_i();return c.jsxs(QT,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return c.jsxs(b1,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(S1,{children:r}),n&&c.jsx(E1,{children:n})]}),s,c.jsx(_1,{})]},e)}),c.jsx(x1,{})]})}var yv=["light","dark"],ZT="(prefers-color-scheme: dark)",ej=f.createContext(void 0),tj={setTheme:t=>{},themes:[]},rj=()=>{var t;return(t=f.useContext(ej))!=null?t:tj};f.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=s?yv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,g=!1,b=!0)=>{let w=o?o[v]:v,y=g?v+"|| ''":`'${w}'`,x="";return s&&b&&!g&&yv.includes(v)&&(x+=`d.style.colorScheme = '${v}';`),r==="class"?g||w?x+=`c.add(${y})`:x+="null":w&&(x+=`d[s](n,${y})`),x},m=t?`!function(){${d}${h(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${ZT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${p}}catch(t){}}();`;return f.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var nj=t=>{switch(t){case"success":return oj;case"info":return lj;case"warning":return aj;case"error":return cj;default:return null}},sj=Array(12).fill(0),ij=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},sj.map((r,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),oj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),aj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uj=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dj=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},uf=1,hj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:uf++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,i,o=n.then(async l=>{if(i=["resolve",l],Q.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(pj(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||uf++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ir=new hj,fj=(t,e)=>{let r=(e==null?void 0:e.id)||uf++;return ir.addToast({title:t,...e,id:r}),r},pj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",mj=fj,gj=()=>ir.toasts,vj=()=>ir.getActiveToasts();Object.assign(mj,{success:ir.success,info:ir.info,warning:ir.warning,error:ir.error,custom:ir.custom,message:ir.message,promise:ir.promise,dismiss:ir.dismiss,loading:ir.loading},{getHistory:gj,getToasts:vj});function yj(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}yj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ml(t){return t.label!==void 0}var wj=3,xj="32px",bj="16px",wv=4e3,_j=356,Sj=14,Ej=20,Cj=200;function Vr(...t){return t.filter(Boolean).join(" ")}function kj(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var Tj=t=>{var e,r,n,s,i,o,a,l,u,d,p;let{invert:h,toast:m,unstyled:v,interacting:g,setHeights:b,visibleToasts:w,heights:y,index:x,toasts:_,expanded:S,removeToast:E,defaultRichColors:C,closeButton:T,style:L,cancelButtonStyle:M,actionButtonStyle:J,className:$="",descriptionClassName:X="",duration:R,position:q,gap:F,loadingIcon:G,expandByDefault:j,classNames:P,icons:z,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:k}=t,[W,H]=Q.useState(null),[Y,te]=Q.useState(null),[A,ne]=Q.useState(!1),[ve,oe]=Q.useState(!1),[se,he]=Q.useState(!1),[Ie,xt]=Q.useState(!1),[ft,pt]=Q.useState(!1),[fr,rr]=Q.useState(0),[Nr,kn]=Q.useState(0),pr=Q.useRef(m.duration||R||wv),Br=Q.useRef(null),Kt=Q.useRef(null),Tn=x===0,nr=x+1<=w,lt=m.type,Tt=m.dismissible!==!1,K=m.className||"",ae=m.descriptionClassName||"",le=Q.useMemo(()=>y.findIndex(ue=>ue.toastId===m.id)||0,[y,m.id]),ke=Q.useMemo(()=>{var ue;return(ue=m.closeButton)!=null?ue:T},[m.closeButton,T]),it=Q.useMemo(()=>m.duration||R||wv,[m.duration,R]),jt=Q.useRef(0),Ye=Q.useRef(0),Je=Q.useRef(0),Ut=Q.useRef(null),[mr,zr]=q.split("-"),Gt=Q.useMemo(()=>y.reduce((ue,Ne,Re)=>Re>=le?ue:ue+Ne.height,0),[y,le]),Wr=dj(),Jn=m.invert||h,sr=lt==="loading";Ye.current=Q.useMemo(()=>le*F+Gt,[le,Gt]),Q.useEffect(()=>{pr.current=it},[it]),Q.useEffect(()=>{ne(!0)},[]),Q.useEffect(()=>{let ue=Kt.current;if(ue){let Ne=ue.getBoundingClientRect().height;return kn(Ne),b(Re=>[{toastId:m.id,height:Ne,position:m.position},...Re]),()=>b(Re=>Re.filter(Nt=>Nt.toastId!==m.id))}},[b,m.id]),Q.useLayoutEffect(()=>{if(!A)return;let ue=Kt.current,Ne=ue.style.height;ue.style.height="auto";let Re=ue.getBoundingClientRect().height;ue.style.height=Ne,kn(Re),b(Nt=>Nt.find(O=>O.toastId===m.id)?Nt.map(O=>O.toastId===m.id?{...O,height:Re}:O):[{toastId:m.id,height:Re,position:m.position},...Nt])},[A,m.title,m.description,b,m.id]);let mt=Q.useCallback(()=>{oe(!0),rr(Ye.current),b(ue=>ue.filter(Ne=>Ne.toastId!==m.id)),setTimeout(()=>{E(m)},Cj)},[m,E,b,Ye]);Q.useEffect(()=>{if(m.promise&&lt==="loading"||m.duration===1/0||m.type==="loading")return;let ue;return S||g||k&&Wr?(()=>{if(Je.current<jt.current){let Ne=new Date().getTime()-jt.current;pr.current=pr.current-Ne}Je.current=new Date().getTime()})():pr.current!==1/0&&(jt.current=new Date().getTime(),ue=setTimeout(()=>{var Ne;(Ne=m.onAutoClose)==null||Ne.call(m,m),mt()},pr.current)),()=>clearTimeout(ue)},[S,g,m,lt,k,Wr,mt]),Q.useEffect(()=>{m.delete&&mt()},[mt,m.delete]);function jn(){var ue,Ne,Re;return z!=null&&z.loading?Q.createElement("div",{className:Vr(P==null?void 0:P.loader,(ue=m==null?void 0:m.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":lt==="loading"},z.loading):G?Q.createElement("div",{className:Vr(P==null?void 0:P.loader,(Ne=m==null?void 0:m.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":lt==="loading"},G):Q.createElement(ij,{className:Vr(P==null?void 0:P.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader),visible:lt==="loading"})}return Q.createElement("li",{tabIndex:0,ref:Kt,className:Vr($,K,P==null?void 0:P.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[lt],(r=m==null?void 0:m.classNames)==null?void 0:r[lt]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:C,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":A,"data-promise":!!m.promise,"data-swiped":ft,"data-removed":ve,"data-visible":nr,"data-y-position":mr,"data-x-position":zr,"data-index":x,"data-front":Tn,"data-swiping":se,"data-dismissible":Tt,"data-type":lt,"data-invert":Jn,"data-swipe-out":Ie,"data-swipe-direction":Y,"data-expanded":!!(S||j&&A),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${ve?fr:Ye.current}px`,"--initial-height":j?"auto":`${Nr}px`,...L,...m.style},onDragEnd:()=>{he(!1),H(null),Ut.current=null},onPointerDown:ue=>{sr||!Tt||(Br.current=new Date,rr(Ye.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(he(!0),Ut.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Ne,Re,Nt;if(Ie||!Tt)return;Ut.current=null;let O=Number(((ue=Kt.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ot=Number(((Ne=Kt.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ot=new Date().getTime()-((Re=Br.current)==null?void 0:Re.getTime()),bt=W==="x"?O:Ot,B=Math.abs(bt)/ot;if(Math.abs(bt)>=Ej||B>.11){rr(Ye.current),(Nt=m.onDismiss)==null||Nt.call(m,m),te(W==="x"?O>0?"right":"left":Ot>0?"down":"up"),mt(),xt(!0),pt(!1);return}he(!1),H(null)},onPointerMove:ue=>{var Ne,Re,Nt,O;if(!Ut.current||!Tt||((Ne=window.getSelection())==null?void 0:Ne.toString().length)>0)return;let Ot=ue.clientY-Ut.current.y,ot=ue.clientX-Ut.current.x,bt=(Re=t.swipeDirections)!=null?Re:kj(q);!W&&(Math.abs(ot)>1||Math.abs(Ot)>1)&&H(Math.abs(ot)>Math.abs(Ot)?"x":"y");let B={x:0,y:0};W==="y"?(bt.includes("top")||bt.includes("bottom"))&&(bt.includes("top")&&Ot<0||bt.includes("bottom")&&Ot>0)&&(B.y=Ot):W==="x"&&(bt.includes("left")||bt.includes("right"))&&(bt.includes("left")&&ot<0||bt.includes("right")&&ot>0)&&(B.x=ot),(Math.abs(B.x)>0||Math.abs(B.y)>0)&&pt(!0),(Nt=Kt.current)==null||Nt.style.setProperty("--swipe-amount-x",`${B.x}px`),(O=Kt.current)==null||O.style.setProperty("--swipe-amount-y",`${B.y}px`)}},ke&&!m.jsx?Q.createElement("button",{"aria-label":Z,"data-disabled":sr,"data-close-button":!0,onClick:sr||!Tt?()=>{}:()=>{var ue;mt(),(ue=m.onDismiss)==null||ue.call(m,m)},className:Vr(P==null?void 0:P.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=z==null?void 0:z.close)!=null?i:uj):null,m.jsx||f.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Q.createElement(Q.Fragment,null,lt||m.icon||m.promise?Q.createElement("div",{"data-icon":"",className:Vr(P==null?void 0:P.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||jn():null,m.type!=="loading"?m.icon||(z==null?void 0:z[lt])||nj(lt):null):null,Q.createElement("div",{"data-content":"",className:Vr(P==null?void 0:P.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},Q.createElement("div",{"data-title":"",className:Vr(P==null?void 0:P.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?Q.createElement("div",{"data-description":"",className:Vr(X,ae,P==null?void 0:P.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),f.isValidElement(m.cancel)?m.cancel:m.cancel&&Ml(m.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||M,onClick:ue=>{var Ne,Re;Ml(m.cancel)&&Tt&&((Re=(Ne=m.cancel).onClick)==null||Re.call(Ne,ue),mt())},className:Vr(P==null?void 0:P.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,f.isValidElement(m.action)?m.action:m.action&&Ml(m.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||J,onClick:ue=>{var Ne,Re;Ml(m.action)&&((Re=(Ne=m.action).onClick)==null||Re.call(Ne,ue),!ue.defaultPrevented&&mt())},className:Vr(P==null?void 0:P.actionButton,(p=m==null?void 0:m.classNames)==null?void 0:p.actionButton)},m.action.label):null))};function xv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function jj(t,e){let r={};return[t,e].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?bj:xj;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=a:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(a)}),r}var Nj=f.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:p,duration:h,style:m,visibleToasts:v=wj,toastOptions:g,dir:b=xv(),gap:w=Sj,loadingIcon:y,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[E,C]=Q.useState([]),T=Q.useMemo(()=>Array.from(new Set([n].concat(E.filter(k=>k.position).map(k=>k.position)))),[E,n]),[L,M]=Q.useState([]),[J,$]=Q.useState(!1),[X,R]=Q.useState(!1),[q,F]=Q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=Q.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=Q.useRef(null),z=Q.useRef(!1),Z=Q.useCallback(k=>{C(W=>{var H;return(H=W.find(Y=>Y.id===k.id))!=null&&H.delete||ir.dismiss(k.id),W.filter(({id:Y})=>Y!==k.id)})},[]);return Q.useEffect(()=>ir.subscribe(k=>{if(k.dismiss){C(W=>W.map(H=>H.id===k.id?{...H,delete:!0}:H));return}setTimeout(()=>{jx.flushSync(()=>{C(W=>{let H=W.findIndex(Y=>Y.id===k.id);return H!==-1?[...W.slice(0,H),{...W[H],...k},...W.slice(H+1)]:[k,...W]})})})}),[]),Q.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:W})=>{F(W?"dark":"light")})}catch{k.addListener(({matches:H})=>{try{F(H?"dark":"light")}catch(Y){console.error(Y)}})}},[d]),Q.useEffect(()=>{E.length<=1&&$(!1)},[E]),Q.useEffect(()=>{let k=W=>{var H,Y;s.every(te=>W[te]||W.code===te)&&($(!0),(H=G.current)==null||H.focus()),W.code==="Escape"&&(document.activeElement===G.current||(Y=G.current)!=null&&Y.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[s]),Q.useEffect(()=>{if(G.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,z.current=!1)}},[G.current]),Q.createElement("section",{ref:e,"aria-label":`${_} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((k,W)=>{var H;let[Y,te]=k.split("-");return E.length?Q.createElement("ol",{key:k,dir:b==="auto"?xv():b,tabIndex:-1,ref:G,className:a,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Y,"data-lifted":J&&E.length>1&&!i,"data-x-position":te,style:{"--front-toast-height":`${((H=L[0])==null?void 0:H.height)||0}px`,"--width":`${_j}px`,"--gap":`${w}px`,...m,...jj(l,u)},onBlur:A=>{z.current&&!A.currentTarget.contains(A.relatedTarget)&&(z.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||z.current||(z.current=!0,P.current=A.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{X||$(!1)},onDragEnd:()=>$(!1),onPointerDown:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},E.filter(A=>!A.position&&W===0||A.position===k).map((A,ne)=>{var ve,oe;return Q.createElement(Tj,{key:A.id,icons:x,index:ne,toast:A,defaultRichColors:p,duration:(ve=g==null?void 0:g.duration)!=null?ve:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(oe=g==null?void 0:g.closeButton)!=null?oe:o,interacting:X,position:k,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Z,toasts:E.filter(se=>se.position==A.position),heights:L.filter(se=>se.position==A.position),setHeights:M,expandByDefault:i,gap:w,loadingIcon:y,expanded:J,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const Oj=({...t})=>{const{theme:e="system"}=rj();return c.jsx(Nj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Pj=ap[" useId ".trim().toString()]||(()=>{}),Rj=0;function js(t){const[e,r]=f.useState(Pj());return $t(()=>{t||r(n=>n??String(Rj++))},[t]),t||(e?`radix-${e}`:"")}const Aj=["top","right","bottom","left"],As=Math.min,wr=Math.max,Hc=Math.round,$l=Math.floor,Sn=t=>({x:t,y:t}),Ij={left:"right",right:"left",bottom:"top",top:"bottom"},Dj={start:"end",end:"start"};function df(t,e,r){return wr(t,As(e,r))}function Hn(t,e){return typeof t=="function"?t(e):t}function Vn(t){return t.split("-")[0]}function Mo(t){return t.split("-")[1]}function im(t){return t==="x"?"y":"x"}function om(t){return t==="y"?"height":"width"}const Lj=new Set(["top","bottom"]);function xn(t){return Lj.has(Vn(t))?"y":"x"}function am(t){return im(xn(t))}function Mj(t,e,r){r===void 0&&(r=!1);const n=Mo(t),s=am(t),i=om(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vc(o)),[o,Vc(o)]}function $j(t){const e=Vc(t);return[hf(t),e,hf(e)]}function hf(t){return t.replace(/start|end/g,e=>Dj[e])}const bv=["left","right"],_v=["right","left"],Uj=["top","bottom"],Fj=["bottom","top"];function Bj(t,e,r){switch(t){case"top":case"bottom":return r?e?_v:bv:e?bv:_v;case"left":case"right":return e?Uj:Fj;default:return[]}}function zj(t,e,r,n){const s=Mo(t);let i=Bj(Vn(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(hf)))),i}function Vc(t){return t.replace(/left|right|bottom|top/g,e=>Ij[e])}function Wj(t){return{top:0,right:0,bottom:0,left:0,...t}}function C1(t){return typeof t!="number"?Wj(t):{top:t,right:t,bottom:t,left:t}}function qc(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Sv(t,e,r){let{reference:n,floating:s}=t;const i=xn(e),o=am(e),a=om(o),l=Vn(e),u=i==="y",d=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:p};break;case"left":m={x:n.x-s.width,y:p};break;default:m={x:n.x,y:n.y}}switch(Mo(e)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Hj=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=Sv(u,n,l),h=n,m={},v=0;for(let g=0;g<a.length;g++){const{name:b,fn:w}=a[g],{x:y,y:x,data:_,reset:S}=await w({x:d,y:p,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,p=x??p,m={...m,[b]:{...m[b],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:p}=Sv(u,h,l)),g=-1)}return{x:d,y:p,placement:h,strategy:s,middlewareData:m}};async function Ua(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:m=0}=Hn(e,t),v=C1(m),b=a[h?p==="floating"?"reference":"floating":p],w=qc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=p==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},S=qc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(w.top-S.top+v.top)/_.y,bottom:(S.bottom-w.bottom+v.bottom)/_.y,left:(w.left-S.left+v.left)/_.x,right:(S.right-w.right+v.right)/_.x}}const Vj=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Hn(t,e)||{};if(u==null)return{};const p=C1(d),h={x:r,y:n},m=am(s),v=om(m),g=await o.getDimensions(u),b=m==="y",w=b?"top":"left",y=b?"bottom":"right",x=b?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[m]-h[m]-i.floating[v],S=h[m]-i.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=E?E[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[x]||i.floating[v]);const T=_/2-S/2,L=C/2-g[v]/2-1,M=As(p[w],L),J=As(p[y],L),$=M,X=C-g[v]-J,R=C/2-g[v]/2+T,q=df($,R,X),F=!l.arrow&&Mo(s)!=null&&R!==q&&i.reference[v]/2-(R<$?M:J)-g[v]/2<0,G=F?R<$?R-$:R-X:0;return{[m]:h[m]+G,data:{[m]:q,centerOffset:R-q-G,...F&&{alignmentOffset:G}},reset:F}}}),qj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Hn(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Vn(s),y=xn(a),x=Vn(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=h||(x||!g?[Vc(a)]:$j(a)),E=v!=="none";!h&&E&&S.push(...zj(a,g,v,_));const C=[a,...S],T=await Ua(e,b),L=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&L.push(T[w]),p){const R=Mj(s,o,_);L.push(T[R[0]],T[R[1]])}if(M=[...M,{placement:s,overflows:L}],!L.every(R=>R<=0)){var J,$;const R=(((J=i.flip)==null?void 0:J.index)||0)+1,q=C[R];if(q&&(!(p==="alignment"?y!==xn(q):!1)||M.every(j=>j.overflows[0]>0&&xn(j.placement)===y)))return{data:{index:R,overflows:M},reset:{placement:q}};let F=($=M.filter(G=>G.overflows[0]<=0).sort((G,j)=>G.overflows[1]-j.overflows[1])[0])==null?void 0:$.placement;if(!F)switch(m){case"bestFit":{var X;const G=(X=M.filter(j=>{if(E){const P=xn(j.placement);return P===y||P==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(P=>P>0).reduce((P,z)=>P+z,0)]).sort((j,P)=>j[1]-P[1])[0])==null?void 0:X[0];G&&(F=G);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function Ev(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Cv(t){return Aj.some(e=>t[e]>=0)}const Kj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Hn(t,e);switch(n){case"referenceHidden":{const i=await Ua(e,{...s,elementContext:"reference"}),o=Ev(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Cv(o)}}}case"escaped":{const i=await Ua(e,{...s,altBoundary:!0}),o=Ev(i,r.floating);return{data:{escapedOffsets:o,escaped:Cv(o)}}}default:return{}}}}},k1=new Set(["left","top"]);async function Gj(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Vn(r),a=Mo(r),l=xn(r)==="y",u=k1.has(o)?-1:1,d=i&&l?-1:1,p=Hn(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Qj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Gj(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Yj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:w,y}=b;return{x:w,y}}},...l}=Hn(t,e),u={x:r,y:n},d=await Ua(e,l),p=xn(Vn(s)),h=im(p);let m=u[h],v=u[p];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=m+d[b],x=m-d[w];m=df(y,m,x)}if(o){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",y=v+d[b],x=v-d[w];v=df(y,v,x)}const g=a.fn({...e,[h]:m,[p]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[p]:o}}}}}},Jj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Hn(t,e),d={x:r,y:n},p=xn(s),h=im(p);let m=d[h],v=d[p];const g=Hn(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=h==="y"?"height":"width",_=i.reference[h]-i.floating[x]+b.mainAxis,S=i.reference[h]+i.reference[x]-b.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var w,y;const x=h==="y"?"width":"height",_=k1.has(Vn(s)),S=i.reference[p]-i.floating[x]+(_&&((w=o.offset)==null?void 0:w[p])||0)+(_?0:b.crossAxis),E=i.reference[p]+i.reference[x]+(_?0:((y=o.offset)==null?void 0:y[p])||0)-(_?b.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[h]:m,[p]:v}}}},Xj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Hn(t,e),d=await Ua(e,u),p=Vn(s),h=Mo(s),m=xn(s)==="y",{width:v,height:g}=i.floating;let b,w;p==="top"||p==="bottom"?(b=p,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,b=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,x=v-d.left-d.right,_=As(g-d[b],y),S=As(v-d[w],x),E=!e.middlewareData.shift;let C=_,T=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=x),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=y),E&&!h){const M=wr(d.left,0),J=wr(d.right,0),$=wr(d.top,0),X=wr(d.bottom,0);m?T=v-2*(M!==0||J!==0?M+J:wr(d.left,d.right)):C=g-2*($!==0||X!==0?$+X:wr(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const L=await o.getDimensions(a.floating);return v!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function Tu(){return typeof window<"u"}function $o(t){return T1(t)?(t.nodeName||"").toLowerCase():"#document"}function Cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cn(t){var e;return(e=(T1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function T1(t){return Tu()?t instanceof Node||t instanceof Cr(t).Node:!1}function ln(t){return Tu()?t instanceof Element||t instanceof Cr(t).Element:!1}function En(t){return Tu()?t instanceof HTMLElement||t instanceof Cr(t).HTMLElement:!1}function kv(t){return!Tu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cr(t).ShadowRoot}const Zj=new Set(["inline","contents"]);function cl(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=cn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Zj.has(s)}const eN=new Set(["table","td","th"]);function tN(t){return eN.has($o(t))}const rN=[":popover-open",":modal"];function ju(t){return rN.some(e=>{try{return t.matches(e)}catch{return!1}})}const nN=["transform","translate","scale","rotate","perspective"],sN=["transform","translate","scale","rotate","perspective","filter"],iN=["paint","layout","strict","content"];function lm(t){const e=cm(),r=ln(t)?cn(t):t;return nN.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||sN.some(n=>(r.willChange||"").includes(n))||iN.some(n=>(r.contain||"").includes(n))}function oN(t){let e=Is(t);for(;En(e)&&!Oo(e);){if(lm(e))return e;if(ju(e))return null;e=Is(e)}return null}function cm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const aN=new Set(["html","body","#document"]);function Oo(t){return aN.has($o(t))}function cn(t){return Cr(t).getComputedStyle(t)}function Nu(t){return ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Is(t){if($o(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kv(t)&&t.host||Cn(t);return kv(e)?e.host:e}function j1(t){const e=Is(t);return Oo(e)?t.ownerDocument?t.ownerDocument.body:t.body:En(e)&&cl(e)?e:j1(e)}function Fa(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=j1(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=Cr(s);if(i){const a=ff(o);return e.concat(o,o.visualViewport||[],cl(s)?s:[],a&&r?Fa(a):[])}return e.concat(s,Fa(s,[],r))}function ff(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function N1(t){const e=cn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=En(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,a=Hc(r)!==i||Hc(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function um(t){return ln(t)?t:t.contextElement}function ao(t){const e=um(t);if(!En(e))return Sn(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=N1(e);let o=(i?Hc(r.width):r.width)/n,a=(i?Hc(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const lN=Sn(0);function O1(t){const e=Cr(t);return!cm()||!e.visualViewport?lN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cN(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Cr(t)?!1:e}function pi(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=um(t);let o=Sn(1);e&&(n?ln(n)&&(o=ao(n)):o=ao(t));const a=cN(i,r,n)?O1(i):Sn(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const h=Cr(i),m=n&&ln(n)?Cr(n):n;let v=h,g=ff(v);for(;g&&n&&m!==v;){const b=ao(g),w=g.getBoundingClientRect(),y=cn(g),x=w.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,_=w.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,p*=b.y,l+=x,u+=_,v=Cr(g),g=ff(v)}}return qc({width:d,height:p,x:l,y:u})}function dm(t,e){const r=Nu(t).scrollLeft;return e?e.left+r:pi(Cn(t)).left+r}function P1(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:dm(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function uN(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=Cn(n),a=e?ju(e.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Sn(1);const d=Sn(0),p=En(n);if((p||!p&&!i)&&(($o(n)!=="body"||cl(o))&&(l=Nu(n)),En(n))){const m=pi(n);u=ao(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!p&&!i?P1(o,l,!0):Sn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function dN(t){return Array.from(t.getClientRects())}function hN(t){const e=Cn(t),r=Nu(t),n=t.ownerDocument.body,s=wr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=wr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+dm(t);const a=-r.scrollTop;return cn(n).direction==="rtl"&&(o+=wr(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function fN(t,e){const r=Cr(t),n=Cn(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=cm();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const pN=new Set(["absolute","fixed"]);function mN(t,e){const r=pi(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=En(t)?ao(t):Sn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:a,x:l,y:u}}function Tv(t,e,r){let n;if(e==="viewport")n=fN(t,r);else if(e==="document")n=hN(Cn(t));else if(ln(e))n=mN(e,r);else{const s=O1(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return qc(n)}function R1(t,e){const r=Is(t);return r===e||!ln(r)||Oo(r)?!1:cn(r).position==="fixed"||R1(r,e)}function gN(t,e){const r=e.get(t);if(r)return r;let n=Fa(t,[],!1).filter(a=>ln(a)&&$o(a)!=="body"),s=null;const i=cn(t).position==="fixed";let o=i?Is(t):t;for(;ln(o)&&!Oo(o);){const a=cn(o),l=lm(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&pN.has(s.position)||cl(o)&&!l&&R1(t,o))?n=n.filter(d=>d!==o):s=a,o=Is(o)}return e.set(t,n),n}function vN(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?ju(e)?[]:gN(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,d)=>{const p=Tv(e,d,s);return u.top=wr(p.top,u.top),u.right=As(p.right,u.right),u.bottom=As(p.bottom,u.bottom),u.left=wr(p.left,u.left),u},Tv(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yN(t){const{width:e,height:r}=N1(t);return{width:e,height:r}}function wN(t,e,r){const n=En(e),s=Cn(e),i=r==="fixed",o=pi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Sn(0);function u(){l.x=dm(s)}if(n||!n&&!i)if(($o(e)!=="body"||cl(s))&&(a=Nu(e)),n){const m=pi(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?P1(s,a):Sn(0),p=o.left+a.scrollLeft-l.x-d.x,h=o.top+a.scrollTop-l.y-d.y;return{x:p,y:h,width:o.width,height:o.height}}function jd(t){return cn(t).position==="static"}function jv(t,e){if(!En(t)||cn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Cn(t)===r&&(r=r.ownerDocument.body),r}function A1(t,e){const r=Cr(t);if(ju(t))return r;if(!En(t)){let s=Is(t);for(;s&&!Oo(s);){if(ln(s)&&!jd(s))return s;s=Is(s)}return r}let n=jv(t,e);for(;n&&tN(n)&&jd(n);)n=jv(n,e);return n&&Oo(n)&&jd(n)&&!lm(n)?r:n||oN(t)||r}const xN=async function(t){const e=this.getOffsetParent||A1,r=this.getDimensions,n=await r(t.floating);return{reference:wN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bN(t){return cn(t).direction==="rtl"}const _N={convertOffsetParentRelativeRectToViewportRelativeRect:uN,getDocumentElement:Cn,getClippingRect:vN,getOffsetParent:A1,getElementRects:xN,getClientRects:dN,getDimensions:yN,getScale:ao,isElement:ln,isRTL:bN};function I1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SN(t,e){let r=null,n;const s=Cn(t);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:p,width:h,height:m}=u;if(a||e(),!h||!m)return;const v=$l(p),g=$l(s.clientWidth-(d+h)),b=$l(s.clientHeight-(p+m)),w=$l(d),x={rootMargin:-v+"px "+-g+"px "+-b+"px "+-w+"px",threshold:wr(0,As(1,l))||1};let _=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!_)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!I1(u,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(t)}return o(!0),i}function EN(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=um(t),d=s||i?[...u?Fa(u):[],...Fa(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const p=u&&a?SN(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),r()}),u&&!l&&m.observe(u),m.observe(e));let v,g=l?pi(t):null;l&&b();function b(){const w=pi(t);g&&!I1(g,w)&&r(),g=w,v=requestAnimationFrame(b)}return r(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),p==null||p(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const CN=Qj,kN=Yj,TN=qj,jN=Xj,NN=Kj,Nv=Vj,ON=Jj,PN=(t,e,r)=>{const n=new Map,s={platform:_N,...r},i={...s.platform,_c:n};return Hj(t,e,{...s,platform:i})};var RN=typeof document<"u",AN=function(){},hc=RN?f.useLayoutEffect:AN;function Kc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Kc(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Kc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function D1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ov(t,e){const r=D1(t);return Math.round(e*r)/r}function Nd(t){const e=f.useRef(t);return hc(()=>{e.current=t}),e}function IN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,p]=f.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=f.useState(n);Kc(h,n)||m(n);const[v,g]=f.useState(null),[b,w]=f.useState(null),y=f.useCallback(j=>{j!==E.current&&(E.current=j,g(j))},[]),x=f.useCallback(j=>{j!==C.current&&(C.current=j,w(j))},[]),_=i||v,S=o||b,E=f.useRef(null),C=f.useRef(null),T=f.useRef(d),L=l!=null,M=Nd(l),J=Nd(s),$=Nd(u),X=f.useCallback(()=>{if(!E.current||!C.current)return;const j={placement:e,strategy:r,middleware:h};J.current&&(j.platform=J.current),PN(E.current,C.current,j).then(P=>{const z={...P,isPositioned:$.current!==!1};R.current&&!Kc(T.current,z)&&(T.current=z,bi.flushSync(()=>{p(z)}))})},[h,e,r,J,$]);hc(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[u]);const R=f.useRef(!1);hc(()=>(R.current=!0,()=>{R.current=!1}),[]),hc(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(M.current)return M.current(_,S,X);X()}},[_,S,X,M,L]);const q=f.useMemo(()=>({reference:E,floating:C,setReference:y,setFloating:x}),[y,x]),F=f.useMemo(()=>({reference:_,floating:S}),[_,S]),G=f.useMemo(()=>{const j={position:r,left:0,top:0};if(!F.floating)return j;const P=Ov(F.floating,d.x),z=Ov(F.floating,d.y);return a?{...j,transform:"translate("+P+"px, "+z+"px)",...D1(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:z}},[r,a,F.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:X,refs:q,elements:F,floatingStyles:G}),[d,X,q,F,G])}const DN=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Nv({element:n.current,padding:s}).fn(r):{}:n?Nv({element:n,padding:s}).fn(r):{}}}},LN=(t,e)=>({...CN(t),options:[t,e]}),MN=(t,e)=>({...kN(t),options:[t,e]}),$N=(t,e)=>({...ON(t),options:[t,e]}),UN=(t,e)=>({...TN(t),options:[t,e]}),FN=(t,e)=>({...jN(t),options:[t,e]}),BN=(t,e)=>({...NN(t),options:[t,e]}),zN=(t,e)=>({...DN(t),options:[t,e]});var WN="Arrow",L1=f.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return c.jsx(Te.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});L1.displayName=WN;var HN=L1;function VN(t){const[e,r]=f.useState(void 0);return $t(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var hm="Popper",[M1,Ou]=Kn(hm),[qN,$1]=M1(hm),U1=t=>{const{__scopePopper:e,children:r}=t,[n,s]=f.useState(null);return c.jsx(qN,{scope:e,anchor:n,onAnchorChange:s,children:r})};U1.displayName=hm;var F1="PopperAnchor",B1=f.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=$1(F1,r),o=f.useRef(null),a=Be(e,o);return f.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:c.jsx(Te.div,{...s,ref:a})});B1.displayName=F1;var fm="PopperContent",[KN,GN]=M1(fm),z1=f.forwardRef((t,e)=>{var A,ne,ve,oe,se,he;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,b=$1(fm,r),[w,y]=f.useState(null),x=Be(e,Ie=>y(Ie)),[_,S]=f.useState(null),E=VN(_),C=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,L=n+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},J=Array.isArray(u)?u:[u],$=J.length>0,X={padding:M,boundary:J.filter(YN),altBoundary:$},{refs:R,floatingStyles:q,placement:F,isPositioned:G,middlewareData:j}=IN({strategy:"fixed",placement:L,whileElementsMounted:(...Ie)=>EN(...Ie,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[LN({mainAxis:s+T,alignmentAxis:o}),l&&MN({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?$N():void 0,...X}),l&&UN({...X}),FN({...X,apply:({elements:Ie,rects:xt,availableWidth:ft,availableHeight:pt})=>{const{width:fr,height:rr}=xt.reference,Nr=Ie.floating.style;Nr.setProperty("--radix-popper-available-width",`${ft}px`),Nr.setProperty("--radix-popper-available-height",`${pt}px`),Nr.setProperty("--radix-popper-anchor-width",`${fr}px`),Nr.setProperty("--radix-popper-anchor-height",`${rr}px`)}}),_&&zN({element:_,padding:a}),JN({arrowWidth:C,arrowHeight:T}),h&&BN({strategy:"referenceHidden",...X})]}),[P,z]=V1(F),Z=Fr(v);$t(()=>{G&&(Z==null||Z())},[G,Z]);const k=(A=j.arrow)==null?void 0:A.x,W=(ne=j.arrow)==null?void 0:ne.y,H=((ve=j.arrow)==null?void 0:ve.centerOffset)!==0,[Y,te]=f.useState();return $t(()=>{w&&te(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:G?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(oe=j.transformOrigin)==null?void 0:oe.x,(se=j.transformOrigin)==null?void 0:se.y].join(" "),...((he=j.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(KN,{scope:r,placedSide:P,onArrowChange:S,arrowX:k,arrowY:W,shouldHideArrow:H,children:c.jsx(Te.div,{"data-side":P,"data-align":z,...g,ref:x,style:{...g.style,animation:G?void 0:"none"}})})})});z1.displayName=fm;var W1="PopperArrow",QN={top:"bottom",right:"left",bottom:"top",left:"right"},H1=f.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=GN(W1,n),o=QN[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(HN,{...s,ref:r,style:{...s.style,display:"block"}})})});H1.displayName=W1;function YN(t){return t!==null}var JN=t=>({name:"transformOrigin",options:t,fn(e){var b,w,y;const{placement:r,rects:n,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=V1(r),p={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let v="",g="";return u==="bottom"?(v=o?p:`${h}px`,g=`${-l}px`):u==="top"?(v=o?p:`${h}px`,g=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,g=o?p:`${m}px`):u==="left"&&(v=`${n.floating.width+l}px`,g=o?p:`${m}px`),{data:{x:v,y:g}}}});function V1(t){const[e,r="center"]=t.split("-");return[e,r]}var XN=U1,q1=B1,K1=z1,G1=H1,[Pu,OM]=Kn("Tooltip",[Ou]),pm=Ou(),Q1="TooltipProvider",ZN=700,Pv="tooltip.open",[eO,Y1]=Pu(Q1),J1=t=>{const{__scopeTooltip:e,delayDuration:r=ZN,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,o=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(eO,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};J1.displayName=Q1;var X1="Tooltip",[PM,Ru]=Pu(X1),pf="TooltipTrigger",tO=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Ru(pf,r),i=Y1(pf,r),o=pm(r),a=f.useRef(null),l=Be(e,a,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),p=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(q1,{asChild:!0,...o,children:c.jsx(Te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:pe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:pe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:pe(t.onBlur,s.onClose),onClick:pe(t.onClick,s.onClose)})})});tO.displayName=pf;var rO="TooltipPortal",[RM,nO]=Pu(rO,{forceMount:void 0}),Po="TooltipContent",Z1=f.forwardRef((t,e)=>{const r=nO(Po,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=Ru(Po,t.__scopeTooltip);return c.jsx(Si,{present:n||o.open,children:o.disableHoverableContent?c.jsx(eb,{side:s,...i,ref:e}):c.jsx(sO,{side:s,...i,ref:e})})}),sO=f.forwardRef((t,e)=>{const r=Ru(Po,t.__scopeTooltip),n=Y1(Po,t.__scopeTooltip),s=f.useRef(null),i=Be(e,s),[o,a]=f.useState(null),{trigger:l,onClose:u}=r,d=s.current,{onPointerInTransitChange:p}=n,h=f.useCallback(()=>{a(null),p(!1)},[p]),m=f.useCallback((v,g)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},y=cO(w,b.getBoundingClientRect()),x=uO(w,y),_=dO(g.getBoundingClientRect()),S=fO([...x,..._]);a(S),p(!0)},[p]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const v=b=>m(b,d),g=b=>m(b,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),f.useEffect(()=>{if(o){const v=g=>{const b=g.target,w={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!hO(w,o);y?h():x&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,u,h]),c.jsx(eb,{...t,ref:i})}),[iO,oO]=Pu(X1,{isInside:!1}),aO=Rx("TooltipContent"),eb=f.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Ru(Po,r),u=pm(r),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Pv,d),()=>document.removeEventListener(Pv,d)),[d]),f.useEffect(()=>{if(l.trigger){const p=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),c.jsx(al,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:c.jsxs(K1,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(aO,{children:n}),c.jsx(iO,{scope:r,isInside:!0,children:c.jsx(O2,{id:l.contentId,role:"tooltip",children:s||n})})]})})});Z1.displayName=Po;var tb="TooltipArrow",lO=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=pm(r);return oO(tb,r).isInside?null:c.jsx(G1,{...s,...n,ref:e})});lO.displayName=tb;function cO(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function uO(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function dO(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function hO(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,p=l.x,h=l.y;d>n!=h>n&&r<(p-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function fO(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),pO(e)}function pO(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var mO=J1,rb=Z1;const gO=mO,vO=f.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(rb,{ref:n,sideOffset:e,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));vO.displayName=rb.displayName;var Au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Iu=typeof window>"u"||"Deno"in globalThis;function Qr(){}function yO(t,e){return typeof t=="function"?t(e):t}function wO(t){return typeof t=="number"&&t>=0&&t!==1/0}function xO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mf(t,e){return typeof t=="function"?t(e):t}function bO(t,e){return typeof t=="function"?t(e):t}function Rv(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==mm(o,e.options))return!1}else if(!za(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Av(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Ba(e.options.mutationKey)!==Ba(i))return!1}else if(!za(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function mm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ba)(t)}function Ba(t){return JSON.stringify(t,(e,r)=>gf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function za(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>za(t[r],e[r])):!1}function nb(t,e){if(t===e)return t;const r=Iv(t)&&Iv(e);if(r||gf(t)&&gf(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<o;d++){const p=r?d:i[d];(!r&&l.has(p)||r)&&t[p]===void 0&&e[p]===void 0?(a[p]=void 0,u++):(a[p]=nb(t[p],e[p]),a[p]===t[p]&&t[p]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Iv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gf(t){if(!Dv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Dv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Dv(t){return Object.prototype.toString.call(t)==="[object Object]"}function _O(t){return new Promise(e=>{setTimeout(e,t)})}function SO(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?nb(t,e):e}function EO(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function CO(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var gm=Symbol();function sb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===gm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ei,hs,ho,ay,kO=(ay=class extends Au{constructor(){super();Pe(this,ei);Pe(this,hs);Pe(this,ho);xe(this,ho,e=>{if(!Iu&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,hs)||this.setEventListener(U(this,ho))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,hs))==null||e.call(this),xe(this,hs,void 0))}setEventListener(e){var r;xe(this,ho,e),(r=U(this,hs))==null||r.call(this),xe(this,hs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){U(this,ei)!==e&&(xe(this,ei,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof U(this,ei)=="boolean"?U(this,ei):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ei=new WeakMap,hs=new WeakMap,ho=new WeakMap,ay),ib=new kO,fo,fs,po,ly,TO=(ly=class extends Au{constructor(){super();Pe(this,fo,!0);Pe(this,fs);Pe(this,po);xe(this,po,e=>{if(!Iu&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,fs)||this.setEventListener(U(this,po))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,fs))==null||e.call(this),xe(this,fs,void 0))}setEventListener(e){var r;xe(this,po,e),(r=U(this,fs))==null||r.call(this),xe(this,fs,e(this.setOnline.bind(this)))}setOnline(e){U(this,fo)!==e&&(xe(this,fo,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return U(this,fo)}},fo=new WeakMap,fs=new WeakMap,po=new WeakMap,ly),Gc=new TO;function jO(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function NO(t){return Math.min(1e3*2**t,3e4)}function ob(t){return(t??"online")==="online"?Gc.isOnline():!0}var ab=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Od(t){return t instanceof ab}function lb(t){let e=!1,r=0,n=!1,s;const i=jO(),o=g=>{var b;n||(h(new ab(g)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ib.isFocused()&&(t.networkMode==="always"||Gc.isOnline())&&t.canRun(),d=()=>ob(t.networkMode)&&t.canRun(),p=g=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var b;s=w=>{(n||u())&&g(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;s=void 0,n||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(n)return;let g;const b=r===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(p).catch(w=>{var E;if(n)return;const y=t.retry??(Iu?0:3),x=t.retryDelay??NO,_=typeof x=="function"?x(r,w):x,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(e||!S){h(w);return}r++,(E=t.onFail)==null||E.call(t,r,w),_O(_).then(()=>u()?void 0:m()).then(()=>{e?h(w):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),i)}}var OO=t=>setTimeout(t,0);function PO(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=OO;const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Xt=PO(),ti,cy,cb=(cy=class{constructor(){Pe(this,ti)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wO(this.gcTime)&&xe(this,ti,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Iu?1/0:5*60*1e3))}clearGcTimeout(){U(this,ti)&&(clearTimeout(U(this,ti)),xe(this,ti,void 0))}},ti=new WeakMap,cy),mo,ri,Rr,ni,Ht,el,si,Jr,On,uy,RO=(uy=class extends cb{constructor(e){super();Pe(this,Jr);Pe(this,mo);Pe(this,ri);Pe(this,Rr);Pe(this,ni);Pe(this,Ht);Pe(this,el);Pe(this,si);xe(this,si,!1),xe(this,el,e.defaultOptions),this.setOptions(e.options),this.observers=[],xe(this,ni,e.client),xe(this,Rr,U(this,ni).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,xe(this,mo,IO(this.options)),this.state=e.state??U(this,mo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=U(this,Ht))==null?void 0:e.promise}setOptions(e){this.options={...U(this,el),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Rr).remove(this)}setData(e,r){const n=SO(this.state.data,e,this.options);return Ft(this,Jr,On).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ft(this,Jr,On).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=U(this,Ht))==null?void 0:n.promise;return(s=U(this,Ht))==null||s.cancel(e),r?r.then(Qr).catch(Qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,mo))}isActive(){return this.observers.some(e=>bO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>mf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xO(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=U(this,Ht))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=U(this,Ht))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,Rr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(U(this,Ht)&&(U(this,si)?U(this,Ht).cancel({revert:!0}):U(this,Ht).cancelRetry()),this.scheduleGc()),U(this,Rr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,Jr,On).call(this,{type:"invalidate"})}fetch(e,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Ht))return U(this,Ht).continueRetry(),U(this,Ht).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(xe(this,si,!0),n.signal)})},i=()=>{const h=sb(this.options,r),v=(()=>{const g={client:U(this,ni),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return xe(this,si,!1),this.options.persister?this.options.persister(h,v,this):h(v)},a=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,ni),state:this.state,fetchFn:i};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(a,this),xe(this,ri,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ft(this,Jr,On).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=h=>{var m,v,g,b;Od(h)&&h.silent||Ft(this,Jr,On).call(this,{type:"error",error:h}),Od(h)||((v=(m=U(this,Rr).config).onError)==null||v.call(m,h,this),(b=(g=U(this,Rr).config).onSettled)==null||b.call(g,this.state.data,h,this)),this.scheduleGc()};return xe(this,Ht,lb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,v,g,b;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(v=(m=U(this,Rr).config).onSuccess)==null||v.call(m,h,this),(b=(g=U(this,Rr).config).onSettled)==null||b.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Ft(this,Jr,On).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Ft(this,Jr,On).call(this,{type:"pause"})},onContinue:()=>{Ft(this,Jr,On).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,Ht).start()}},mo=new WeakMap,ri=new WeakMap,Rr=new WeakMap,ni=new WeakMap,Ht=new WeakMap,el=new WeakMap,si=new WeakMap,Jr=new WeakSet,On=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...AO(n.data,this.options),fetchMeta:e.meta??null};case"success":return xe(this,ri,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Od(s)&&s.revert&&U(this,ri)?{...U(this,ri),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Xt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,Rr).notify({query:this,type:"updated",action:e})})},uy);function AO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ob(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function IO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pn,dy,DO=(dy=class extends Au{constructor(e={}){super();Pe(this,pn);this.config=e,xe(this,pn,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??mm(s,r);let o=this.get(i);return o||(o=new RO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,pn).has(e.queryHash)||(U(this,pn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=U(this,pn).get(e.queryHash);r&&(e.destroy(),r===e&&U(this,pn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,pn).get(e)}getAll(){return[...U(this,pn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Rv(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Rv(e,n)):r}notify(e){Xt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pn=new WeakMap,dy),mn,Yt,ii,gn,ns,hy,LO=(hy=class extends cb{constructor(e){super();Pe(this,gn);Pe(this,mn);Pe(this,Yt);Pe(this,ii);this.mutationId=e.mutationId,xe(this,Yt,e.mutationCache),xe(this,mn,[]),this.state=e.state||MO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,mn).includes(e)||(U(this,mn).push(e),this.clearGcTimeout(),U(this,Yt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){xe(this,mn,U(this,mn).filter(r=>r!==e)),this.scheduleGc(),U(this,Yt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,mn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Yt).remove(this))}continue(){var e;return((e=U(this,ii))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,u,d,p,h,m,v,g,b,w,y,x,_,S,E,C,T;const r=()=>{Ft(this,gn,ns).call(this,{type:"continue"})};xe(this,ii,lb({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,M)=>{Ft(this,gn,ns).call(this,{type:"failed",failureCount:L,error:M})},onPause:()=>{Ft(this,gn,ns).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Yt).canRun(this)}));const n=this.state.status==="pending",s=!U(this,ii).canStart();try{if(n)r();else{Ft(this,gn,ns).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=U(this,Yt).config).onMutate)==null?void 0:o.call(i,e,this));const M=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));M!==this.state.context&&Ft(this,gn,ns).call(this,{type:"pending",context:M,variables:e,isPaused:s})}const L=await U(this,ii).start();return await((d=(u=U(this,Yt).config).onSuccess)==null?void 0:d.call(u,L,e,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,L,e,this.state.context)),await((v=(m=U(this,Yt).config).onSettled)==null?void 0:v.call(m,L,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,L,null,e,this.state.context)),Ft(this,gn,ns).call(this,{type:"success",data:L}),L}catch(L){try{throw await((y=(w=U(this,Yt).config).onError)==null?void 0:y.call(w,L,e,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,L,e,this.state.context)),await((E=(S=U(this,Yt).config).onSettled)==null?void 0:E.call(S,void 0,L,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,L,e,this.state.context)),L}finally{Ft(this,gn,ns).call(this,{type:"error",error:L})}}finally{U(this,Yt).runNext(this)}}},mn=new WeakMap,Yt=new WeakMap,ii=new WeakMap,gn=new WeakSet,ns=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xt.batch(()=>{U(this,mn).forEach(n=>{n.onMutationUpdate(e)}),U(this,Yt).notify({mutation:this,type:"updated",action:e})})},hy);function MO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var In,Xr,tl,fy,$O=(fy=class extends Au{constructor(e={}){super();Pe(this,In);Pe(this,Xr);Pe(this,tl);this.config=e,xe(this,In,new Set),xe(this,Xr,new Map),xe(this,tl,0)}build(e,r,n){const s=new LO({mutationCache:this,mutationId:++vl(this,tl)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){U(this,In).add(e);const r=Ul(e);if(typeof r=="string"){const n=U(this,Xr).get(r);n?n.push(e):U(this,Xr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,In).delete(e)){const r=Ul(e);if(typeof r=="string"){const n=U(this,Xr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&U(this,Xr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ul(e);if(typeof r=="string"){const n=U(this,Xr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Ul(e);if(typeof r=="string"){const s=(n=U(this,Xr).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xt.batch(()=>{U(this,In).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,In).clear(),U(this,Xr).clear()})}getAll(){return Array.from(U(this,In))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Av(r,n))}findAll(e={}){return this.getAll().filter(r=>Av(e,r))}notify(e){Xt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Xt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Qr))))}},In=new WeakMap,Xr=new WeakMap,tl=new WeakMap,fy);function Ul(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Lv(t){return{onFetch:(e,r)=>{var d,p,h,m,v;const n=e.options,s=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=sb(e.options,e.fetchOptions),y=async(x,_,S)=>{if(g)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const J={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return b(J),J})(),T=await w(C),{maxPages:L}=e.options,M=S?CO:EO;return{pages:M(x.pages,T,L),pageParams:M(x.pageParams,_,L)}};if(s&&i.length){const x=s==="backward",_=x?UO:Mv,S={pages:i,pageParams:o},E=_(n,S);a=await y(S,E,x)}else{const x=t??i.length;do{const _=l===0?o[0]??n.initialPageParam:Mv(n,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Mv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function UO(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var rt,ps,ms,go,vo,gs,yo,wo,py,FO=(py=class{constructor(t={}){Pe(this,rt);Pe(this,ps);Pe(this,ms);Pe(this,go);Pe(this,vo);Pe(this,gs);Pe(this,yo);Pe(this,wo);xe(this,rt,t.queryCache||new DO),xe(this,ps,t.mutationCache||new $O),xe(this,ms,t.defaultOptions||{}),xe(this,go,new Map),xe(this,vo,new Map),xe(this,gs,0)}mount(){vl(this,gs)._++,U(this,gs)===1&&(xe(this,yo,ib.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,rt).onFocus())})),xe(this,wo,Gc.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,rt).onOnline())})))}unmount(){var t,e;vl(this,gs)._--,U(this,gs)===0&&((t=U(this,yo))==null||t.call(this),xe(this,yo,void 0),(e=U(this,wo))==null||e.call(this),xe(this,wo,void 0))}isFetching(t){return U(this,rt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,ps).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=U(this,rt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=U(this,rt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(mf(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return U(this,rt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=U(this,rt).get(n.queryHash),i=s==null?void 0:s.state.data,o=yO(e,i);if(o!==void 0)return U(this,rt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Xt.batch(()=>U(this,rt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=U(this,rt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=U(this,rt);Xt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=U(this,rt);return Xt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Xt.batch(()=>U(this,rt).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Qr).catch(Qr)}invalidateQueries(t,e={}){return Xt.batch(()=>(U(this,rt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Xt.batch(()=>U(this,rt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Qr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Qr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=U(this,rt).build(this,e);return r.isStaleByTime(mf(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qr).catch(Qr)}fetchInfiniteQuery(t){return t.behavior=Lv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qr).catch(Qr)}ensureInfiniteQueryData(t){return t.behavior=Lv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gc.isOnline()?U(this,ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,rt)}getMutationCache(){return U(this,ps)}getDefaultOptions(){return U(this,ms)}setDefaultOptions(t){xe(this,ms,t)}setQueryDefaults(t,e){U(this,go).set(Ba(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,go).values()],r={};return e.forEach(n=>{za(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){U(this,vo).set(Ba(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,vo).values()],r={};return e.forEach(n=>{za(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,ms).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,ms).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,rt).clear(),U(this,ps).clear()}},rt=new WeakMap,ps=new WeakMap,ms=new WeakMap,go=new WeakMap,vo=new WeakMap,gs=new WeakMap,yo=new WeakMap,wo=new WeakMap,py),BO=f.createContext(void 0),zO=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(BO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wa.apply(this,arguments)}var ws;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ws||(ws={}));const $v="popstate";function WO(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return vf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qc(s)}return VO(e,r,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ub(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HO(){return Math.random().toString(36).substr(2,8)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function vf(t,e,r,n){return r===void 0&&(r=null),Wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uo(e):e,{state:r,key:e&&e.key||n||HO()})}function Qc(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Uo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function VO(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ws.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Wa({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=ws.Pop;let b=d(),w=b==null?null:b-u;u=b,l&&l({action:a,location:g.location,delta:w})}function h(b,w){a=ws.Push;let y=vf(g.location,b,w);u=d()+1;let x=Uv(y,u),_=g.createHref(y);try{o.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:g.location,delta:1})}function m(b,w){a=ws.Replace;let y=vf(g.location,b,w);u=d();let x=Uv(y,u),_=g.createHref(y);o.replaceState(x,"",_),i&&l&&l({action:a,location:g.location,delta:0})}function v(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:Qc(b);return y=y.replace(/ $/,"%20"),ht(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let g={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($v,p),l=b,()=>{s.removeEventListener($v,p),l=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:m,go(b){return o.go(b)}};return g}var Fv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fv||(Fv={}));function qO(t,e,r){return r===void 0&&(r="/"),KO(t,e,r,!1)}function KO(t,e,r,n){let s=typeof e=="string"?Uo(e):e,i=vm(s.pathname||"/",r);if(i==null)return null;let o=db(t);GO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=iP(i);a=nP(o[l],u,n)}return a}function db(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ns([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),db(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:tP(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of hb(i.path))s(i,o,l)}),e}function hb(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=hb(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function GO(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:rP(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const QO=/^:[\w-]+$/,YO=3,JO=2,XO=1,ZO=10,eP=-2,Bv=t=>t==="*";function tP(t,e){let r=t.split("/"),n=r.length;return r.some(Bv)&&(n+=eP),e&&(n+=JO),r.filter(s=>!Bv(s)).reduce((s,i)=>s+(QO.test(i)?YO:i===""?XO:ZO),n)}function rP(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function nP(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=zv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=zv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Ns([i,p.pathname]),pathnameBase:cP(Ns([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=Ns([i,p.pathnameBase]))}return o}function zv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=sP(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,p)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=a[p]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[p];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function sP(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ub(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function iP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ub(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function oP(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Uo(t):t;return{pathname:r?r.startsWith("/")?r:aP(r,e):e,search:uP(n),hash:dP(s)}}function aP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Pd(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function fb(t,e){let r=lP(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pb(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Uo(t):(s=Wa({},t),ht(!s.pathname||!s.pathname.includes("?"),Pd("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Pd("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Pd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}a=p>=0?e[p]:"/"}let l=oP(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ns=t=>t.join("/").replace(/\/\/+/g,"/"),cP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mb=["post","put","patch","delete"];new Set(mb);const fP=["get",...mb];new Set(fP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ha.apply(this,arguments)}const ym=f.createContext(null),pP=f.createContext(null),Ei=f.createContext(null),Du=f.createContext(null),$s=f.createContext({outlet:null,matches:[],isDataRoute:!1}),gb=f.createContext(null);function mP(t,e){let{relative:r}=e===void 0?{}:e;ul()||ht(!1);let{basename:n,navigator:s}=f.useContext(Ei),{hash:i,pathname:o,search:a}=yb(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ns([n,o])),s.createHref({pathname:l,search:a,hash:i})}function ul(){return f.useContext(Du)!=null}function dl(){return ul()||ht(!1),f.useContext(Du).location}function vb(t){f.useContext(Ei).static||f.useLayoutEffect(t)}function hl(){let{isDataRoute:t}=f.useContext($s);return t?NP():gP()}function gP(){ul()||ht(!1);let t=f.useContext(ym),{basename:e,future:r,navigator:n}=f.useContext(Ei),{matches:s}=f.useContext($s),{pathname:i}=dl(),o=JSON.stringify(fb(s,r.v7_relativeSplatPath)),a=f.useRef(!1);return vb(()=>{a.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let p=pb(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ns([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,o,i,t])}function vP(){let{matches:t}=f.useContext($s),e=t[t.length-1];return e?e.params:{}}function yb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=f.useContext(Ei),{matches:s}=f.useContext($s),{pathname:i}=dl(),o=JSON.stringify(fb(s,n.v7_relativeSplatPath));return f.useMemo(()=>pb(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function yP(t,e){return wP(t,e)}function wP(t,e,r,n){ul()||ht(!1);let{navigator:s}=f.useContext(Ei),{matches:i}=f.useContext($s),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=dl(),d;if(e){var p;let b=typeof e=="string"?Uo(e):e;l==="/"||(p=b.pathname)!=null&&p.startsWith(l)||ht(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=qO(t,{pathname:m}),g=EP(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Ns([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ns([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&g?f.createElement(Du.Provider,{value:{location:Ha({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ws.Pop}},g):g}function xP(){let t=jP(),e=hP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),r?f.createElement("pre",{style:s},r):null,null)}const bP=f.createElement(xP,null);class _P extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?f.createElement($s.Provider,{value:this.props.routeContext},f.createElement(gb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SP(t){let{routeContext:e,match:r,children:n}=t,s=f.useContext(ym);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement($s.Provider,{value:e},n)}function EP(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:h,errors:m}=r,v=p.route.loader&&h[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let m,v=!1,g=null,b=null;r&&(m=a&&p.route.id?a[p.route.id]:void 0,g=p.route.errorElement||bP,l&&(u<0&&h===0?(v=!0,b=null):u===h&&(v=!0,b=p.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),y=()=>{let x;return m?x=g:v?x=b:p.route.Component?x=f.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,f.createElement(SP,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:x})};return r&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?f.createElement(_P,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var wb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wb||{}),Yc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yc||{});function CP(t){let e=f.useContext(ym);return e||ht(!1),e}function kP(t){let e=f.useContext(pP);return e||ht(!1),e}function TP(t){let e=f.useContext($s);return e||ht(!1),e}function xb(t){let e=TP(),r=e.matches[e.matches.length-1];return r.route.id||ht(!1),r.route.id}function jP(){var t;let e=f.useContext(gb),r=kP(Yc.UseRouteError),n=xb(Yc.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function NP(){let{router:t}=CP(wb.UseNavigateStable),e=xb(Yc.UseNavigateStable),r=f.useRef(!1);return vb(()=>{r.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ha({fromRouteId:e},i)))},[t,e])}function OP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Pr(t){ht(!1)}function PP(t){let{basename:e="/",children:r=null,location:n,navigationType:s=ws.Pop,navigator:i,static:o=!1,future:a}=t;ul()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:l,navigator:i,static:o,future:Ha({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Uo(n));let{pathname:d="/",search:p="",hash:h="",state:m=null,key:v="default"}=n,g=f.useMemo(()=>{let b=vm(d,l);return b==null?null:{location:{pathname:b,search:p,hash:h,state:m,key:v},navigationType:s}},[l,d,p,h,m,v,s]);return g==null?null:f.createElement(Ei.Provider,{value:u},f.createElement(Du.Provider,{children:r,value:g}))}function Wv(t){let{children:e,location:r}=t;return yP(yf(e),r)}new Promise(()=>{});function yf(t,e){e===void 0&&(e=[]);let r=[];return f.Children.forEach(t,(n,s)=>{if(!f.isValidElement(n))return;let i=[...e,s];if(n.type===f.Fragment){r.push.apply(r,yf(n.props.children,i));return}n.type!==Pr&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yf(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}function RP(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function AP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IP(t,e){return t.button===0&&(!e||e==="_self")&&!AP(t)}const DP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LP="6";try{window.__reactRouterVersion=LP}catch{}const MP="startTransition",Hv=ap[MP];function $P(t){let{basename:e,children:r,future:n,window:s}=t,i=f.useRef();i.current==null&&(i.current=WO({window:s,v5Compat:!0}));let o=i.current,[a,l]=f.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=f.useCallback(p=>{u&&Hv?Hv(()=>l(p)):l(p)},[l,u]);return f.useLayoutEffect(()=>o.listen(d),[o,d]),f.useEffect(()=>OP(n),[n]),f.createElement(PP,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const UP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=f.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:p}=e,h=RP(e,DP),{basename:m}=f.useContext(Ei),v,g=!1;if(typeof u=="string"&&FP.test(u)&&(v=u,UP))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=vm(_.pathname,m);_.origin===x.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let b=mP(u,{relative:s}),w=BP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:p});function y(x){n&&n(x),x.defaultPrevented||w(x)}return f.createElement("a",wf({},h,{href:v||b,onClick:g||i?n:y,ref:r,target:l}))});var Vv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vv||(Vv={}));var qv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qv||(qv={}));function BP(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=hl(),u=dl(),d=yb(t,{relative:o});return f.useCallback(p=>{if(IP(p,r)){p.preventDefault();let h=n!==void 0?n:Qc(u)===Qc(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,t,i,o,a])}var wn=function(){return wn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wn.apply(this,arguments)};function Fo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function zP(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(p){o(p)}}function l(d){try{u(n.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function WP(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}const HP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class wm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class VP extends wm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Kv extends wm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gv extends wm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xf||(xf={}));class qP{constructor(e,{headers:r={},customFetch:n,region:s=xf.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=HP(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return zP(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:p}=n;let h={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let b=d;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:b}).catch(S=>{throw new VP(S)}),y=w.headers.get("x-relay-error");if(y&&y==="true")throw new Kv(w);if(!w.ok)throw new Gv(w);let x=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield w.json():x==="application/octet-stream"||x==="application/pdf"?_=yield w.blob():x==="text/event-stream"?_=w:x==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Gv||a instanceof Kv?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var KP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},GP=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,d=i.statusText;if(i.ok){var p,h;if(r.method!=="HEAD"){var m;const w=await i.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}const g=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),b=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&b&&b.length>1&&(l=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const g=await i.text();try{o=JSON.parse(g),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,d="OK")}catch{i.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new KP(o)}return{error:o,data:a,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,d,p,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",g=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,g&&(a+=` (${g})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},QP=class extends GP{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Qv=new RegExp("[,()]");var $i=class extends QP{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},YP=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new $i({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new $i({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new $i({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new $i({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new $i({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},JP=class bb{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new YP(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,h])=>h!==void 0).map(([p,h])=>[p,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([p,h])=>{l.searchParams.append(p,h)})):(a="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new $i({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class XP{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ZP="2.89.0",eR=`realtime-js/${ZP}`,_b="1.0.0",tR="2.0.0",Yv=_b,bf=1e4,rR=1e3,nR=100;var as;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(as||(as={}));var gt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gt||(gt={}));var en;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(en||(en={}));var _f;(function(t){t.websocket="websocket"})(_f||(_f={}));var Gs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gs||(Gs={}));class sR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+p.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,l.length),v.setUint8(g++,a.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,p.length),v.setUint8(g++,r),Array.from(l,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(a,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(o,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(u,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(p,w=>v.setUint8(g++,w.charCodeAt(0)));var b=new Uint8Array(m.byteLength+n.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(n),m.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const p=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(v.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Sb{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ze||(ze={}));const Jv=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=iR(o,t,e,s),i),{}):{}},iR=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Eb(i,o):Sf(o)},Eb=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return cR(e,r)}switch(t){case ze.bool:return oR(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return aR(e);case ze.json:case ze.jsonb:return lR(e);case ze.timestamp:return uR(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Sf(e);default:return Sf(e)}},Sf=t=>t,oR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},lR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},cR=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Eb(e,a))}return t},uR=t=>typeof t=="string"?t.replace(" ","T"):t,Cb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Rd{constructor(e,r,n={},s=bf){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Xv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Xv||(Xv={}));class va{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=va.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=va.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=va.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const p=i[u];if(p){const h=d.map(b=>b.presence_ref),m=p.map(b=>b.presence_ref),v=d.filter(b=>m.indexOf(b.presence_ref)<0),g=p.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(a[u]=v),g.length>0&&(l[u]=g)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const p=e[a].map(m=>m.presence_ref),h=d.filter(m=>p.indexOf(m.presence_ref)<0);e[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zv||(Zv={}));var ya;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ya||(ya={}));var Rn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class Zi{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rd(this,en.join,this.params,this.timeout),this.rejoinTimer=new Sb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(en.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new va(this),this.broadcastEndpointURL=Cb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ya.PRESENCE]&&this.bindings[ya.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Rn.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Rn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Rn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,w=[];for(let y=0;y<b;y++){const x=g[y],{filter:{event:_,schema:S,table:E,filter:C}}=x,T=m&&m[y];if(T&&T.event===_&&Zi.isFilterValueEqual(T.schema,S)&&Zi.isFilterValueEqual(T.table,E)&&Zi.isFilterValueEqual(T.filter,C))w.push(Object.assign(Object.assign({},x),{id:T.id}));else{this.unsubscribe(),this.state=gt.errored,e==null||e(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Rn.SUBSCRIBED);return}}).receive("error",m=>{this.state=gt.errored,e==null||e(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===gt.joined&&e===ya.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(en.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Rd(this,en.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rd(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=en;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,b;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,g,b,w,y,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,S=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(y=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:b,commit_timestamp:w,type:y,errors:x}=v;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:w,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Zi.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(en.close,{},e)}_onError(e){this._on(en.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Jv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Jv(e.columns,e.old_record)),r}}const Ad=()=>{},Fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dR=[1e3,2e3,5e3,1e4],hR=1e4,fR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pR{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bf,this.transport=null,this.heartbeatIntervalMs=Fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ad,this.ref=0,this.reconnectTimer=null,this.vsn=Yv,this.logger=Ad,this.conn=null,this.sendBuffer=[],this.serializer=new sR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${_f.websocket}`,this.httpEndpoint=Cb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case as.connecting:return Gs.Connecting;case as.open:return Gs.Open;case as.closing:return Gs.Closing;default:return Gs.Closed}}isConnected(){return this.connectionState()===Gs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Zi(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===as.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===as.open||this.conn.readyState===as.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(en.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([fR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:eR};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(en.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Sb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,d,p,h,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:bf,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Fl.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ad,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Yv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>dR[v-1]||hR,this.vsn){case _b:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(v,g)=>g(JSON.parse(v));break;case tR:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Va=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mR(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function gR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function vR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=mR(t.baseUrl,n,s),l=await gR(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),h=p&&d?JSON.parse(d):d;if(!u.ok){const m=p?h:void 0,v=m==null?void 0:m.error;throw new Va((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Bl(t){return t.join("")}var yR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Bl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bl(t.namespace)}`}),!0}catch(e){if(e instanceof Va&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Va&&r.status===409)return;throw r}}};function ji(t){return t.join("")}var wR=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ji(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Va&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Va&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},xR=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=vR({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new yR(this.client,e),this.tableOps=new wR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Lu=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var bR=class extends Lu{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ef=class extends Lu{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const xm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_R=()=>Response,Cf=t=>{if(Array.isArray(t))return t.map(r=>Cf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Cf(n)}),e},SR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ER=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function CR(t,e){if(qa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kR(t){var e=CR(t,"string");return qa(e)=="symbol"?e:e+""}function TR(t,e,r){return(e=kR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e0(Object(r),!0).forEach(function(n){TR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Id=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},jR=async(t,e,r)=>{t instanceof await _R()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new bR(Id(n),s,i))}).catch(n=>{e(new Ef(Id(n),n))}):e(new Ef(Id(t),t))},NR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(SR(n)?(s.headers=ge({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),ge(ge({},s),r))};async function fl(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,NR(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>jR(l,a,n))})}async function Ka(t,e,r,n){return fl(t,"GET",e,r,n)}async function Yr(t,e,r,n,s){return fl(t,"POST",e,n,s,r)}async function kf(t,e,r,n,s){return fl(t,"PUT",e,n,s,r)}async function OR(t,e,r,n){return fl(t,"HEAD",e,ge(ge({},r),{},{noResolveJson:!0}),n)}async function bm(t,e,r,n,s){return fl(t,"DELETE",e,n,s,r)}var PR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}}};let kb;kb=Symbol.toStringTag;var RR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[kb]="BlobDownloadBuilder",this.promise=null}asStream(){return new PR(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}}};const AR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},t0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var IR=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=xm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const o=ge(ge({},t0),n);let a=ge(ge({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=ge(ge({},a),n.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),p=await(t=="PUT"?kf:Yr)(s.fetch,`${s.url}/object/${d}`,i,ge({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=ge({upsert:t0.upsert},n),d=ge(ge({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await kf(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=ge({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Yr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Lu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Yr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await Yr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await Yr(n.fetch,`${n.url}/object/sign/${s}`,ge({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await Yr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>ge(ge({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>Ka(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new RR(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Cf(await Ka(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await OR(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n)&&n instanceof Ef){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await bm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=ge(ge(ge({},AR),e),{},{prefix:t||""});return{data:await Yr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=ge({},t);return{data:await Yr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Tb="2.89.0",jb={"X-Client-Info":`storage-js/${Tb}`};var DR=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ge(ge({},jb),e),this.fetch=xm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Ka(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ka(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Yr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await kf(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Yr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await bm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},LR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},jb),e),this.fetch=xm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Yr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Ka(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await bm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!ER(t))throw new Lu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new xR({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const _m={"X-Client-Info":`storage-js/${Tb}`,"Content-Type":"application/json"};var Nb=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function br(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Dd=class extends Nb{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},MR=class extends Nb{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Sm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$R=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},r0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UR=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new Dd(r0(i),n,o))}).catch(()=>{const i=n+"";e(new Dd(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new Dd(s.statusText||`HTTP ${n} error`,n,i))}}else e(new MR(r0(t),t))},FR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?($R(n)?(s.headers=ge({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,ge(ge({},s),r)):s};async function BR(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,FR(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>UR(l,a,n))})}async function _r(t,e,r,n,s){return BR(t,"POST",e,n,s,r)}var zR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},_m),e),this.fetch=Sm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await _r(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await _r(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await _r(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await _r(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}},WR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},_m),e),this.fetch=Sm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await _r(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await _r(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await _r(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await _r(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await _r(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}},HR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},_m),e),this.fetch=Sm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await _r(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await _r(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await _r(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await _r(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}},VR=class extends HR{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new qR(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},qR=class extends zR{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,ge(ge({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,ge(ge({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new KR(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},KR=class extends WR{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,ge(ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,ge(ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,ge(ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,ge(ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,ge(ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},GR=class extends DR{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new IR(this.url,this.headers,t,this.fetch)}get vectors(){return new VR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new LR(this.url+"/iceberg",this.headers,this.fetch)}};const Ob="2.89.0",Ui=30*1e3,Tf=3,Ld=Tf*Ui,QR="http://localhost:9999",YR="supabase.auth.token",JR={"X-Client-Info":`gotrue-js/${Ob}`},jf="X-Supabase-Api-Version",Pb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZR=10*60*1e3;class Ga extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class e5 extends Ga{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function t5(t){return ie(t)&&t.name==="AuthApiError"}class Qs extends Ga{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Gn extends Ga{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class gr extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function r5(t){return ie(t)&&t.name==="AuthSessionMissingError"}class Ni extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wl extends Gn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function n5(t){return ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class n0 extends Gn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class s5 extends Gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nf extends Gn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Md(t){return ie(t)&&t.name==="AuthRetryableFetchError"}class s0 extends Gn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Of extends Gn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i0=` 	
\r=`.split(""),i5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<i0.length;e+=1)t[i0[e].charCodeAt(0)]=-2;for(let e=0;e<Jc.length;e+=1)t[Jc[e].charCodeAt(0)]=e;return t})();function o0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jc[n]),e.queuedBits-=6}}function Rb(t,e,r){const n=i5[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function a0(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{l5(o,n,r)};for(let o=0;o<t.length;o+=1)Rb(t.charCodeAt(o),s,i);return e.join("")}function o5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function a5(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}o5(n,e)}}function l5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function lo(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Rb(t.charCodeAt(s),r,n);return new Uint8Array(e)}function c5(t){const e=[];return a5(t,r=>e.push(r)),new Uint8Array(e)}function Zs(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>o0(s,r,n)),o0(null,r,n),e.join("")}function u5(t){return Math.round(Date.now()/1e3)+t}function d5(){return Symbol("auth-callback")}const At=()=>typeof window<"u"&&typeof document<"u",zs={tested:!1,writable:!1},Ab=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zs.tested)return zs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zs.tested=!0,zs.writable=!0}catch{zs.tested=!0,zs.writable=!1}return zs.writable};function h5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ib=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),f5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ws=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pt=async(t,e)=>{await t.removeItem(e)};class Mu{constructor(){this.promise=new Mu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Mu.promiseConstructor=Promise;function $d(t){const e=t.split(".");if(e.length!==3)throw new Of("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!XR.test(e[n]))throw new Of("JWT not in base64url format");return{header:JSON.parse(a0(e[0])),payload:JSON.parse(a0(e[1])),signature:lo(e[2]),raw:{header:e[0],payload:e[1]}}}async function p5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function m5(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function g5(t){return("0"+t.toString(16)).substr(-2)}function v5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,g5).join("")}async function y5(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function w5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await y5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oi(t,e,r=!1){const n=v5();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Fi(t,`${e}-code-verifier`,s);const i=await w5(n);return[i,n===i?"plain":"s256"]}const x5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function b5(t){const e=t.headers.get(jf);if(!e||!e.match(x5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function S5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const E5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pi(t){if(!E5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ud(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function C5(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function l0(t){return JSON.parse(JSON.stringify(t))}const Ks=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),k5=[502,503,504];async function c0(t){var e;if(!f5(t))throw new Nf(Ks(t),0);if(k5.includes(t.status))throw new Nf(Ks(t),t.status);let r;try{r=await t.json()}catch(i){throw new Qs(Ks(i),i)}let n;const s=b5(t);if(s&&s.getTime()>=Pb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new s0(Ks(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new s0(Ks(r),t.status,r.weak_password.reasons);throw new e5(Ks(r),t.status||500,n)}const T5=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function me(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[jf]||(i[jf]=Pb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await j5(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function j5(t,e,r,n,s,i){const o=T5(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Nf(Ks(l),0)}if(a.ok||await c0(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await c0(l)}}function qr(t){var e;let r=null;P5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=u5(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function u0(t){const e=qr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ds(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function N5(t){return{data:t,error:null}}function O5(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Fo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function d0(t){return t}function P5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fd=["global","local","others"];class R5{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ib(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Fd[0]){if(Fd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fd.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ds})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Fo(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:O5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ds})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:d0});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Pi(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ds})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Pi(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ds})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Pi(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ds})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Pi(e.userId);try{const{data:r,error:n}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Pi(e.userId),Pi(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:d0});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function h0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ri={debug:!!(globalThis&&Ab()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Db extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class A5 extends Db{}async function I5(t,e,r){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new A5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ri.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function D5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Lb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function L5(t){return parseInt(t,16)}function M5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function $5(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:p,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Lb(t.address),v=d?`${d}://${n}`:n,g=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${m}

${g}`;let w=`URI: ${p}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}w+=y}return`${b}
${w}`}class ut extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Xc extends ut{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function U5({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Mb(o)){if(i.rp.id!==o)return new ut({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function F5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Mb(n)){if(r.rpId!==n)return new ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class B5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const z5=new B5;function W5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Fo(t,["challenge","user","excludeCredentials"]),i=lo(e).buffer,o=Object.assign(Object.assign({},r),{id:lo(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:lo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function H5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Fo(t,["challenge","allowCredentials"]),s=lo(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:lo(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function V5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zs(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function q5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zs(new Uint8Array(s.authenticatorData)),clientDataJSON:Zs(new Uint8Array(s.clientDataJSON)),signature:Zs(new Uint8Array(s.signature)),userHandle:s.userHandle?Zs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function f0(){var t,e;return!!(At()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function K5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:U5({error:e,options:t})}}}async function G5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:F5({error:e,options:t})}}}const Q5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Y5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zc(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Zc(a,o):n[i]=Zc(o)}else n[i]=o}return n}function J5(t,e){return Zc(Q5,t,e||{})}function X5(t,e){return Zc(Y5,t,e||{})}class Z5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??z5.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=J5(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:p}=await K5({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const u=X5(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:p}=await G5(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new Qs("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ga("rpId is required for WebAuthn authentication")};try{if(!f0())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new Qs("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ga("rpId is required for WebAuthn registration")};try{if(!f0())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new Qs("Unexpected error in register",o)}}}}D5();const eA={url:QR,storageKey:YR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function p0(t,e,r){return await r()}const Ai={};class Qa{get jwks(){var e,r;return(r=(e=Ai[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ai[this.storageKey]=Object.assign(Object.assign({},Ai[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ai[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ai[this.storageKey]=Object.assign(Object.assign({},Ai[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},eA),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Qa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&At()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new R5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ib(i.fetch),this.lock=i.lock||p0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&At()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=I5:this.lock=p0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Z5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ab()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=h0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=h0(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ob}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(At()&&(r=h5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),At()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),n5(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?this._returnResult({error:r}):this._returnResult({error:new Qs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:qr}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:p,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Oi(this.storage,this.storageKey)),i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:p,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:qr})}else if("phone"in e){const{phone:d,password:p,options:h}=e;i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qr})}else throw new zl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:u0})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:u0})}else throw new zl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Ni;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,d,p,h;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:g,wallet:b,statement:w,options:y}=e;let x;if(At())if(typeof b=="object")x=b;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")x=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Lb(S[0]);let C=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const L=await x.request({method:"eth_chainId"});C=L5(L)}const T={domain:_.host,address:E,statement:w,uri:_.href,version:"1",chainId:C,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=$5(T),v=await x.request({method:"personal_sign",params:[M5(m),E]})}try{const{data:g,error:b}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:qr});if(b)throw b;if(!g||!g.session||!g.user){const w=new Ni;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(ie(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,d,p,h,m;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:b,wallet:w,statement:y,options:x}=e;let _;if(At())if(typeof w=="object")_=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((p=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:b,error:w}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Zs(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:qr});if(w)throw w;if(!b||!b.session||!b.user){const y=new Ni;return this._returnResult({data:{user:null,session:null},error:y})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(ie(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Ws(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new s5;const{data:i,error:o}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qr});if(await Pt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Ni;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qr}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Ni;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Oi(this.storage,this.storageKey));const{error:p}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new zl("You must provide either an email or phone number.")}catch(a){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Oi(this.storage,this.storageKey));const u=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:N5});return!((i=u.data)===null||i===void 0)&&i.url&&At()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new gr;const{error:s}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new zl("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ld:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ws(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ud()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=C5(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ds}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gr}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ds})})}catch(r){if(ie(r))return r5(r)&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new gr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Oi(this.storage,this.storageKey));const{data:u,error:d}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ds});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),ie(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=$d(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gr;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!At())throw new Wl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new n0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new n0("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Wl("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(a);let h=d+p;l&&(h=parseInt(l));const m=h-d;m*1e3<=Ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const v=h-p;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ws(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(t5(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=d5(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Oi(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:p,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return At()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ie(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,p=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qr}),{data:h,error:m}=p;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ni}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await m5(async s=>(s>0&&await p5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Md(i)&&Date.now()+o-n<Ui})}catch(n){if(this._debug(r,"error",n),ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),At()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ws(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Fi(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ud()}else if(s&&!s.user&&!s.user){const o=await Ws(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Pt(this.storage,this.storageKey+"-user"),await Fi(this.storage,this.storageKey,s)):s.user=Ud()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ld;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ld}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Md(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new gr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ie(i)){const o={data:null,error:i};return Md(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Pt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fi(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=l0(s);await Fi(this.storage,this.storageKey,i)}else{const s=l0(r);await Fi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pt(this.storage,this.storageKey),await Pt(this.storage,this.storageKey+"-code-verifier"),await Pt(this.storage,this.storageKey+"-user"),this.userStorage&&await Pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ui);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ui}ms, refresh threshold is ${Tf} ticks`),s<=Tf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Db)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Oi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await me(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?V5(e.webauthn.credential_response):q5(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:W5(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:H5(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=$d(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new gr})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new gr});const o=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&At()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new gr});const o=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&At()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new gr})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gr})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+ZR>s)return n;const{data:i,error:o}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=$d(n);r!=null&&r.allowExpired||_5(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=S5(s.alg),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,c5(`${a}.${l}`)))throw new Of("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}}Qa.nextInstanceID={};const tA=Qa,rA="2.89.0";let sa="";typeof Deno<"u"?sa="deno":typeof document<"u"?sa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sa="react-native":sa="node";const nA={"X-Client-Info":`supabase-js-${sa}/${rA}`},sA={headers:nA},iA={schema:"public"},oA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aA={};function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function lA(t,e){if(Ya(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cA(t){var e=lA(t,"string");return Ya(e)=="symbol"?e:e+""}function uA(t,e,r){return(e=cA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m0(Object(r),!0).forEach(function(n){uA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const dA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hA=()=>Headers,fA=(t,e,r)=>{const n=dA(r),s=hA();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,nt(nt({},o),{},{headers:u}))}};function pA(t){return t.endsWith("/")?t:t+"/"}function mA(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:p}=e,h={db:nt(nt({},l),s),auth:nt(nt({},u),i),realtime:nt(nt({},d),o),storage:{},global:nt(nt(nt({},p),a),{},{headers:nt(nt({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function gA(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var vA=class extends tA{constructor(t){super(t)}},yA=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=gA(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:iA,realtime:aA,auth:nt(nt({},oA),{},{storageKey:o}),global:sA},l=mA(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=fA(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new JP(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new GR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new qP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},d,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vA({url:this.authUrl.href,headers:nt(nt({},h),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new pR(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const wA=(t,e,r)=>new yA(t,e,r);function xA(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bA="https://nvuukgeobhrrwttbiaif.supabase.co",_A="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52dXVrZ2VvYmhycnd0dGJpYWlmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzOTM0MDIsImV4cCI6MjA4MTk2OTQwMn0.XoAFIsxESUJVd8Zrjw0kMytmccJZV0Tn0x5YwjTKvNk",ee=wA(bA,_A,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),$b=f.createContext(void 0),SA=({children:t})=>{const[e,r]=f.useState(null),[n,s]=f.useState(null),[i,o]=f.useState(null),[a,l]=f.useState(!0),[u,d]=f.useState(!1);_i();const p=async w=>{const{data:y,error:x}=await ee.from("profiles").select("*").eq("user_id",w).single();y&&!x&&o(y)},h=async w=>{const{data:y,error:x}=await ee.from("user_roles").select("role").eq("user_id",w).eq("role","admin").single();d(!!y&&!x)};f.useEffect(()=>{const{data:{subscription:w}}=ee.auth.onAuthStateChange((y,x)=>{s(x),r((x==null?void 0:x.user)??null),x!=null&&x.user?setTimeout(()=>{p(x.user.id),h(x.user.id)},0):(o(null),d(!1))});return ee.auth.getSession().then(({data:{session:y}})=>{s(y),r((y==null?void 0:y.user)??null),y!=null&&y.user&&(p(y.user.id),h(y.user.id)),l(!1)}),()=>w.unsubscribe()},[]);const m=w=>{const y=w.trim().split(" ");return y.length>=2?(y[0][0]+y[y.length-1][0]).toUpperCase():y[0].substring(0,2).toUpperCase()},v=async(w,y,x,_)=>{const{data:S}=await ee.from("profiles").select("username").eq("username",w).single();if(S)return{error:{message:"Username already taken"}};const E=`${w.toLowerCase().replace(/[^a-z0-9]/g,"")}@chessgambit.local`,{data:C,error:T}=await ee.auth.signUp({email:E,password:y,options:{emailRedirectTo:`${window.location.origin}/`,data:{username:w,full_name:x}}});if(T)return{error:T};if(C.user){const L=m(x),{error:M}=await ee.from("profiles").insert({user_id:C.user.id,username:w,full_name:x,avatar_url:_||null,avatar_initials:L});if(M)return{error:M};await ee.from("user_roles").insert({user_id:C.user.id,role:"player"})}return{error:null}},g=async(w,y)=>{const{data:x}=await ee.from("profiles").select("user_id").eq("username",w).single();if(!x)return{error:{message:"Username not found"}};const _=`${w.toLowerCase().replace(/[^a-z0-9]/g,"")}@chessgambit.local`,{error:S}=await ee.auth.signInWithPassword({email:_,password:y});return{error:S}},b=async()=>{await ee.auth.signOut(),r(null),s(null),o(null),d(!1)};return c.jsx($b.Provider,{value:{user:e,session:n,profile:i,loading:a,signUp:v,signIn:g,signOut:b,isAdmin:u},children:t})},Ci=()=>{const t=f.useContext($b);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},eu=rm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=f.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,enableEffects:s=!0,onClick:i,...o},a)=>{const[l,u]=f.useState(!1),d=n?a2:"button",p=h=>{s&&!n&&(u(!0),setTimeout(()=>u(!1),500)),i==null||i(h)};return n?c.jsx(d,{className:Se(eu({variant:e,size:r,className:t})),ref:a,...o}):c.jsxs("button",{className:Se(eu({variant:e,size:r,className:t}),s&&"btn-electric btn-firecracker",l&&"sparking"),ref:a,onClick:p,...o,children:[o.children,s&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spark spark-1"}),c.jsx("span",{className:"spark spark-2"}),c.jsx("span",{className:"spark spark-3"}),c.jsx("span",{className:"spark spark-4"}),c.jsx("span",{className:"spark spark-5"}),c.jsx("span",{className:"spark spark-6"})]})]})});be.displayName="Button";const g0="christmas-gambit-theme",EA=()=>{const[t,e]=f.useState(()=>{const n=localStorage.getItem(g0);return n!==null?n==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});f.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem(g0,t?"dark":"light")},[t]);const r=()=>{e(n=>!n)};return c.jsx(be,{variant:"ghost",size:"icon",onClick:r,className:"relative overflow-hidden transition-all duration-300",children:t?c.jsx(lT,{className:"h-5 w-5 text-neon-cyan animate-scale-in"}):c.jsx(dT,{className:"h-5 w-5 text-accent animate-scale-in"})})},CA=()=>{const{user:t,profile:e,signOut:r}=Ci(),n=hl(),s=async()=>{await r(),n("/")};return c.jsx("nav",{className:"sticky top-0 z-40 w-full border-b border-border bg-background/80 backdrop-blur-md",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex h-16 items-center justify-between",children:[c.jsxs(rn,{to:"/",className:"flex items-center gap-3 group fire-hover",children:[c.jsxs("div",{className:"relative",children:[c.jsx($n,{className:"h-8 w-8 text-primary animate-float transition-all"}),c.jsx(u1,{className:"absolute -top-1 -right-1 h-4 w-4 text-secondary"})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-display text-lg font-bold tracking-wide text-foreground fire-text-hover",children:"Checkmate Cup"}),c.jsx("span",{className:"text-xs text-muted-foreground font-gamer-body",children:"DPSBE 2K25 "})]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[c.jsxs(rn,{to:"/practice",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors font-gamer-body",children:[c.jsx(of,{className:"h-4 w-4"}),"Practice"]}),c.jsxs(rn,{to:"/standings",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors font-gamer-body",children:[c.jsx(Wn,{className:"h-4 w-4"}),"Standings"]}),c.jsxs(rn,{to:"/champions",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors font-gamer-body",children:[c.jsx($n,{className:"h-4 w-4"}),"Champions"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(EA,{}),t?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(rn,{to:"/profile",children:c.jsxs(be,{variant:"ghost",size:"sm",className:"gap-2",children:[e!=null&&e.avatar_url?c.jsx("img",{src:e.avatar_url,alt:e.username,className:"h-6 w-6 rounded-full object-cover"}):e!=null&&e.avatar_initials?c.jsx("div",{className:"h-6 w-6 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xs font-bold",children:e.avatar_initials}):c.jsx(h1,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:e==null?void 0:e.username})]})}),c.jsxs(be,{variant:"outline",size:"sm",onClick:s,className:"gap-2",children:[c.jsx(iT,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]}):c.jsx(rn,{to:"/auth",children:c.jsxs(be,{variant:"default",size:"sm",className:"gap-2",children:[c.jsx(sT,{className:"h-4 w-4"}),"Sign In"]})})]})]})})})},kA=()=>{const[t,e]=f.useState([]),[r,n]=f.useState(!1);return f.useEffect(()=>{const s=()=>{n(document.documentElement.classList.contains("dark"))};s();const i=new MutationObserver(s);return i.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>i.disconnect()},[]),f.useEffect(()=>{const s=Array.from({length:100},(i,o)=>({id:o,x:Math.random()*100,y:Math.random()*100,size:Math.random()*2+1,duration:Math.random()*3+2,delay:Math.random()*5}));e(s)},[]),c.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[r&&c.jsx("div",{className:"absolute inset-0 bg-nebula-gradient opacity-30"}),t.map(s=>c.jsx("div",{className:"absolute rounded-full animate-pulse-slow",style:{left:`${s.x}%`,top:`${s.y}%`,width:`${s.size}px`,height:`${s.size}px`,backgroundColor:r?"white":"hsl(250, 85%, 60%)",opacity:r?.6:.3,animationDuration:`${s.duration}s`,animationDelay:`${s.delay}s`,boxShadow:r?`0 0 ${s.size*2}px rgba(255,255,255,0.5)`:`0 0 ${s.size*2}px hsl(250, 85%, 60%, 0.3)`}},s.id)),r&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute w-96 h-96 rounded-full opacity-10 blur-3xl rgb-glow",style:{left:"10%",top:"20%",background:"hsl(185, 100%, 50%)"}}),c.jsx("div",{className:"absolute w-80 h-80 rounded-full opacity-10 blur-3xl rgb-glow",style:{right:"15%",top:"60%",background:"hsl(280, 80%, 60%)",animationDelay:"1.5s"}}),c.jsx("div",{className:"absolute w-64 h-64 rounded-full opacity-10 blur-3xl rgb-glow",style:{left:"50%",bottom:"10%",background:"hsl(320, 90%, 60%)",animationDelay:"3s"}})]})]})},TA=()=>{const[t,e]=f.useState([]),[r,n]=f.useState({x:0,y:0}),s=f.useCallback((i,o)=>({id:Date.now()+Math.random(),x:i+(Math.random()-.5)*10,y:o+(Math.random()-.5)*10,size:Math.random()*8+4,opacity:1,hue:Math.random()*40+15}),[]);return f.useEffect(()=>{let i=0;const o=30,a=l=>{const u=Date.now();if(u-i<o)return;i=u,n({x:l.clientX,y:l.clientY});const d=Array.from({length:2},()=>s(l.clientX,l.clientY));e(p=>[...p.slice(-20),...d])};return window.addEventListener("mousemove",a),()=>window.removeEventListener("mousemove",a)},[s]),f.useEffect(()=>{const i=setInterval(()=>{e(o=>o.map(a=>({...a,opacity:a.opacity-.08,y:a.y-2,size:a.size*.95})).filter(a=>a.opacity>0))},30);return()=>clearInterval(i)},[]),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"cursor-target pointer-events-none fixed z-[9999]",style:{left:r.x-12,top:r.y-12},children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1.5",fill:"none",opacity:"0.8"}),c.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"hsl(320, 90%, 60%)",strokeWidth:"1",fill:"none",opacity:"0.9"}),c.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"hsl(45, 100%, 60%)"}),c.jsx("line",{x1:"12",y1:"0",x2:"12",y2:"6",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1",opacity:"0.7"}),c.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"24",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1",opacity:"0.7"}),c.jsx("line",{x1:"0",y1:"12",x2:"6",y2:"12",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1",opacity:"0.7"}),c.jsx("line",{x1:"18",y1:"12",x2:"24",y2:"12",stroke:"hsl(185, 100%, 50%)",strokeWidth:"1",opacity:"0.7"})]})}),t.map(i=>c.jsx("div",{className:"pointer-events-none fixed z-[9998] rounded-full",style:{left:i.x-i.size/2,top:i.y-i.size/2,width:i.size,height:i.size,opacity:i.opacity,background:`radial-gradient(circle, hsl(${i.hue}, 100%, 60%), hsl(${i.hue-10}, 100%, 40%), transparent)`,boxShadow:`0 0 ${i.size}px hsl(${i.hue}, 100%, 50%)`,transform:"translate3d(0, 0, 0)"}},i.id))]})},Le=f.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Le.displayName="Card";const Et=f.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",t),...e}));Et.displayName="CardHeader";const Ct=f.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ct.displayName="CardTitle";const Ja=f.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));Ja.displayName="CardDescription";const Fe=f.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Se("p-6 pt-0",t),...e}));Fe.displayName="CardContent";const jA=f.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",t),...e}));jA.displayName="CardFooter";const NA=()=>{const{user:t}=Ci();return c.jsxs("div",{className:"min-h-screen relative",children:[c.jsxs("section",{className:"relative py-20 md:py-32 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-secondary/10"}),c.jsx("div",{className:"container mx-auto px-4 relative z-10",children:c.jsxs("div",{className:"text-center max-w-4xl mx-auto animate-fade-in-up",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx($n,{className:"h-24 w-24 text-primary trophy-shine"}),c.jsx(u1,{className:"absolute -top-4 -right-4 h-8 w-8 text-secondary animate-float"}),c.jsx(d1,{className:"absolute -bottom-2 -left-4 h-6 w-6 text-accent animate-float",style:{animationDelay:"0.5s"}})]})}),c.jsx("h1",{className:"font-display text-4xl md:text-6xl lg:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-neon-gradient dark:rgb-text",children:"Checkmate Cup"}),c.jsx("p",{className:"font-gamer text-2xl md:text-3xl text-secondary dark:text-neon-cyan mb-4",children:" DPSBE 2K25 "}),c.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 max-w-2xl mx-auto font-gamer-body",children:"The ultimate DPSBE chess tournament. Compete, strategize, and claim your place among champions."}),c.jsx("div",{className:"space-divider w-48 mx-auto mb-8"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t?c.jsx(rn,{to:"/profile",children:c.jsxs(be,{size:"lg",className:"gap-2 text-lg px-8",children:[c.jsx(f1,{className:"h-5 w-5"}),"My Profile"]})}):c.jsx(rn,{to:"/auth",children:c.jsxs(be,{size:"lg",className:"gap-2 text-lg px-8 animate-glow-pulse dark:rgb-glow",children:[c.jsx(No,{className:"h-5 w-5"}),"Join Tournament"]})}),c.jsx(rn,{to:"/standings",children:c.jsxs(be,{variant:"outline",size:"lg",className:"gap-2 text-lg px-8",children:[c.jsx(Wn,{className:"h-5 w-5"}),"View Standings"]})})]})]})})]}),c.jsx("section",{className:"py-16 bg-card/50",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx(Le,{className:"card-hover border-2 group dark:rgb-border",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx(No,{className:"h-8 w-8 text-primary"})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Live Games"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Play real-time chess matches with automatic time controls and result tracking."})]})}),c.jsx(Le,{className:"card-hover border-2 group dark:rgb-border",style:{animationDelay:"0.1s"},children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-secondary/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx(Wn,{className:"h-8 w-8 text-secondary dark:text-neon-purple"})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Multiple Formats"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Swiss, Knockouts, Round Robin, Arena  choose your battle style."})]})}),c.jsx(Le,{className:"card-hover border-2 group dark:rgb-border",style:{animationDelay:"0.2s"},children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-accent/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx(X2,{className:"h-8 w-8 text-accent dark:text-neon-magenta"})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Auto Pairings"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Automatic matchmaking, standings updates, and tournament progression."})]})})]})})}),c.jsx("section",{className:"py-20",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Ready to Make Your Move?"}),c.jsx("p",{className:"text-muted-foreground mb-8 font-gamer-body text-lg",children:"Join the tournament and compete for the Checkmate Cup!"}),c.jsx(rn,{to:t?"/profile":"/auth",children:c.jsxs(be,{size:"lg",className:"gap-2 dark:rgb-glow",children:["Get Started ",c.jsx(eT,{className:"h-5 w-5"})]})})]})}),c.jsx("footer",{className:"py-8 border-t border-border",children:c.jsx("div",{className:"container mx-auto px-4 text-center text-muted-foreground font-gamer-body",children:c.jsx("p",{children:" Checkmate Cup  DPSBE 2K25 "})})})]})},nn=f.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));nn.displayName="Input";var OA="Label",Ub=f.forwardRef((t,e)=>c.jsx(Te.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Ub.displayName=OA;var Fb=Ub;const PA=rm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xr=f.forwardRef(({className:t,...e},r)=>c.jsx(Fb,{ref:r,className:Se(PA(),t),...e}));xr.displayName=Fb.displayName;var RA=f.createContext(void 0);function Em(t){const e=f.useContext(RA);return t||e||"ltr"}var Bd="rovingFocusGroup.onEntryFocus",AA={bubbles:!1,cancelable:!0},pl="RovingFocusGroup",[Pf,Bb,IA]=Xp(pl),[DA,zb]=Kn(pl,[IA]),[LA,MA]=DA(pl),Wb=f.forwardRef((t,e)=>c.jsx(Pf.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Pf.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx($A,{...t,ref:e})})}));Wb.displayName=pl;var $A=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,h=f.useRef(null),m=Be(e,h),v=Em(i),[g,b]=jo({prop:o,defaultProp:a??null,onChange:l,caller:pl}),[w,y]=f.useState(!1),x=Fr(u),_=Bb(r),S=f.useRef(!1),[E,C]=f.useState(0);return f.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(Bd,x),()=>T.removeEventListener(Bd,x)},[x]),c.jsx(LA,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:f.useCallback(T=>b(T),[b]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:f.useCallback(()=>C(T=>T-1),[]),children:c.jsx(Te.div,{tabIndex:w||E===0?-1:0,"data-orientation":n,...p,ref:m,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{S.current=!0}),onFocus:pe(t.onFocus,T=>{const L=!S.current;if(T.target===T.currentTarget&&L&&!w){const M=new CustomEvent(Bd,AA);if(T.currentTarget.dispatchEvent(M),!M.defaultPrevented){const J=_().filter(F=>F.focusable),$=J.find(F=>F.active),X=J.find(F=>F.id===g),q=[$,X,...J].filter(Boolean).map(F=>F.ref.current);qb(q,d)}}S.current=!1}),onBlur:pe(t.onBlur,()=>y(!1))})})}),Hb="RovingFocusGroupItem",Vb=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=js(),u=i||l,d=MA(Hb,r),p=d.currentTabStopId===u,h=Bb(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=d;return f.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),c.jsx(Pf.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:c.jsx(Te.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:pe(t.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:pe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:pe(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=BA(b,d.orientation,d.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const _=x.indexOf(b.currentTarget);x=d.loop?zA(x,_+1):x.slice(_+1)}setTimeout(()=>qb(x))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:g!=null}):o})})});Vb.displayName=Hb;var UA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FA(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function BA(t,e,r){const n=FA(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return UA[n]}function qb(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function zA(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var WA=Wb,HA=Vb,$u="Tabs",[VA,AM]=Kn($u,[zb]),Kb=zb(),[qA,Cm]=VA($u),Gb=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=Em(a),[p,h]=jo({prop:n,onChange:s,defaultProp:i??"",caller:$u});return c.jsx(qA,{scope:r,baseId:js(),value:p,onValueChange:h,orientation:o,dir:d,activationMode:l,children:c.jsx(Te.div,{dir:d,"data-orientation":o,...u,ref:e})})});Gb.displayName=$u;var Qb="TabsList",Yb=f.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=Cm(Qb,r),o=Kb(r);return c.jsx(WA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:c.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Yb.displayName=Qb;var Jb="TabsTrigger",Xb=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=Cm(Jb,r),a=Kb(r),l=t_(o.baseId,n),u=r_(o.baseId,n),d=n===o.value;return c.jsx(HA,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(Te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:pe(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:pe(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:pe(t.onFocus,()=>{const p=o.activationMode!=="manual";!d&&!s&&p&&o.onValueChange(n)})})})});Xb.displayName=Jb;var Zb="TabsContent",e_=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,a=Cm(Zb,r),l=t_(a.baseId,n),u=r_(a.baseId,n),d=n===a.value,p=f.useRef(d);return f.useEffect(()=>{const h=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(Si,{present:s||d,children:({present:h})=>c.jsx(Te.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:h&&i})})});e_.displayName=Zb;function t_(t,e){return`${t}-trigger-${e}`}function r_(t,e){return`${t}-content-${e}`}var KA=Gb,n_=Yb,s_=Xb,i_=e_;const GA=KA,o_=f.forwardRef(({className:t,...e},r)=>c.jsx(n_,{ref:r,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));o_.displayName=n_.displayName;const Rf=f.forwardRef(({className:t,...e},r)=>c.jsx(s_,{ref:r,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Rf.displayName=s_.displayName;const Af=f.forwardRef(({className:t,...e},r)=>c.jsx(i_,{ref:r,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Af.displayName=i_.displayName;const QA=()=>{const[t,e]=f.useState(!1),[r,n]=f.useState(!1),[s,i]=f.useState(null),[o,a]=f.useState(null),l=f.useRef(null),[u,d]=f.useState(""),[p,h]=f.useState(""),[m,v]=f.useState(""),[g,b]=f.useState(""),[w,y]=f.useState(""),[x,_]=f.useState(""),[S,E]=f.useState("idle"),[C,T]=f.useState(null),{signIn:L,signUp:M,user:J}=Ci(),{toast:$}=_i(),X=hl();if(J)return X("/"),null;f.useEffect(()=>{if(m.length<3){E("idle"),T(m.length>0?"Username must be at least 3 characters":null);return}if(!/^[a-zA-Z0-9_]+$/.test(m)){E("idle"),T("Username can only contain letters, numbers, and underscores");return}T(null),E("checking");const P=setTimeout(async()=>{const{data:z}=await ee.from("profiles").select("username").eq("username",m).maybeSingle();z?(E("taken"),T("This username is already taken")):(E("available"),T(null))},500);return()=>clearTimeout(P)},[m]);const R=j=>{var z;const P=(z=j.target.files)==null?void 0:z[0];if(P){a(P);const Z=new FileReader;Z.onloadend=()=>{i(Z.result)},Z.readAsDataURL(P)}},q=async j=>{j.preventDefault(),e(!0);const{error:P}=await L(u,p);P?$({variant:"destructive",title:"Sign in failed",description:P.message||"Invalid username or password"}):($({title:"Welcome back!",description:"You have successfully signed in."}),X("/")),e(!1)},F=async j=>{if(j.preventDefault(),w!==x){$({variant:"destructive",title:"Passwords don't match",description:"Please make sure your passwords match."});return}if(w.length<6){$({variant:"destructive",title:"Password too short",description:"Password must be at least 6 characters."});return}if(m.length<3||S==="taken"||C){$({variant:"destructive",title:"Invalid username",description:C||"Please choose a valid unique username."});return}e(!0);let P;if(o){const Z=`${Date.now()}`,k=o.name.split(".").pop(),W=`temp/${Z}.${k}`,{error:H}=await ee.storage.from("avatars").upload(W,o,{upsert:!0});if(!H){const{data:Y}=ee.storage.from("avatars").getPublicUrl(W);P=Y.publicUrl}}const{error:z}=await M(m,w,g,P);z?$({variant:"destructive",title:"Sign up failed",description:z.message||"Could not create account"}):($({title:"Account created!",description:"Welcome to the Christmas Gambit Cup!"}),X("/")),e(!1)},G=j=>{var z;const P=j.trim().split(" ");return P.length>=2?(P[0][0]+P[P.length-1][0]).toUpperCase():((z=P[0])==null?void 0:z.substring(0,2).toUpperCase())||""};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("div",{className:"relative",children:[c.jsx($n,{className:"h-16 w-16 text-primary animate-float"}),c.jsx("span",{className:"absolute -top-2 -right-2 text-2xl",children:""})]})}),c.jsx("h1",{className:"font-display text-3xl font-bold text-foreground",children:"Christmas Gambit Cup"}),c.jsx("p",{className:"text-muted-foreground mt-2 font-gamer-body",children:"2K25 School Chess Tournament"})]}),c.jsx(Le,{className:"border-2 shadow-lg card-hover",children:c.jsxs(GA,{defaultValue:"signin",className:"w-full",children:[c.jsxs(o_,{className:"grid w-full grid-cols-2",children:[c.jsx(Rf,{value:"signin",children:"Sign In"}),c.jsx(Rf,{value:"signup",children:"Sign Up"})]}),c.jsxs(Af,{value:"signin",children:[c.jsxs(Et,{children:[c.jsx(Ct,{className:"font-display",children:"Welcome Back"}),c.jsx(Ja,{children:"Enter your credentials to continue"})]}),c.jsx(Fe,{children:c.jsxs("form",{onSubmit:q,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{htmlFor:"signin-username",children:"Username"}),c.jsx(nn,{id:"signin-username",placeholder:"Enter your username",value:u,onChange:j=>d(j.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{htmlFor:"signin-password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(nn,{id:"signin-password",type:r?"text":"password",placeholder:"Enter your password",value:p,onChange:j=>h(j.target.value),required:!0}),c.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>n(!r),children:r?c.jsx(lf,{className:"h-4 w-4"}):c.jsx($a,{className:"h-4 w-4"})})]})]}),c.jsx(be,{type:"submit",className:"w-full",disabled:t,children:t?"Signing in...":"Sign In"})]})})]}),c.jsxs(Af,{value:"signup",children:[c.jsxs(Et,{children:[c.jsx(Ct,{className:"font-display",children:"Join the Tournament"}),c.jsx(Ja,{children:"Create your player account"})]}),c.jsx(Fe,{children:c.jsxs("form",{onSubmit:F,className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"relative h-24 w-24 rounded-full border-2 border-dashed border-border flex items-center justify-center cursor-pointer hover:border-primary transition-colors overflow-hidden bg-muted",onClick:()=>{var j;return(j=l.current)==null?void 0:j.click()},children:[s?c.jsx("img",{src:s,alt:"Avatar",className:"h-full w-full object-cover"}):g?c.jsx("span",{className:"text-2xl font-bold text-primary",children:G(g)}):c.jsx(h1,{className:"h-10 w-10 text-muted-foreground"}),c.jsx("div",{className:"absolute inset-0 bg-background/60 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:c.jsx(fT,{className:"h-6 w-6"})})]}),c.jsx("input",{ref:l,type:"file",accept:"image/*",className:"hidden",onChange:R}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Click to upload profile picture (optional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{htmlFor:"signup-username",children:"Username *"}),c.jsxs("div",{className:"relative",children:[c.jsx(nn,{id:"signup-username",placeholder:"Choose a unique username",value:m,onChange:j=>v(j.target.value.replace(/[^a-zA-Z0-9_]/g,"")),required:!0,minLength:3,maxLength:20,className:S==="taken"?"border-destructive pr-10":S==="available"?"border-green-500 pr-10":"pr-10"}),c.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[S==="checking"&&c.jsx(ar,{className:"h-4 w-4 animate-spin text-muted-foreground"}),S==="available"&&c.jsx(o1,{className:"h-4 w-4 text-green-500"}),S==="taken"&&c.jsx(ku,{className:"h-4 w-4 text-destructive"})]})]}),C&&c.jsx("p",{className:"text-xs text-destructive",children:C}),S==="available"&&c.jsx("p",{className:"text-xs text-green-500",children:"Username is available!"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{htmlFor:"signup-fullname",children:"Full Name *"}),c.jsx(nn,{id:"signup-fullname",placeholder:"Your real name",value:g,onChange:j=>b(j.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{htmlFor:"signup-password",children:"Password *"}),c.jsxs("div",{className:"relative",children:[c.jsx(nn,{id:"signup-password",type:r?"text":"password",placeholder:"Create a password",value:w,onChange:j=>y(j.target.value),required:!0,minLength:6}),c.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>n(!r),children:r?c.jsx(lf,{className:"h-4 w-4"}):c.jsx($a,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{htmlFor:"signup-confirm",children:"Confirm Password *"}),c.jsx(nn,{id:"signup-confirm",type:"password",placeholder:"Confirm your password",value:x,onChange:j=>_(j.target.value),required:!0})]}),c.jsx(be,{type:"submit",className:"w-full",disabled:t,children:t?"Creating account...":"Create Account"})]})})]})]})})]})})},YA={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-20 w-20 text-xl",xl:"h-32 w-32 text-3xl"},JA={sm:"h-2.5 w-2.5 right-0 bottom-0",md:"h-3 w-3 right-0 bottom-0",lg:"h-4 w-4 right-1 bottom-1",xl:"h-5 w-5 right-2 bottom-2"},hr=({avatarUrl:t,initials:e,name:r,size:n="md",className:s,isOnline:i,showOnlineIndicator:o=!1})=>{const a=e||(r?XA(r):"??");return c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:Se("rounded-full flex items-center justify-center font-bold bg-primary text-primary-foreground overflow-hidden ring-2 ring-border",YA[n],s),children:t?c.jsx("img",{src:t,alt:r||"Player",className:"h-full w-full object-cover"}):c.jsx("span",{children:a})}),o&&c.jsx("span",{className:Se("absolute rounded-full border-2 border-background",JA[n],i?"bg-green-500":"bg-muted-foreground/50")})]})};function XA(t){var r;const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():((r=e[0])==null?void 0:r.substring(0,2).toUpperCase())||"??"}const ZA=()=>{const{user:t,profile:e,loading:r}=Ci(),[n,s]=f.useState(!1),[i,o]=f.useState(""),[a,l]=f.useState(!1),[u,d]=f.useState(null),[p,h]=f.useState(null),[m,v]=f.useState(null),[g,b]=f.useState(!1),[w,y]=f.useState(null),[x,_]=f.useState([]),S=f.useRef(null),{toast:E}=_i(),C=hl();f.useEffect(()=>{!r&&!t&&C("/auth")},[t,r,C]),f.useEffect(()=>{e&&(o(e.full_name),h(e.avatar_url))},[e]),f.useEffect(()=>{T()},[e]);const T=async()=>{const{data:R}=await ee.from("tournaments").select("*").in("status",["registration","in_progress"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(R&&(v(R),e)){const{data:q}=await ee.from("tournament_players").select("id").eq("tournament_id",R.id).eq("player_id",e.id).maybeSingle();if(b(!!q),R.status==="in_progress"){const{data:F}=await ee.from("games").select("id").eq("tournament_id",R.id).in("result",["pending","in_progress"]).or(`white_player_id.eq.${e.id},black_player_id.eq.${e.id}`).limit(1).maybeSingle();F&&y(F.id)}}e&&L()},L=async()=>{if(!e)return;const{data:R}=await ee.from("games").select("id, result, round, white_player_id, black_player_id, ended_at").or(`white_player_id.eq.${e.id},black_player_id.eq.${e.id}`).not("result","in",'("pending","in_progress")').order("ended_at",{ascending:!1}).limit(10);if(R&&R.length>0){const q=await Promise.all(R.map(async F=>{const G=F.white_player_id===e.id?F.black_player_id:F.white_player_id,{data:j}=await ee.from("profiles").select("username, avatar_url, avatar_initials").eq("id",G).single();return{...F,opponent_username:(j==null?void 0:j.username)||"Unknown",opponent_avatar_url:(j==null?void 0:j.avatar_url)||null,opponent_avatar_initials:(j==null?void 0:j.avatar_initials)||null,played_as:F.white_player_id===e.id?"white":"black"}}));_(q)}},M=R=>{var F;const q=(F=R.target.files)==null?void 0:F[0];if(q){d(q);const G=new FileReader;G.onloadend=()=>h(G.result),G.readAsDataURL(q)}},J=async()=>{if(!e||!t)return;l(!0);let R=e.avatar_url;if(u){const F=u.name.split(".").pop(),G=`${t.id}/${Date.now()}.${F}`,{error:j}=await ee.storage.from("avatars").upload(G,u,{upsert:!0});if(!j){const{data:P}=ee.storage.from("avatars").getPublicUrl(G);R=P.publicUrl}}const{error:q}=await ee.from("profiles").update({full_name:i,avatar_url:R,avatar_initials:X(i)}).eq("id",e.id);q?E({variant:"destructive",title:"Failed to update profile",description:q.message}):(E({title:"Profile updated!"}),s(!1),window.location.reload()),l(!1)},$=async()=>{if(!m||!e)return;l(!0);const{error:R}=await ee.from("tournament_players").insert({tournament_id:m.id,player_id:e.id});R?E({variant:"destructive",title:"Registration failed",description:R.message}):(E({title:"Registered!",description:"You're in the tournament!"}),b(!0)),l(!1)},X=R=>{var F;const q=R.trim().split(" ");return q.length>=2?(q[0][0]+q[q.length-1][0]).toUpperCase():((F=q[0])==null?void 0:F.substring(0,2).toUpperCase())||""};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(ar,{className:"h-8 w-8 animate-spin text-primary"})}):e?c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs(Le,{className:"border-2",children:[c.jsx(Et,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ct,{className:"font-display",children:"Player Profile"}),c.jsxs(be,{variant:"outline",size:"sm",onClick:()=>s(!n),children:[c.jsx(cT,{className:"h-4 w-4 mr-2"}),n?"Cancel":"Edit"]})]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(hr,{avatarUrl:p,initials:e.avatar_initials,name:e.full_name,size:"xl"}),n&&c.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-primary text-primary-foreground rounded-full hover:bg-primary/90 transition-colors",onClick:()=>{var R;return(R=S.current)==null?void 0:R.click()},children:c.jsx(Z2,{className:"h-4 w-4"})})]}),c.jsx("input",{ref:S,type:"file",accept:"image/*",className:"hidden",onChange:M})]}),c.jsx("div",{className:"flex-1 space-y-4",children:n?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{children:"Full Name"}),c.jsx(nn,{value:i,onChange:R=>o(R.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{children:"Username"}),c.jsx(nn,{value:e.username,disabled:!0,className:"bg-muted"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Username cannot be changed"})]}),c.jsxs(be,{onClick:J,disabled:a,children:[a?c.jsx(ar,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),c.jsx("p",{className:"font-bold text-xl",children:e.username})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),c.jsx("p",{className:"font-medium",children:e.full_name})]})]})})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(Le,{className:"card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx(No,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),c.jsx("p",{className:"text-2xl font-bold",children:e.games_played}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"})]})}),c.jsx(Le,{className:"card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx(Wn,{className:"h-8 w-8 mx-auto mb-2 text-accent"}),c.jsx("p",{className:"text-2xl font-bold",children:e.games_won}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Wins"})]})}),c.jsx(Le,{className:"card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx(mv,{className:"h-8 w-8 mx-auto mb-2 text-secondary"}),c.jsx("p",{className:"text-2xl font-bold",children:e.games_drawn}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Draws"})]})}),c.jsx(Le,{className:"card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx(Cu,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),c.jsx("p",{className:"text-2xl font-bold",children:Number(e.score).toFixed(1)}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Score"})]})})]}),m&&c.jsxs(Le,{className:"border-2 border-primary/20",children:[c.jsxs(Et,{children:[c.jsxs(Ct,{className:"flex items-center gap-2",children:[c.jsx(Wn,{className:"h-5 w-5 text-primary"}),m.name]}),c.jsxs(Ja,{children:["Format: ",m.format.replace(/_/g," "),"  Time Control: ",m.time_control]})]}),c.jsx(Fe,{children:m.status==="registration"?g?c.jsxs("div",{className:"bg-secondary/20 p-4 rounded-lg text-center",children:[c.jsx("p",{className:"text-secondary dark:text-neon-cyan font-bold",children:" You are registered!"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Waiting for tournament to start..."})]}):c.jsxs(be,{onClick:$,disabled:a,className:"w-full",children:[a?c.jsx(ar,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(No,{className:"h-4 w-4 mr-2"}),"Register for Tournament"]}):c.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg text-center space-y-3",children:[c.jsx("p",{className:"font-bold",children:"Tournament in progress"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Round Active"}),w?c.jsxs(be,{onClick:()=>C(`/game/${w}`),className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",children:[c.jsx(nm,{className:"h-4 w-4 mr-2"}),"Play Now"]}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"No active game found"})]})})]}),x.length>0&&c.jsxs(Le,{className:"border-2",children:[c.jsx(Et,{children:c.jsxs(Ct,{className:"flex items-center gap-2",children:[c.jsx(nT,{className:"h-5 w-5 text-primary"}),"Recent Games"]})}),c.jsx(Fe,{children:c.jsx("div",{className:"space-y-2",children:x.map(R=>{const q=R.played_as==="white"&&R.result==="white_wins"||R.played_as==="black"&&R.result==="black_wins",F=R.played_as==="white"&&R.result==="black_wins"||R.played_as==="black"&&R.result==="white_wins",G=R.result==="draw";return c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer hover:scale-[1.01] transition-all ${q?"bg-green-500/10 border-green-500/30":F?"bg-red-500/10 border-red-500/30":"bg-muted border-muted-foreground/20"}`,onClick:()=>C(`/game/${R.id}`),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(hr,{avatarUrl:R.opponent_avatar_url,initials:R.opponent_avatar_initials,name:R.opponent_username,size:"sm"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["vs ",R.opponent_username]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Round ",R.round,"  ",R.played_as==="white"?" White":" Black"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[q&&c.jsx($n,{className:"h-5 w-5 text-green-500"}),F&&c.jsx(mv,{className:"h-5 w-5 text-red-500"}),G&&c.jsx(aT,{className:"h-5 w-5 text-muted-foreground"}),c.jsx("span",{className:`font-bold ${q?"text-green-500":F?"text-red-500":"text-muted-foreground"}`,children:q?"Won":F?"Lost":"Draw"})]})]},R.id)})})})]})]})}):null},eI=(t="online-users")=>{const{profile:e}=Ci(),[r,n]=f.useState([]);return f.useEffect(()=>{if(!e)return;const i=ee.channel(t,{config:{presence:{key:e.id}}});return i.on("presence",{event:"sync"},()=>{const o=i.presenceState(),a=[];Object.values(o).forEach(l=>{l&&l[0]&&a.push(l[0])}),n(a)}).subscribe(async o=>{o==="SUBSCRIBED"&&await i.track({id:e.id,username:e.username,online_at:new Date().toISOString()})}),()=>{i.unsubscribe()}},[e,t]),{onlineUsers:r,isUserOnline:i=>r.some(o=>o.id===i)}},tI=()=>{const[t,e]=f.useState([]),[r,n]=f.useState([]),[s,i]=f.useState(!0),[o,a]=f.useState("Checkmate Cup 2K25"),[l,u]=f.useState(!1),{isUserOnline:d}=eI();f.useEffect(()=>{p();const v=ee.channel("standings").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{p()}).on("postgres_changes",{event:"*",schema:"public",table:"games"},()=>{p()}).subscribe();return()=>{ee.removeChannel(v)}},[]);const p=async()=>{const{data:v}=await ee.from("tournaments").select("id, name, format, current_round, total_rounds").in("status",["registration","in_progress","completed"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(v&&(a(v.name),(v.format==="swiss_super_league"||v.format==="swiss_playoffs")&&v.current_round&&v.total_rounds)){const{data:w}=await ee.from("games").select(`
            id,
            white_player_id,
            black_player_id,
            result,
            round
          `).eq("tournament_id",v.id).gte("round",v.current_round);if(w&&w.length>0){const y=new Set;w.forEach(S=>{y.add(S.white_player_id),y.add(S.black_player_id)});const x={};w.forEach(S=>{x[S.white_player_id]||(x[S.white_player_id]=0),x[S.black_player_id]||(x[S.black_player_id]=0),S.result==="white_wins"?x[S.white_player_id]+=1:S.result==="black_wins"?x[S.black_player_id]+=1:S.result==="draw"&&(x[S.white_player_id]+=.5,x[S.black_player_id]+=.5)});const{data:_}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, score, games_played, games_won, rating").in("id",Array.from(y));if(_&&_.length>0){const S=_.map(E=>({...E,super_league_score:x[E.id]||0})).sort((E,C)=>C.super_league_score-E.super_league_score);n(S),u(!0)}}}const{data:g}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, score, games_played, games_won, rating").order("score",{ascending:!1,nullsFirst:!1}).order("games_won",{ascending:!1,nullsFirst:!1});g&&e(g),i(!1)},h=v=>v===0?c.jsx(Wn,{className:"h-6 w-6 text-yellow-500 trophy-shine"}):v===1?c.jsx(c1,{className:"h-6 w-6 text-gray-400"}):v===2?c.jsx(Cu,{className:"h-6 w-6 text-amber-700"}):c.jsx("span",{className:"w-6 h-6 flex items-center justify-center font-bold text-muted-foreground",children:v+1}),m=v=>v===0?"bg-gradient-to-r from-yellow-500/20 to-amber-500/20 border-yellow-500/30":v===1?"bg-gradient-to-r from-gray-400/20 to-slate-400/20 border-gray-400/30":v===2?"bg-gradient-to-r from-amber-700/20 to-orange-700/20 border-amber-700/30":"";return c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"font-display text-3xl md:text-4xl font-bold mb-2",children:"Tournament Standings"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:o})]}),l&&r.length>0&&c.jsxs(Le,{className:"border-2 dark:rgb-border",children:[c.jsx(Et,{children:c.jsxs(Ct,{className:"flex items-center gap-2",children:[c.jsx(p1,{className:"h-5 w-5 text-accent dark:rgb-text"}),c.jsx("span",{className:"dark:rgb-text",children:"Super League Standings"})]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-2 px-4 py-2 text-sm font-medium text-muted-foreground border-b",children:[c.jsx("div",{className:"col-span-1",children:"#"}),c.jsx("div",{className:"col-span-5",children:"Player"}),c.jsx("div",{className:"col-span-2 text-center",children:"Rating"}),c.jsx("div",{className:"col-span-2 text-center",children:"SL Score"}),c.jsx("div",{className:"col-span-2 text-center",children:"Total"})]}),r.map((v,g)=>c.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center px-4 py-3 rounded-lg border transition-all hover:scale-[1.01] ${m(g)} dark:rgb-glow`,style:{animationDelay:`${g*.5}s`},children:[c.jsx("div",{className:"col-span-1",children:h(g)}),c.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[c.jsx(hr,{avatarUrl:v.avatar_url,initials:v.avatar_initials,name:v.full_name,size:"sm",showOnlineIndicator:!0,isOnline:d(v.id)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:v.username}),c.jsx("p",{className:"text-xs text-muted-foreground",children:v.full_name})]})]}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-primary",children:v.rating||1200})}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-lg text-accent",children:v.super_league_score.toFixed(1)})}),c.jsx("div",{className:"col-span-2 text-center text-sm text-muted-foreground",children:Number(v.score||0).toFixed(1)})]},v.id))]})})]}),c.jsxs(Le,{className:"border-2",children:[c.jsx(Et,{children:c.jsxs(Ct,{className:"flex items-center gap-2",children:[c.jsx(Wn,{className:"h-5 w-5 text-primary"}),l?"Swiss Round Rankings":"Current Rankings"]})}),c.jsx(Fe,{children:s?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading standings..."}):t.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No players yet."}):c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-2 px-4 py-2 text-sm font-medium text-muted-foreground border-b",children:[c.jsx("div",{className:"col-span-1",children:"#"}),c.jsx("div",{className:"col-span-5",children:"Player"}),c.jsx("div",{className:"col-span-2 text-center",children:"Rating"}),c.jsx("div",{className:"col-span-2 text-center",children:"Score"}),c.jsx("div",{className:"col-span-2 text-center",children:"W/L"})]}),t.map((v,g)=>c.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center px-4 py-3 rounded-lg border transition-all hover:scale-[1.01] ${m(g)}`,children:[c.jsx("div",{className:"col-span-1",children:h(g)}),c.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[c.jsx(hr,{avatarUrl:v.avatar_url,initials:v.avatar_initials,name:v.full_name,size:"sm",showOnlineIndicator:!0,isOnline:d(v.id)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:v.username}),c.jsx("p",{className:"text-xs text-muted-foreground",children:v.full_name})]})]}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-primary",children:v.rating||1200})}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-lg",children:Number(v.score||0).toFixed(1)})}),c.jsxs("div",{className:"col-span-2 text-center text-sm",children:[c.jsx("span",{className:"text-green-500",children:v.games_won||0}),c.jsx("span",{className:"text-muted-foreground",children:"/"}),c.jsx("span",{className:"text-red-500",children:(v.games_played||0)-(v.games_won||0)})]})]},v.id))]})})]})]})})},rI=()=>{const[t,e]=f.useState(null),[r,n]=f.useState(!0);f.useEffect(()=>{s()},[]);const s=async()=>{const{data:i}=await ee.from("champions").select(`
        id,
        published,
        first_place:first_place_id (id, username, full_name, avatar_url, avatar_initials),
        second_place:second_place_id (id, username, full_name, avatar_url, avatar_initials),
        third_place:third_place_id (id, username, full_name, avatar_url, avatar_initials),
        tournament:tournament_id (name)
      `).eq("published",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();i&&e(i),n(!1)};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center",children:[c.jsx($n,{className:"h-16 w-16 mx-auto text-primary animate-float"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading champions..."})]})}):t?c.jsxs("div",{className:"min-h-screen bg-background py-12 px-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/5"}),c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:50}).map((i,o)=>c.jsx("div",{className:"absolute w-3 h-3 rounded-full",style:{left:`${Math.random()*100}%`,top:`-${Math.random()*20}%`,backgroundColor:["#FFD700","#C41E3A","#228B22","#00D4FF","#8B5CF6"][Math.floor(Math.random()*5)],animation:`confetti-fall ${5+Math.random()*5}s linear infinite`,animationDelay:`${Math.random()*5}s`}},o))}),c.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[c.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx($n,{className:"h-20 w-20 text-accent trophy-shine"})}),c.jsx("h1",{className:"font-display text-4xl md:text-5xl font-bold mb-2 bg-clip-text text-transparent bg-christmas-gradient dark:bg-neon-gradient",children:"Christmas Gambit Cup 2K25"}),c.jsx("p",{className:"text-xl text-muted-foreground font-gamer-body",children:"Champions"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-end",children:[c.jsx("div",{className:"order-2 md:order-1 animate-fade-in-up",style:{animationDelay:"0.2s"},children:t.second_place&&c.jsx(Le,{className:"border-2 border-gray-400/30 card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsxs("div",{className:"relative inline-block mb-4",children:[c.jsx(hr,{avatarUrl:t.second_place.avatar_url,initials:t.second_place.avatar_initials,name:t.second_place.full_name,size:"lg",className:"ring-4 ring-gray-400"}),c.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gray-400 rounded-full p-2",children:c.jsx(c1,{className:"h-5 w-5 text-white"})})]}),c.jsx("h3",{className:"font-display text-xl font-bold",children:t.second_place.username}),c.jsx("p",{className:"text-muted-foreground",children:t.second_place.full_name}),c.jsxs("div",{className:"mt-4 py-2 bg-gray-400/20 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-400",children:""}),c.jsx("p",{className:"text-sm font-medium",children:"Runner-up"})]})]})})}),c.jsx("div",{className:"order-1 md:order-2 animate-fade-in-up",children:t.first_place&&c.jsxs(Le,{className:"border-4 border-yellow-500/50 shadow-xl relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/10 via-transparent to-amber-500/10"}),c.jsxs(Fe,{className:"pt-8 pb-6 text-center relative",children:[c.jsxs("div",{className:"relative inline-block mb-4",children:[c.jsx(hr,{avatarUrl:t.first_place.avatar_url,initials:t.first_place.avatar_initials,name:t.first_place.full_name,size:"xl",className:"ring-4 ring-yellow-500 trophy-shine"}),c.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:c.jsx($n,{className:"h-10 w-10 text-yellow-500 trophy-shine"})})]}),c.jsx("h3",{className:"font-display text-2xl font-bold",children:t.first_place.username}),c.jsx("p",{className:"text-muted-foreground",children:t.first_place.full_name}),c.jsxs("div",{className:"mt-4 py-3 bg-yellow-500/20 rounded-lg",children:[c.jsx("p",{className:"text-3xl font-bold",children:""}),c.jsx("p",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400",children:"CHAMPION"})]})]})]})}),c.jsx("div",{className:"order-3 animate-fade-in-up",style:{animationDelay:"0.4s"},children:t.third_place&&c.jsx(Le,{className:"border-2 border-amber-700/30 card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsxs("div",{className:"relative inline-block mb-4",children:[c.jsx(hr,{avatarUrl:t.third_place.avatar_url,initials:t.third_place.avatar_initials,name:t.third_place.full_name,size:"lg",className:"ring-4 ring-amber-700"}),c.jsx("div",{className:"absolute -bottom-2 -right-2 bg-amber-700 rounded-full p-2",children:c.jsx(Cu,{className:"h-5 w-5 text-white"})})]}),c.jsx("h3",{className:"font-display text-xl font-bold",children:t.third_place.username}),c.jsx("p",{className:"text-muted-foreground",children:t.third_place.full_name}),c.jsxs("div",{className:"mt-4 py-2 bg-amber-700/20 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-amber-700",children:""}),c.jsx("p",{className:"text-sm font-medium",children:"Third Place"})]})]})})})]}),c.jsxs("div",{className:"text-center mt-12",children:[c.jsx("div",{className:"candy-divider w-48 mx-auto mb-4 dark:hidden"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:" Congratulations to all participants! "})]})]})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx(Wn,{className:"h-20 w-20 mx-auto text-muted-foreground mb-4"}),c.jsx("h1",{className:"font-display text-2xl font-bold mb-2",children:"No Champions Yet"}),c.jsx("p",{className:"text-muted-foreground",children:"The tournament hasn't concluded yet. Check back after the final games!"})]})})},nI=()=>{const{profile:t}=Ci(),[e,r]=f.useState([]),[n,s]=f.useState(!0);f.useEffect(()=>{i();const a=ee.channel("games-list").on("postgres_changes",{event:"*",schema:"public",table:"games"},()=>{i()}).subscribe();return()=>{ee.removeChannel(a)}},[]);const i=async()=>{const{data:a}=await ee.from("tournaments").select("id").in("status",["in_progress","completed"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(a){const{data:l}=await ee.from("games").select(`
          id,
          round,
          result,
          white_player_id,
          black_player_id,
          white_player:white_player_id (username, avatar_url, avatar_initials),
          black_player:black_player_id (username, avatar_url, avatar_initials)
        `).eq("tournament_id",a.id).order("round",{ascending:!1}).order("created_at",{ascending:!1});l&&r(l)}s(!1)},o=(a,l,u)=>a==="pending"?c.jsx("span",{className:"text-muted-foreground",children:"Pending"}):a==="in_progress"?c.jsx("span",{className:"text-primary",children:"Live"}):a==="draw"?c.jsx("span",{className:"text-muted-foreground",children:"Draw"}):a==="white_wins"&&l?c.jsx("span",{className:"text-green-500",children:"Won"}):a==="black_wins"&&u?c.jsx("span",{className:"text-green-500",children:"Won"}):a==="white_wins"&&u?c.jsx("span",{className:"text-destructive",children:"Lost"}):a==="black_wins"&&l?c.jsx("span",{className:"text-destructive",children:"Lost"}):c.jsx("span",{className:"capitalize",children:a.replace(/_/g," ")});return c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"font-display text-3xl md:text-4xl font-bold mb-2",children:"Games"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Active and completed matches"})]}),c.jsxs(Le,{className:"border-2",children:[c.jsx(Et,{children:c.jsxs(Ct,{className:"flex items-center gap-2",children:[c.jsx(No,{className:"h-5 w-5 text-primary"}),"Match List"]})}),c.jsx(Fe,{children:n?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading games..."}):e.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No games yet. The tournament hasn't started."}):c.jsx("div",{className:"space-y-3",children:e.map(a=>{var p,h,m,v,g,b;const l=(t==null?void 0:t.id)===a.white_player_id,u=(t==null?void 0:t.id)===a.black_player_id,d=l||u;return c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-all ${d?"border-primary/30 bg-primary/5":""} ${a.result==="in_progress"?"ring-2 ring-primary":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:"Round"}),c.jsx("p",{className:"font-bold",children:a.round})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hr,{avatarUrl:(p=a.white_player)==null?void 0:p.avatar_url,initials:(h=a.white_player)==null?void 0:h.avatar_initials,size:"sm"}),c.jsx("span",{className:`font-medium ${l?"text-primary font-bold":""}`,children:(m=a.white_player)==null?void 0:m.username})]}),c.jsx("span",{className:"text-muted-foreground",children:"vs"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hr,{avatarUrl:(v=a.black_player)==null?void 0:v.avatar_url,initials:(g=a.black_player)==null?void 0:g.avatar_initials,size:"sm"}),c.jsx("span",{className:`font-medium ${u?"text-primary font-bold":""}`,children:(b=a.black_player)==null?void 0:b.username})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-right",children:o(a.result,l,u)}),c.jsx(rn,{to:`/game/${a.id}`,children:c.jsx(be,{size:"sm",variant:a.result==="in_progress"&&d?"default":"outline",children:a.result==="in_progress"?d?c.jsxs(c.Fragment,{children:[c.jsx(af,{className:"h-4 w-4 mr-1"})," Play"]}):c.jsxs(c.Fragment,{children:[c.jsx($a,{className:"h-4 w-4 mr-1"})," Watch"]}):c.jsxs(c.Fragment,{children:[c.jsx($a,{className:"h-4 w-4 mr-1"})," View"]})})})]})]},a.id)})})})]})]})})};function sI(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function iI(t,e,r,n,s){const i={move:t,variations:s};return e&&(i.suffix=e),r&&(i.nag=r),n!==null&&(i.comment=n),i}function oI(...t){const[e,...r]=t;let n=e;for(const s of r)s!==null&&(n.variations=[s,...s.variations],s.variations=[],n=s);return e}function aI(t,e){if(e.marker&&e.marker.comment){let r=e.root;for(;;){const n=r.variations[0];if(!n){r.comment=e.marker.comment;break}r=n}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function lI(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function Ro(t,e,r,n){var s=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(s,Ro.prototype),s.expected=e,s.found=r,s.location=n,s.name="SyntaxError",s}lI(Ro,Error);function zd(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,r+=r.repeat(e),t+r.slice(0,e))}Ro.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){r=t[n].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,i=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,o=this.location.source+":"+i.line+":"+i.column;if(r){var a=this.location.end,l=zd("",i.line.toString().length," "),u=r[s.line-1],d=s.line===a.line?a.column:u.length+1,p=d-s.column||1;e+=`
 --> `+o+`
`+l+` |
`+i.line+" | "+u+`
`+l+" | "+zd("",s.column-1," ")+zd("",p,"^")}else e+=`
 at `+o}return e};Ro.buildMessage=function(t,e){var r={literal:function(u){return'"'+s(u.text)+'"'},class:function(u){var d=u.parts.map(function(p){return Array.isArray(p)?i(p[0])+"-"+i(p[1]):i(p)});return"["+(u.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function n(u){return u.charCodeAt(0).toString(16).toUpperCase()}function s(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+n(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+n(d)})}function i(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+n(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+n(d)})}function o(u){return r[u.type](u)}function a(u){var d=u.map(o),p,h;if(d.sort(),d.length>0){for(p=1,h=1;p<d.length;p++)d[p-1]!==d[p]&&(d[h]=d[p],h++);d.length=h}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function l(u){return u?'"'+s(u)+'"':"end of input"}return"Expected "+a(t)+" but "+l(e)+" found."};function cI(t,e){e=e!==void 0?e:{};var r={},n=e.grammarSource,s={pgn:Hm},i=Hm,o="[",a='"',l="]",u=".",d="O-O-O",p="O-O",h="0-0-0",m="0-0",v="$",g="{",b="}",w=";",y="(",x=")",_="1-0",S="0-1",E="1/2-1/2",C="*",T=/^[a-zA-Z]/,L=/^[^"]/,M=/^[0-9]/,J=/^[.]/,$=/^[a-zA-Z1-8\-=]/,X=/^[+#]/,R=/^[!?]/,q=/^[^}]/,F=/^[^\r\n]/,G=/^[ \t\r\n]/,j=Ke("tag pair"),P=Ae("[",!1),z=Ae('"',!1),Z=Ae("]",!1),k=Ke("tag name"),W=Ue([["a","z"],["A","Z"]],!1,!1),H=Ke("tag value"),Y=Ue(['"'],!0,!1),te=Ke("move number"),A=Ue([["0","9"]],!1,!1),ne=Ae(".",!1),ve=Ue(["."],!1,!1),oe=Ke("standard algebraic notation"),se=Ae("O-O-O",!1),he=Ae("O-O",!1),Ie=Ae("0-0-0",!1),xt=Ae("0-0",!1),ft=Ue([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),pt=Ue(["+","#"],!1,!1),fr=Ke("suffix annotation"),rr=Ue(["!","?"],!1,!1),Nr=Ke("NAG"),kn=Ae("$",!1),pr=Ke("brace comment"),Br=Ae("{",!1),Kt=Ue(["}"],!0,!1),Tn=Ae("}",!1),nr=Ke("rest of line comment"),lt=Ae(";",!1),Tt=Ue(["\r",`
`],!0,!1),K=Ke("variation"),ae=Ae("(",!1),le=Ae(")",!1),ke=Ke("game termination marker"),it=Ae("1-0",!1),jt=Ae("0-1",!1),Ye=Ae("1/2-1/2",!1),Je=Ae("*",!1),Ut=Ke("whitespace"),mr=Ue([" ","	","\r",`
`],!1,!1),zr=function(N,I){return aI(N,I)},Gt=function(N){return Object.fromEntries(N)},Wr=function(N,I){return[N,I]},Jn=function(N,I){return{root:N,marker:I}},sr=function(N,I){return oI(sI(N),...I.flat())},mt=function(N,I,D,de,fe){return iI(N,I,D,de,fe)},jn=function(N){return N},ue=function(N){return N.replace(/[\r\n]+/g," ")},Ne=function(N){return N.trim()},Re=function(N){return N},Nt=function(N,I){return{result:N,comment:I}},O=e.peg$currPos|0,Ot=[{line:1,column:1}],ot=O,bt=e.peg$maxFailExpected||[],B=e.peg$silentFails|0,$e;if(e.startRule){if(!(e.startRule in s))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=s[e.startRule]}function Ae(N,I){return{type:"literal",text:N,ignoreCase:I}}function Ue(N,I,D){return{type:"class",parts:N,inverted:I,ignoreCase:D}}function dn(){return{type:"end"}}function Ke(N){return{type:"other",description:N}}function ml(N){var I=Ot[N],D;if(I)return I;if(N>=Ot.length)D=Ot.length-1;else for(D=N;!Ot[--D];);for(I=Ot[D],I={line:I.line,column:I.column};D<N;)t.charCodeAt(D)===10?(I.line++,I.column=1):I.column++,D++;return Ot[N]=I,I}function Wm(N,I,D){var de=ml(N),fe=ml(I),De={source:n,start:{offset:N,line:de.line,column:de.column},end:{offset:I,line:fe.line,column:fe.column}};return De}function ce(N){O<ot||(O>ot&&(ot=O,bt=[]),bt.push(N))}function mE(N,I,D){return new Ro(Ro.buildMessage(N,I),N,I,D)}function Hm(){var N,I,D;return N=O,I=gE(),D=wE(),N=zr(I,D),N}function gE(){var N,I,D;for(N=O,I=[],D=Vm();D!==r;)I.push(D),D=Vm();return D=Qt(),N=Gt(I),N}function Vm(){var N,I,D,de,fe,De,Bs;return B++,N=O,Qt(),t.charCodeAt(O)===91?(I=o,O++):(I=r,B===0&&ce(P)),I!==r?(Qt(),D=vE(),D!==r?(Qt(),t.charCodeAt(O)===34?(de=a,O++):(de=r,B===0&&ce(z)),de!==r?(fe=yE(),t.charCodeAt(O)===34?(De=a,O++):(De=r,B===0&&ce(z)),De!==r?(Qt(),t.charCodeAt(O)===93?(Bs=l,O++):(Bs=r,B===0&&ce(Z)),Bs!==r?N=Wr(D,fe):(O=N,N=r)):(O=N,N=r)):(O=N,N=r)):(O=N,N=r)):(O=N,N=r),B--,N===r&&B===0&&ce(j),N}function vE(){var N,I,D;if(B++,N=O,I=[],D=t.charAt(O),T.test(D)?O++:(D=r,B===0&&ce(W)),D!==r)for(;D!==r;)I.push(D),D=t.charAt(O),T.test(D)?O++:(D=r,B===0&&ce(W));else I=r;return I!==r?N=t.substring(N,O):N=I,B--,N===r&&(I=r,B===0&&ce(k)),N}function yE(){var N,I,D;for(B++,N=O,I=[],D=t.charAt(O),L.test(D)?O++:(D=r,B===0&&ce(Y));D!==r;)I.push(D),D=t.charAt(O),L.test(D)?O++:(D=r,B===0&&ce(Y));return N=t.substring(N,O),B--,I=r,B===0&&ce(H),N}function wE(){var N,I,D;return N=O,I=qm(),Qt(),D=CE(),D===r&&(D=null),Qt(),N=Jn(I,D),N}function qm(){var N,I,D,de;for(N=O,I=Yu(),I===r&&(I=null),D=[],de=Km();de!==r;)D.push(de),de=Km();return N=sr(I,D),N}function Km(){var N,I,D,de,fe,De,Bs,gl;if(N=O,Qt(),xE(),Qt(),I=bE(),I!==r){for(D=_E(),D===r&&(D=null),de=[],fe=Gm();fe!==r;)de.push(fe),fe=Gm();for(fe=Qt(),De=Yu(),De===r&&(De=null),Bs=[],gl=Qm();gl!==r;)Bs.push(gl),gl=Qm();N=mt(I,D,de,De,Bs)}else O=N,N=r;return N}function xE(){var N,I,D,de,fe,De;for(B++,N=O,I=[],D=t.charAt(O),M.test(D)?O++:(D=r,B===0&&ce(A));D!==r;)I.push(D),D=t.charAt(O),M.test(D)?O++:(D=r,B===0&&ce(A));if(t.charCodeAt(O)===46?(D=u,O++):(D=r,B===0&&ce(ne)),D!==r){for(de=Qt(),fe=[],De=t.charAt(O),J.test(De)?O++:(De=r,B===0&&ce(ve));De!==r;)fe.push(De),De=t.charAt(O),J.test(De)?O++:(De=r,B===0&&ce(ve));I=[I,D,de,fe],N=I}else O=N,N=r;return B--,N===r&&(I=r,B===0&&ce(te)),N}function bE(){var N,I,D,de,fe,De;if(B++,N=O,I=O,t.substr(O,5)===d?(D=d,O+=5):(D=r,B===0&&ce(se)),D===r&&(t.substr(O,3)===p?(D=p,O+=3):(D=r,B===0&&ce(he)),D===r&&(t.substr(O,5)===h?(D=h,O+=5):(D=r,B===0&&ce(Ie)),D===r&&(t.substr(O,3)===m?(D=m,O+=3):(D=r,B===0&&ce(xt)),D===r))))if(D=O,de=t.charAt(O),T.test(de)?O++:(de=r,B===0&&ce(W)),de!==r){if(fe=[],De=t.charAt(O),$.test(De)?O++:(De=r,B===0&&ce(ft)),De!==r)for(;De!==r;)fe.push(De),De=t.charAt(O),$.test(De)?O++:(De=r,B===0&&ce(ft));else fe=r;fe!==r?(de=[de,fe],D=de):(O=D,D=r)}else O=D,D=r;return D!==r?(de=t.charAt(O),X.test(de)?O++:(de=r,B===0&&ce(pt)),de===r&&(de=null),D=[D,de],I=D):(O=I,I=r),I!==r?N=t.substring(N,O):N=I,B--,N===r&&(I=r,B===0&&ce(oe)),N}function _E(){var N,I,D;for(B++,N=O,I=[],D=t.charAt(O),R.test(D)?O++:(D=r,B===0&&ce(rr));D!==r;)I.push(D),I.length>=2?D=r:(D=t.charAt(O),R.test(D)?O++:(D=r,B===0&&ce(rr)));return I.length<1?(O=N,N=r):N=I,B--,N===r&&(I=r,B===0&&ce(fr)),N}function Gm(){var N,I,D,de,fe;if(B++,N=O,Qt(),t.charCodeAt(O)===36?(I=v,O++):(I=r,B===0&&ce(kn)),I!==r){if(D=O,de=[],fe=t.charAt(O),M.test(fe)?O++:(fe=r,B===0&&ce(A)),fe!==r)for(;fe!==r;)de.push(fe),fe=t.charAt(O),M.test(fe)?O++:(fe=r,B===0&&ce(A));else de=r;de!==r?D=t.substring(D,O):D=de,D!==r?N=jn(D):(O=N,N=r)}else O=N,N=r;return B--,N===r&&B===0&&ce(Nr),N}function Yu(){var N;return N=SE(),N===r&&(N=EE()),N}function SE(){var N,I,D,de,fe;if(B++,N=O,t.charCodeAt(O)===123?(I=g,O++):(I=r,B===0&&ce(Br)),I!==r){for(D=O,de=[],fe=t.charAt(O),q.test(fe)?O++:(fe=r,B===0&&ce(Kt));fe!==r;)de.push(fe),fe=t.charAt(O),q.test(fe)?O++:(fe=r,B===0&&ce(Kt));D=t.substring(D,O),t.charCodeAt(O)===125?(de=b,O++):(de=r,B===0&&ce(Tn)),de!==r?N=ue(D):(O=N,N=r)}else O=N,N=r;return B--,N===r&&(I=r,B===0&&ce(pr)),N}function EE(){var N,I,D,de,fe;if(B++,N=O,t.charCodeAt(O)===59?(I=w,O++):(I=r,B===0&&ce(lt)),I!==r){for(D=O,de=[],fe=t.charAt(O),F.test(fe)?O++:(fe=r,B===0&&ce(Tt));fe!==r;)de.push(fe),fe=t.charAt(O),F.test(fe)?O++:(fe=r,B===0&&ce(Tt));D=t.substring(D,O),N=Ne(D)}else O=N,N=r;return B--,N===r&&(I=r,B===0&&ce(nr)),N}function Qm(){var N,I,D,de;return B++,N=O,Qt(),t.charCodeAt(O)===40?(I=y,O++):(I=r,B===0&&ce(ae)),I!==r?(D=qm(),D!==r?(Qt(),t.charCodeAt(O)===41?(de=x,O++):(de=r,B===0&&ce(le)),de!==r?N=Re(D):(O=N,N=r)):(O=N,N=r)):(O=N,N=r),B--,N===r&&B===0&&ce(K),N}function CE(){var N,I,D;return B++,N=O,t.substr(O,3)===_?(I=_,O+=3):(I=r,B===0&&ce(it)),I===r&&(t.substr(O,3)===S?(I=S,O+=3):(I=r,B===0&&ce(jt)),I===r&&(t.substr(O,7)===E?(I=E,O+=7):(I=r,B===0&&ce(Ye)),I===r&&(t.charCodeAt(O)===42?(I=C,O++):(I=r,B===0&&ce(Je))))),I!==r?(Qt(),D=Yu(),D===r&&(D=null),N=Nt(I,D)):(O=N,N=r),B--,N===r&&(I=r,B===0&&ce(ke)),N}function Qt(){var N,I;for(B++,N=[],I=t.charAt(O),G.test(I)?O++:(I=r,B===0&&ce(mr));I!==r;)N.push(I),I=t.charAt(O),G.test(I)?O++:(I=r,B===0&&ce(mr));return B--,I=r,B===0&&ce(Ut),N}if($e=i(),e.peg$library)return{peg$result:$e,peg$currPos:O,peg$FAILED:r,peg$maxFailExpected:bt,peg$maxFailPos:ot};if($e!==r&&O===t.length)return $e;throw $e!==r&&O<t.length&&ce(dn()),mE(bt,ot<t.length?t.charAt(ot):null,ot<t.length?Wm(ot,ot+1):Wm(ot,ot))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const fc=0xffffffffffffffffn;function Wd(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function v0(t,e){return t*e&fc}function uI(t){return function(){let e=BigInt(t&fc),r=BigInt(t>>64n&fc);const n=v0(Wd(v0(e,5n),7n),9n);return r^=e,e=(Wd(e,24n)^r^r<<16n)&fc,r=Wd(r,37n),t=r<<64n|e,n}}const Uu=uI(0xa187eb39cdcaed8f31c4b365b102e01en),dI=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Uu()))),hI=Array.from({length:8},()=>Uu()),fI=Array.from({length:16},()=>Uu()),Hd=Uu(),Wt="w",vr="b",ct="p",If="n",pc="b",ia="r",ls="q",vt="k",Vd="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Hl{constructor(e,r){Ge(this,"color");Ge(this,"from");Ge(this,"to");Ge(this,"piece");Ge(this,"captured");Ge(this,"promotion");Ge(this,"flags");Ge(this,"san");Ge(this,"lan");Ge(this,"before");Ge(this,"after");const{color:n,piece:s,from:i,to:o,flags:a,captured:l,promotion:u}=r,d=_t(i),p=_t(o);this.color=n,this.piece=s,this.from=d,this.to=p,this.san=e._moveToSan(r,e._moves({legal:!0})),this.lan=d+p,this.before=e.fen(),e._makeMove(r),this.after=e.fen(),e._undoMove(),this.flags="";for(const h in we)we[h]&a&&(this.flags+=Hs[h]);l&&(this.captured=l),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(Hs.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Hs.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Hs.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Hs.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Hs.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Hs.BIG_PAWN)>-1}}const Rt=-1,Hs={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},we={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Df={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},pI={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},mI={...Df,...pI},ye={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},qd={b:[16,32,17,15],w:[-16,-32,-17,-15]},y0={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},gI=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],vI=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],yI={p:1,n:2,b:4,r:8,q:16,k:32},wI="pnbrqkPNBRQK",w0=[If,pc,ia,ls],xI=7,bI=6,_I=1,SI=0,Vl={[vt]:we.KSIDE_CASTLE,[ls]:we.QSIDE_CASTLE},ts={w:[{square:ye.a1,flag:we.QSIDE_CASTLE},{square:ye.h1,flag:we.KSIDE_CASTLE}],b:[{square:ye.a8,flag:we.QSIDE_CASTLE},{square:ye.h8,flag:we.KSIDE_CASTLE}]},EI={b:_I,w:bI},Kd="--";function li(t){return t>>4}function Xa(t){return t&15}function a_(t){return"0123456789".indexOf(t)!==-1}function _t(t){const e=Xa(t),r=li(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function Xo(t){return t===Wt?vr:Wt}function CI(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const s=e[0].split("/");if(s.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<s.length;o++){let a=0,l=!1;for(let u=0;u<s[o].length;u++)if(a_(s[o][u])){if(l)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};a+=parseInt(s[o][u],10),l=!0}else{if(!/^[prnbqkPRNBQK]$/.test(s[o][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};a+=1,l=!1}if(a!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:a}of i){if(!a.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(a)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(s[0]+s[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function kI(t,e){const r=t.from,n=t.to,s=t.piece;let i=0,o=0,a=0;for(let l=0,u=e.length;l<u;l++){const d=e[l].from,p=e[l].to,h=e[l].piece;s===h&&r!==d&&n===p&&(i++,li(r)===li(d)&&o++,Xa(r)===Xa(d)&&a++)}return i>0?o>0&&a>0?_t(r):a>0?_t(r).charAt(1):_t(r).charAt(0):""}function rs(t,e,r,n,s,i=void 0,o=we.NORMAL){const a=li(n);if(s===ct&&(a===xI||a===SI))for(let l=0;l<w0.length;l++){const u=w0[l];t.push({color:e,from:r,to:n,piece:s,captured:i,promotion:u,flags:o|we.PROMOTION})}else t.push({color:e,from:r,to:n,piece:s,captured:i,flags:o})}function x0(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:ct:(e=e.toLowerCase(),e==="o"?vt:e)}function Gd(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class vn{constructor(e=Vd,{skipValidation:r=!1}={}){Ge(this,"_board",new Array(128));Ge(this,"_turn",Wt);Ge(this,"_header",{});Ge(this,"_kings",{w:Rt,b:Rt});Ge(this,"_epSquare",-1);Ge(this,"_halfMoves",0);Ge(this,"_moveNumber",0);Ge(this,"_history",[]);Ge(this,"_comments",{});Ge(this,"_castling",{w:0,b:0});Ge(this,"_hash",0n);Ge(this,"_positionCount",new Map);this.load(e,{skipValidation:r})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:Rt,b:Rt},this._turn=Wt,this._castling={w:0,b:0},this._epSquare=Rt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...mI},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:r=!1,preserveHeaders:n=!1}={}){let s=e.split(/\s+/);if(s.length>=2&&s.length<6){const a=["-","-","0","1"];e=s.concat(a.slice(-(6-s.length))).join(" ")}if(s=e.split(/\s+/),!r){const{ok:a,error:l}=CI(e);if(!a)throw new Error(l)}const i=s[0];let o=0;this.clear({preserveHeaders:n});for(let a=0;a<i.length;a++){const l=i.charAt(a);if(l==="/")o+=8;else if(a_(l))o+=parseInt(l,10);else{const u=l<"a"?Wt:vr;this._put({type:l.toLowerCase(),color:u},_t(o)),o++}}this._turn=s[1],s[2].indexOf("K")>-1&&(this._castling.w|=we.KSIDE_CASTLE),s[2].indexOf("Q")>-1&&(this._castling.w|=we.QSIDE_CASTLE),s[2].indexOf("k")>-1&&(this._castling.b|=we.KSIDE_CASTLE),s[2].indexOf("q")>-1&&(this._castling.b|=we.QSIDE_CASTLE),this._epSquare=s[3]==="-"?Rt:ye[s[3]],this._halfMoves=parseInt(s[4],10),this._moveNumber=parseInt(s[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){var o,a;let r=0,n="";for(let l=ye.a8;l<=ye.h1;l++){if(this._board[l]){r>0&&(n+=r,r=0);const{color:u,type:d}=this._board[l];n+=u===Wt?d.toUpperCase():d.toLowerCase()}else r++;l+1&136&&(r>0&&(n+=r),l!==ye.h1&&(n+="/"),r=0,l+=8)}let s="";this._castling[Wt]&we.KSIDE_CASTLE&&(s+="K"),this._castling[Wt]&we.QSIDE_CASTLE&&(s+="Q"),this._castling[vr]&we.KSIDE_CASTLE&&(s+="k"),this._castling[vr]&we.QSIDE_CASTLE&&(s+="q"),s=s||"-";let i="-";if(this._epSquare!==Rt)if(e)i=_t(this._epSquare);else{const l=this._epSquare+(this._turn===Wt?16:-16),u=[l+1,l-1];for(const d of u){if(d&136)continue;const p=this._turn;if(((o=this._board[d])==null?void 0:o.color)===p&&((a=this._board[d])==null?void 0:a.type)===ct){this._makeMove({color:p,from:d,to:this._epSquare,piece:ct,captured:ct,flags:we.EP_CAPTURE});const h=!this._isKingAttacked(p);if(this._undoMove(),h){i=_t(this._epSquare);break}}}}return[n,this._turn,s,i,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:r,type:n}=this._board[e],s={w:0,b:1}[r],i={p:0,n:1,b:2,r:3,q:4,k:5}[n];return dI[s][i][e]}_epKey(){return this._epSquare===Rt?0n:hI[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return fI[e]}_computeHash(){let e=0n;for(let r=ye.a8;r<=ye.h1;r++){if(r&136){r+=7;continue}this._board[r]&&(e^=this._pieceKey(r))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=Hd),e}_updateSetup(e){this._history.length>0||(e!==Vd?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Vd)}get(e){return this._board[ye[e]]}findPiece(e){var n;const r=[];for(let s=ye.a8;s<=ye.h1;s++){if(s&136){s+=7;continue}!this._board[s]||((n=this._board[s])==null?void 0:n.color)!==e.color||this._board[s].color===e.color&&this._board[s].type===e.type&&r.push(_t(s))}return r}put({type:e,color:r},n){return this._put({type:e,color:r},n)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,r){this._hash^=this._pieceKey(e),this._board[e]=r,this._hash^=this._pieceKey(e)}_put({type:e,color:r},n){if(wI.indexOf(e.toLowerCase())===-1||!(n in ye))return!1;const s=ye[n];if(e==vt&&!(this._kings[r]==Rt||this._kings[r]==s))return!1;const i=this._board[s];return i&&i.type===vt&&(this._kings[i.color]=Rt),this._set(s,{type:e,color:r}),e===vt&&(this._kings[r]=s),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const r=this.get(e);return this._clear(ye[e]),r&&r.type===vt&&(this._kings[r.color]=Rt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){var n,s,i,o,a,l,u,d,p,h,m,v;this._hash^=this._castlingKey();const e=((n=this._board[ye.e1])==null?void 0:n.type)===vt&&((s=this._board[ye.e1])==null?void 0:s.color)===Wt,r=((i=this._board[ye.e8])==null?void 0:i.type)===vt&&((o=this._board[ye.e8])==null?void 0:o.color)===vr;(!e||((a=this._board[ye.a1])==null?void 0:a.type)!==ia||((l=this._board[ye.a1])==null?void 0:l.color)!==Wt)&&(this._castling.w&=-65),(!e||((u=this._board[ye.h1])==null?void 0:u.type)!==ia||((d=this._board[ye.h1])==null?void 0:d.color)!==Wt)&&(this._castling.w&=-33),(!r||((p=this._board[ye.a8])==null?void 0:p.type)!==ia||((h=this._board[ye.a8])==null?void 0:h.color)!==vr)&&(this._castling.b&=-65),(!r||((m=this._board[ye.h8])==null?void 0:m.type)!==ia||((v=this._board[ye.h8])==null?void 0:v.color)!==vr)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var i,o;if(this._epSquare===Rt)return;const e=this._epSquare+(this._turn===Wt?-16:16),r=this._epSquare+(this._turn===Wt?16:-16),n=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((i=this._board[r])==null?void 0:i.color)!==Xo(this._turn)||((o=this._board[r])==null?void 0:o.type)!==ct){this._hash^=this._epKey(),this._epSquare=Rt;return}const s=a=>{var l,u;return!(a&136)&&((l=this._board[a])==null?void 0:l.color)===this._turn&&((u=this._board[a])==null?void 0:u.type)===ct};n.some(s)||(this._hash^=this._epKey(),this._epSquare=Rt)}_attacked(e,r,n){const s=[];for(let i=ye.a8;i<=ye.h1;i++){if(i&136){i+=7;continue}if(this._board[i]===void 0||this._board[i].color!==e)continue;const o=this._board[i],a=i-r;if(a===0)continue;const l=a+119;if(gI[l]&yI[o.type]){if(o.type===ct){if(a>0&&o.color===Wt||a<=0&&o.color===vr)if(n)s.push(_t(i));else return!0;continue}if(o.type==="n"||o.type==="k")if(n){s.push(_t(i));continue}else return!0;const u=vI[l];let d=i+u,p=!1;for(;d!==r;){if(this._board[d]!=null){p=!0;break}d+=u}if(!p)if(n){s.push(_t(i));continue}else return!0}}return n?s:!1}attackers(e,r){return r?this._attacked(r,ye[e],!0):this._attacked(this._turn,ye[e],!0)}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(Xo(e),r)}hash(){return this._hash.toString(16)}isAttacked(e,r){return this._attacked(r,ye[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let n=0,s=0;for(let i=ye.a8;i<=ye.h1;i++){if(s=(s+1)%2,i&136){i+=7;continue}const o=this._board[i];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===pc&&r.push(s),n++)}if(n===2)return!0;if(n===3&&(e[pc]===1||e[If]===1))return!0;if(n===e[pc]+2){let i=0;const o=r.length;for(let a=0;a<o;a++)i+=r[a];if(i===0||i===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:n=void 0}={}){const s=this._moves({square:r,piece:n});return e?s.map(i=>new Hl(this,i)):s.map(i=>this._moveToSan(i,s))}_moves({legal:e=!0,piece:r=void 0,square:n=void 0}={}){var m;const s=n?n.toLowerCase():void 0,i=r==null?void 0:r.toLowerCase(),o=[],a=this._turn,l=Xo(a);let u=ye.a8,d=ye.h1,p=!1;if(s)if(s in ye)u=d=ye[s],p=!0;else return[];for(let v=u;v<=d;v++){if(v&136){v+=7;continue}if(!this._board[v]||this._board[v].color===l)continue;const{type:g}=this._board[v];let b;if(g===ct){if(i&&i!==g)continue;b=v+qd[a][0],this._board[b]||(rs(o,a,v,b,ct),b=v+qd[a][1],EI[a]===li(v)&&!this._board[b]&&rs(o,a,v,b,ct,void 0,we.BIG_PAWN));for(let w=2;w<4;w++)b=v+qd[a][w],!(b&136)&&(((m=this._board[b])==null?void 0:m.color)===l?rs(o,a,v,b,ct,this._board[b].type,we.CAPTURE):b===this._epSquare&&rs(o,a,v,b,ct,ct,we.EP_CAPTURE))}else{if(i&&i!==g)continue;for(let w=0,y=y0[g].length;w<y;w++){const x=y0[g][w];for(b=v;b+=x,!(b&136);){if(!this._board[b])rs(o,a,v,b,g);else{if(this._board[b].color===a)break;rs(o,a,v,b,g,this._board[b].type,we.CAPTURE);break}if(g===If||g===vt)break}}}}if((i===void 0||i===vt)&&(!p||d===this._kings[a])){if(this._castling[a]&we.KSIDE_CASTLE){const v=this._kings[a],g=v+2;!this._board[v+1]&&!this._board[g]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v+1)&&!this._attacked(l,g)&&rs(o,a,this._kings[a],g,vt,void 0,we.KSIDE_CASTLE)}if(this._castling[a]&we.QSIDE_CASTLE){const v=this._kings[a],g=v-2;!this._board[v-1]&&!this._board[v-2]&&!this._board[v-3]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v-1)&&!this._attacked(l,g)&&rs(o,a,this._kings[a],g,vt,void 0,we.QSIDE_CASTLE)}}if(!e||this._kings[a]===-1)return o;const h=[];for(let v=0,g=o.length;v<g;v++)this._makeMove(o[v]),this._isKingAttacked(a)||h.push(o[v]),this._undoMove();return h}move(e,{strict:r=!1}={}){let n=null;if(typeof e=="string")n=this._moveFromSan(e,r);else if(e===null)n=this._moveFromSan(Kd,r);else if(typeof e=="object"){const i=this._moves();for(let o=0,a=i.length;o<a;o++)if(e.from===_t(i[o].from)&&e.to===_t(i[o].to)&&(!("promotion"in i[o])||e.promotion===i[o].promotion)){n=i[o];break}}if(!n)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&n.flags&we.NULL_MOVE)throw new Error("Null move not allowed when in check");const s=new Hl(this,n);return this._makeMove(n),this._incPositionCount(),s}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,r){this._hash^=this._pieceKey(e),this._board[r]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(r)}_makeMove(e){var s,i,o,a;const r=this._turn,n=Xo(r);if(this._push(e),e.flags&we.NULL_MOVE){r===vr&&this._moveNumber++,this._halfMoves++,this._turn=n,this._epSquare=Rt;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&we.EP_CAPTURE&&(this._turn===vr?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:r})),this._board[e.to].type===vt){if(this._kings[r]=e.to,e.flags&we.KSIDE_CASTLE){const l=e.to-1,u=e.to+1;this._movePiece(u,l)}else if(e.flags&we.QSIDE_CASTLE){const l=e.to+1,u=e.to-2;this._movePiece(u,l)}this._castling[r]=0}if(this._castling[r]){for(let l=0,u=ts[r].length;l<u;l++)if(e.from===ts[r][l].square&&this._castling[r]&ts[r][l].flag){this._castling[r]^=ts[r][l].flag;break}}if(this._castling[n]){for(let l=0,u=ts[n].length;l<u;l++)if(e.to===ts[n][l].square&&this._castling[n]&ts[n][l].flag){this._castling[n]^=ts[n][l].flag;break}}if(this._hash^=this._castlingKey(),e.flags&we.BIG_PAWN){let l;r===vr?l=e.to-16:l=e.to+16,!(e.to-1&136)&&((s=this._board[e.to-1])==null?void 0:s.type)===ct&&((i=this._board[e.to-1])==null?void 0:i.color)===n||!(e.to+1&136)&&((o=this._board[e.to+1])==null?void 0:o.type)===ct&&((a=this._board[e.to+1])==null?void 0:a.color)===n?(this._epSquare=l,this._hash^=this._epKey()):this._epSquare=Rt}else this._epSquare=Rt;e.piece===ct?this._halfMoves=0:e.flags&(we.CAPTURE|we.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===vr&&this._moveNumber++,this._turn=n,this._hash^=Hd}undo(){const e=this._hash,r=this._undoMove();if(r){const n=new Hl(this,r);return this._decPositionCount(e),n}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Hd;const n=this._turn,s=Xo(n);if(r.flags&we.NULL_MOVE)return r;if(this._movePiece(r.to,r.from),r.piece&&(this._clear(r.from),this._set(r.from,{type:r.piece,color:n})),r.captured)if(r.flags&we.EP_CAPTURE){let i;n===vr?i=r.to-16:i=r.to+16,this._set(i,{type:ct,color:s})}else this._set(r.to,{type:r.captured,color:s});if(r.flags&(we.KSIDE_CASTLE|we.QSIDE_CASTLE)){let i,o;r.flags&we.KSIDE_CASTLE?(i=r.to+1,o=r.to-1):(i=r.to-2,o=r.to+1),this._movePiece(o,i)}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const n=[];let s=!1;for(const h in this._header)this._header[h]&&n.push(`[${h} "${this._header[h]}"]`+e),s=!0;s&&this._history.length&&n.push(e);const i=h=>{const m=this._comments[this.fen()];if(typeof m<"u"){const v=h.length>0?" ":"";h=`${h}${v}{${m}}`}return h},o=[];for(;this._history.length>0;)o.push(this._undoMove());const a=[];let l="";for(o.length===0&&a.push(i(""));o.length>0;){l=i(l);const h=o.pop();if(!h)break;if(!this._history.length&&h.color==="b"){const m=`${this._moveNumber}. ...`;l=l?`${l} ${m}`:m}else h.color==="w"&&(l.length&&a.push(l),l=this._moveNumber+".");l=l+" "+this._moveToSan(h,this._moves({legal:!0})),this._makeMove(h)}if(l.length&&a.push(i(l)),a.push(this._header.Result||"*"),r===0)return n.join("")+a.join(" ");const u=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},d=function(h,m){for(const v of m.split(" "))if(v){if(h+v.length>r){for(;u();)h--;n.push(e),h=0}n.push(v),h+=v.length,n.push(" "),h++}return u()&&h--,h};let p=0;for(let h=0;h<a.length;h++){if(p+a[h].length>r&&a[h].includes("{")){p=d(p,a[h]);continue}p+a[h].length>r&&h!==0?(n[n.length-1]===" "&&n.pop(),n.push(e),p=0):h!==0&&(n.push(" "),p++),n.push(a[h]),p+=a[h].length}return n.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}setHeader(e,r){return this._header[e]=r??Df[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Df[e]||null,!0):!1}getHeaders(){const e={};for(const[r,n]of Object.entries(this._header))n!==null&&(e[r]=n);return e}loadPgn(e,{strict:r=!1,newlineChar:n=`\r?
`}={}){n!==`\r?
`&&(e=e.replace(new RegExp(n,"g"),`
`));const s=cI(e);this.reset();const i=s.headers;let o="";for(const u in i)u.toLowerCase()==="fen"&&(o=i[u]),this.header(u,i[u]);if(!r)o&&this.load(o,{preserveHeaders:!0});else if(i.SetUp==="1"){if(!("FEN"in i))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(i.FEN,{preserveHeaders:!0})}let a=s.root;for(;a;){if(a.move){const u=this._moveFromSan(a.move,r);if(u==null)throw new Error(`Invalid move in PGN: ${a.move}`);this._makeMove(u),this._incPositionCount()}a.comment!==void 0&&(this._comments[this.fen()]=a.comment),a=a.variations[0]}const l=s.result;l&&Object.keys(this._header).length&&this._header.Result!==l&&this.setHeader("Result",l)}_moveToSan(e,r){let n="";if(e.flags&we.KSIDE_CASTLE)n="O-O";else if(e.flags&we.QSIDE_CASTLE)n="O-O-O";else{if(e.flags&we.NULL_MOVE)return Kd;if(e.piece!==ct){const s=kI(e,r);n+=e.piece.toUpperCase()+s}e.flags&(we.CAPTURE|we.EP_CAPTURE)&&(e.piece===ct&&(n+=_t(e.from)[0]),n+="x"),n+=_t(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,r=!1){let n=Gd(e);if(r||(n==="0-0"?n="O-O":n==="0-0-0"&&(n="O-O-O")),n==Kd)return{color:this._turn,from:0,to:0,piece:"k",flags:we.NULL_MOVE};let s=x0(n),i=this._moves({legal:!0,piece:s});for(let h=0,m=i.length;h<m;h++)if(n===Gd(this._moveToSan(i[h],i)))return i[h];if(r)return null;let o,a,l,u,d,p=!1;if(a=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),a?(o=a[1],l=a[2],u=a[3],d=a[4],l.length==1&&(p=!0)):(a=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),a&&(o=a[1],l=a[2],u=a[3],d=a[4],l.length==1&&(p=!0))),s=x0(n),i=this._moves({legal:!0,piece:o||s}),!u)return null;for(let h=0,m=i.length;h<m;h++)if(l){if((!o||o.toLowerCase()==i[h].piece)&&ye[l]==i[h].from&&ye[u]==i[h].to&&(!d||d.toLowerCase()==i[h].promotion))return i[h];if(p){const v=_t(i[h].from);if((!o||o.toLowerCase()==i[h].piece)&&ye[u]==i[h].to&&(l==v[0]||l==v[1])&&(!d||d.toLowerCase()==i[h].promotion))return i[h]}}else if(n===Gd(this._moveToSan(i[h],i)).replace("x",""))return i[h];return null}ascii(){let e=`   +------------------------+
`;for(let r=ye.a8;r<=ye.h1;r++){if(Xa(r)===0&&(e+=" "+"87654321"[li(r)]+" |"),this._board[r]){const n=this._board[r].type,i=this._board[r].color===Wt?n.toUpperCase():n.toLowerCase();e+=" "+i+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let n=0;const s=this._turn;for(let i=0,o=r.length;i<o;i++)this._makeMove(r[i]),this._isKingAttacked(s)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let r=[];for(let n=ye.a8;n<=ye.h1;n++)this._board[n]==null?r.push(null):r.push({square:_t(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e}squareColor(e){if(e in ye){const r=ye[e];return(li(r)+Xa(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],n=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const s=r.pop();if(!s)break;e?n.push(new Hl(this,s)):n.push(this._moveToSan(s,this._moves())),this._makeMove(s)}return n}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const r=this._positionCount.get(e)??0;r===1?this._positionCount.delete(e):this._positionCount.set(e,r-1)}_pruneComments(){const e=[],r={},n=s=>{s in this._comments&&(r[s]=this._comments[s])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const s=e.pop();if(!s)break;this._makeMove(s),n(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const s of[vt,ls])r[s]!==void 0&&(r[s]?this._castling[e]|=Vl[s]:this._castling[e]&=~Vl[s]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(r[vt]===void 0||r[vt]===n[vt])&&(r[ls]===void 0||r[ls]===n[ls])}getCastlingRights(e){return{[vt]:(this._castling[e]&Vl[vt])!==0,[ls]:(this._castling[e]&Vl[ls])!==0}}moveNumber(){return this._moveNumber}}function TI(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}const Za="abcdefgh".split(""),mc={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},jI={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},NI={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},OI=[7,6,5,4,3,2,1,0],PI=[0,1,2,3,4,5,6,7],b0={wP:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),c.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),c.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[c.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),c.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),c.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),c.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[c.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),c.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),c.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),c.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),c.jsx("circle",{cx:"6",cy:"12",r:"2"}),c.jsx("circle",{cx:"14",cy:"9",r:"2"}),c.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),c.jsx("circle",{cx:"31",cy:"9",r:"2"}),c.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),c.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),c.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[c.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),c.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),c.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),c.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[c.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),c.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),c.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),c.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),c.jsx("circle",{cx:"6",cy:"12",r:"2"}),c.jsx("circle",{cx:"14",cy:"9",r:"2"}),c.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),c.jsx("circle",{cx:"31",cy:"9",r:"2"}),c.jsx("circle",{cx:"39",cy:"12",r:"2"}),c.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),c.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[c.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),c.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),c.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),c.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),c.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),c.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Lf(t,e,r){const n=e/8,s=t==="white"?jI:NI,i=t==="white"?OI:PI,o=s[r[0]]*n+n/2,a=i[parseInt(r[1],10)-1]*n+n/2;return{x:o,y:a}}function _0(t){let e=!1;return Object.keys(mc).forEach(r=>{t[r]!==mc[r]&&(e=!0)}),Object.keys(t).forEach(r=>{mc[r]!==t[r]&&(e=!0)}),e}function RI(t,e){const r={removed:{},added:{}};return Object.keys(t).forEach(n=>{e[n]!==t[n]&&(r.removed[n]=t[n])}),Object.keys(e).forEach(n=>{t[n]!==e[n]&&(r.added[n]=e[n])}),r}function S0(t){return t==="start"?mc:typeof t=="string"?AI(t):t}function AI(t){if(!II(t))return{};t=t.replace(/ .+$/,"");const e=t.split("/"),r={};let n=8;for(let s=0;s<8;s++){const i=e[s].split("");let o=0;for(let a=0;a<i.length;a++)if(i[a].search(/[1-8]/)!==-1){const l=parseInt(i[a],10);o=o+l}else{const l=Za[o]+n;r[l]=LI(i[a]),o=o+1}n=n-1}return r}function II(t){t=t.replace(/ .+$/,""),t=DI(t);const e=t.split("/");if(e.length!==8)return!1;for(let r=0;r<8;r++)if(e[r].length!==8||e[r].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function DI(t){return t.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function LI(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const MI=(t,e=!0,r,n)=>{const[s,i]=f.useState([]),[o,a]=f.useState([]),[l,u]=f.useState();f.useEffect(()=>{Array.isArray(t)&&(d(),i(t==null?void 0:t.filter(v=>v[0]!==v[1])))},[t]),f.useEffect(()=>{r==null||r(o)},[o]);function d(){a([]),u(void 0)}const p=(v,g)=>{e&&u([v,g,n])},h=[...o,...s];return{arrows:h,newArrow:l,clearArrows:d,drawNewArrow:p,setArrows:a,onArrowDrawEnd:(v,g)=>{if(v===g||!e)return;let b;const w=[v,g,n];h.every(([x,_])=>!(x===v&&_===g))?b=[...o,w]:b=o.filter(([x,_])=>!(x===v&&_===g)),u(void 0),a(b)}}},l_=f.createContext({}),Qn=()=>f.useContext(l_),$I=f.forwardRef(({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:r=!0,arePiecesDraggable:n=!0,arePremovesAllowed:s=!1,autoPromoteToQueen:i=!1,boardOrientation:o="white",boardWidth:a,children:l,clearPremovesOnRightClick:u=!0,customArrows:d,customArrowColor:p="rgb(255,170,0)",customBoardStyle:h,customNotationStyle:m,customDarkSquareStyle:v={backgroundColor:"#B58863"},customDropSquareStyle:g={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:b={backgroundColor:"#F0D9B5"},customPieces:w,customPremoveDarkSquareStyle:y={backgroundColor:"#A42323"},customPremoveLightSquareStyle:x={backgroundColor:"#BD2828"},customSquare:_="div",customSquareStyles:S,dropOffBoardAction:E="snapback",id:C=0,isDraggablePiece:T=()=>!0,getPositionObject:L=()=>{},onArrowsChange:M=()=>{},onDragOverSquare:J=()=>{},onMouseOutSquare:$=()=>{},onMouseOverSquare:X=()=>{},onPieceClick:R=()=>{},onPieceDragBegin:q=()=>{},onPieceDragEnd:F=()=>{},onPieceDrop:G=()=>!0,onPieceDropOffBoard:j=()=>{},onPromotionCheck:P=(se,he,Ie)=>(Ie==="wP"&&se[1]==="7"&&he[1]==="8"||Ie==="bP"&&se[1]==="2"&&he[1]==="1")&&Math.abs(se.charCodeAt(0)-he.charCodeAt(0))<=1,onPromotionPieceSelect:z=()=>!0,onSparePieceDrop:Z=()=>!0,onSquareClick:k=()=>{},onSquareRightClick:W=()=>{},position:H="start",promotionDialogVariant:Y="default",promotionToSquare:te=null,showBoardNotation:A=!0,showPromotionDialog:ne=!1,snapToCursor:ve=!0},oe)=>{const[se,he]=f.useState(S0(H)),[Ie,xt]=f.useState({removed:{},added:{}}),[ft,pt]=f.useState(void 0),[fr,rr]=f.useState(ne&&!i),[Nr,kn]=f.useState(null),[pr,Br]=f.useState(te),[Kt,Tn]=f.useState([]),nr=f.useRef(Kt),[lt,Tt]=f.useState(),[K,ae]=f.useState(Object.assign(Object.assign({},b0),w)),[le,ke]=f.useState(!1),[it,jt]=f.useState(),[Ye,Je]=f.useState(!1),[Ut,mr]=f.useState(null);f.useImperativeHandle(oe,()=>({clearPremoves(B=!0){Re(B)}})),f.useEffect(()=>{ae(Object.assign(Object.assign({},b0),w))},[w]),f.useEffect(()=>{rr(ne),Br(te)},[te,ne]),f.useEffect(()=>{var B,$e,Ae;Nt();const Ue=S0(H),dn=RI(se,Ue),Ke=((B=Object.keys(dn.added))===null||B===void 0?void 0:B.length)<=2?(Ae=($e=Object.entries(dn.added))===null||$e===void 0?void 0:$e[0])===null||Ae===void 0?void 0:Ae[1][0]:void 0;if(Ye)he(Ue),Je(!1),s&&ue(Ke),it&&clearTimeout(it);else if(le)he(Ue),Je(!1),s&&ue(Ke);else{_0(Ue)&&ft!==void 0?pt(Ke):_0(Ue)?pt(void 0):pt("b"),xt(dn),Je(!0);const ml=setTimeout(()=>{he(Ue),Je(!1),s&&ue(Ke)},e);jt(ml)}return ke(!1),L(Ue),Wr(),()=>{clearTimeout(it)}},[H]);const{arrows:zr,newArrow:Gt,clearArrows:Wr,drawNewArrow:Jn,onArrowDrawEnd:sr}=MI(d,r,M,p);function mt(B,$e,Ae,Ue){if(B===$e)return;if(Wr(),s&&Ye||s&&(ft===Ae[0]||nr.current.filter(Ke=>Ke.piece[0]===Ae[0]).length>0)){const Ke=[...nr.current];Ke.push({sourceSq:B,targetSq:$e,piece:Ae}),nr.current=Ke,Tn([...Ke]),Nt();return}if(!s&&Ye)return;const dn=Object.assign({},se);ke(!!Ue),pt(Ae[0]),G.length?G(B,$e,Ae)||(Re(),ke(!1)):(delete dn[B],dn[$e]=Ae,he(dn)),Nt(),L(dn)}function jn(B){const $e=Object.assign({},se);delete $e[B],he($e),L($e)}function ue(B){if(nr.current.length===0)return;const $e=nr.current[0];if($e.piece[0]!==void 0&&$e.piece[0]!==B&&G.length)if(pt($e.piece[0]),ke(!0),G($e.sourceSq,$e.targetSq,$e.piece)){const Ue=[...nr.current];Ue.shift(),nr.current=Ue,Tn([...Ue])}else Re()}function Ne(B,$e){if(!Z(B,$e))return;const Ue=Object.assign({},se);Ue[$e]=B,he(Ue),L(Ue)}function Re(B=!0){B&&pt(void 0),nr.current=[],Tn([])}function Nt(){kn(null),Br(null),rr(!1)}function O(B){Tt(B)}function Ot(B){if(lt){if(lt===B){Tt(void 0),u&&Re(!1),W(B);return}}else Tt(void 0)}function ot(){Tt(void 0)}const bt={allowDragOutsideBoard:t,animationDuration:e,arePiecesDraggable:n,arePremovesAllowed:s,arrows:zr,autoPromoteToQueen:i,boardOrientation:o,boardWidth:a,chessPieces:K,clearArrows:Wr,clearCurrentRightClickDown:ot,currentPosition:se,currentRightClickDown:lt,customArrowColor:p,customBoardStyle:h,customDarkSquareStyle:v,customDropSquareStyle:g,customLightSquareStyle:b,customNotationStyle:m,customPremoveDarkSquareStyle:y,customPremoveLightSquareStyle:x,customSquare:_,customSquareStyles:S,deletePieceFromSquare:jn,drawNewArrow:Jn,dropOffBoardAction:E,handleSetPosition:mt,handleSparePieceDrop:Ne,id:C,isDraggablePiece:T,isWaitingForAnimation:Ye,lastPieceColour:ft,lastSquareDraggedOver:Ut,newArrow:Gt,onArrowDrawEnd:sr,onDragOverSquare:J,onMouseOutSquare:$,onMouseOverSquare:X,onPieceClick:R,onPieceDragBegin:q,onPieceDragEnd:F,onPieceDrop:G,onPieceDropOffBoard:j,onPromotionCheck:P,onPromotionPieceSelect:z,onRightClickDown:O,onRightClickUp:Ot,onSparePieceDrop:Z,onSquareClick:k,positionDifferences:Ie,premoves:Kt,promoteFromSquare:Nr,promoteToSquare:pr,promotionDialogVariant:Y,setLastSquareDraggedOver:mr,setPromoteFromSquare:kn,setPromoteToSquare:Br,setShowPromoteDialog:rr,showBoardNotation:A,showPromoteDialog:fr,snapToCursor:ve};return c.jsx(l_.Provider,Object.assign({value:bt},{children:l}))});function UI({row:t,col:e}){const{boardOrientation:r,boardWidth:n,customDarkSquareStyle:s,customLightSquareStyle:i,customNotationStyle:o}=Qn(),a=i.backgroundColor,l=s.backgroundColor,u=e===0,d=t===7,p=u&&d;function h(){return r==="white"?8-t:t+1}function m(){return r==="black"?Za[7-e]:Za[e]}function v(){return c.jsxs(c.Fragment,{children:[c.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),C0(n,o))},{children:h()})),c.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),E0(n,o))},{children:m()}))]})}function g(){return c.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!==0?l:a}),E0(n,o))},{children:m()}))}function b(){return c.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},r==="black"?{color:t%2===0?l:a}:{color:t%2===0?l:a}),C0(n,o))},{children:h()}))}return p?v():d?g():u?b():null}const E0=(t,e)=>Object.assign({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48},e),C0=(t,e)=>Object.assign({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48},e),c_=f.createContext({dragDropManager:void 0});function Or(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var k0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Qd=function(){return Math.random().toString(36).substring(7).split("").join(".")},T0={INIT:"@@redux/INIT"+Qd(),REPLACE:"@@redux/REPLACE"+Qd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Qd()}};function FI(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function u_(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Or(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Or(1));return r(u_)(t,e)}if(typeof t!="function")throw new Error(Or(2));var s=t,i=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(Or(3));return i}function p(g){if(typeof g!="function")throw new Error(Or(4));if(l)throw new Error(Or(5));var b=!0;return u(),a.push(g),function(){if(b){if(l)throw new Error(Or(6));b=!1,u();var y=a.indexOf(g);a.splice(y,1),o=null}}}function h(g){if(!FI(g))throw new Error(Or(7));if(typeof g.type>"u")throw new Error(Or(8));if(l)throw new Error(Or(9));try{l=!0,i=s(i,g)}finally{l=!1}for(var b=o=a,w=0;w<b.length;w++){var y=b[w];y()}return g}function m(g){if(typeof g!="function")throw new Error(Or(10));s=g,h({type:T0.REPLACE})}function v(){var g,b=p;return g={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Or(11));function x(){y.next&&y.next(d())}x();var _=b(x);return{unsubscribe:_}}},g[k0]=function(){return this},g}return h({type:T0.INIT}),n={dispatch:h,subscribe:p,getState:d,replaceReducer:m},n[k0]=v,n}function _e(t,e,...r){if(BI()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(e.replace(/%s/g,function(){return r[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function BI(){return typeof process<"u"&&!0}function zI(t,e,r){return e.split(".").reduce((n,s)=>n&&n[s]?n[s]:r||null,t)}function WI(t,e){return t.filter(r=>r!==e)}function d_(t){return typeof t=="object"}function HI(t,e){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};t.forEach(n),e.forEach(n);const s=[];return r.forEach((i,o)=>{i===1&&s.push(o)}),s}function VI(t,e){return t.filter(r=>e.indexOf(r)>-1)}const km="dnd-core/INIT_COORDS",Fu="dnd-core/BEGIN_DRAG",Tm="dnd-core/PUBLISH_DRAG_SOURCE",Bu="dnd-core/HOVER",zu="dnd-core/DROP",Wu="dnd-core/END_DRAG";function j0(t,e){return{type:km,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const qI={type:km,payload:{clientOffset:null,sourceClientOffset:null}};function KI(t){return function(r=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:o}=n,a=t.getMonitor(),l=t.getRegistry();t.dispatch(j0(i)),GI(r,a,l);const u=JI(r,a);if(u==null){t.dispatch(qI);return}let d=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");QI(o),d=o(u)}t.dispatch(j0(i,d));const h=l.getSource(u).beginDrag(a,u);if(h==null)return;YI(h),l.pinSource(u);const m=l.getSourceType(u);return{type:Fu,payload:{itemType:m,item:h,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!s}}}}function GI(t,e,r){_e(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){_e(r.getSource(n),"Expected sourceIds to be registered.")})}function QI(t){_e(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function YI(t){_e(d_(t),"Item must be an object.")}function JI(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function XI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){XI(t,s,r[s])})}return t}function e3(t){return function(r={}){const n=t.getMonitor(),s=t.getRegistry();t3(n),s3(n).forEach((o,a)=>{const l=r3(o,a,s,n),u={type:zu,payload:{dropResult:ZI({},r,l)}};t.dispatch(u)})}}function t3(t){_e(t.isDragging(),"Cannot call drop while not dragging."),_e(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function r3(t,e,r,n){const s=r.getTarget(t);let i=s?s.drop(n,t):void 0;return n3(i),typeof i>"u"&&(i=e===0?{}:n.getDropResult()),i}function n3(t){_e(typeof t>"u"||d_(t),"Drop result must either be an object or undefined.")}function s3(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function i3(t){return function(){const r=t.getMonitor(),n=t.getRegistry();o3(r);const s=r.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(r,s),n.unpinSource()),{type:Wu}}}function o3(t){_e(t.isDragging(),"Cannot call endDrag while not dragging.")}function Mf(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function a3(t){return function(r,{clientOffset:n}={}){l3(r);const s=r.slice(0),i=t.getMonitor(),o=t.getRegistry(),a=i.getItemType();return u3(s,o,a),c3(s,i,o),d3(s,i,o),{type:Bu,payload:{targetIds:s,clientOffset:n||null}}}}function l3(t){_e(Array.isArray(t),"Expected targetIds to be an array.")}function c3(t,e,r){_e(e.isDragging(),"Cannot call hover while not dragging."),_e(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const s=t[n];_e(t.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(s);_e(i,"Expected targetIds to be registered.")}}function u3(t,e,r){for(let n=t.length-1;n>=0;n--){const s=t[n],i=e.getTargetType(s);Mf(i,r)||t.splice(n,1)}}function d3(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function h3(t){return function(){if(t.getMonitor().isDragging())return{type:Tm}}}function f3(t){return{beginDrag:KI(t),publishDragSource:h3(t),hover:a3(t),drop:e3(t),endDrag:i3(t)}}class p3{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(i){return(...o)=>{const a=i.apply(e,o);typeof a<"u"&&r(a)}}const s=f3(this);return Object.keys(s).reduce((i,o)=>{const a=s[o];return i[o]=n(a),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function m3(t,e){return{x:t.x+e.x,y:t.y+e.y}}function h_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function g3(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:h_(m3(e,n),r)}function v3(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:h_(e,r)}const wa=[],jm=[];wa.__IS_NONE__=!0;jm.__IS_ALL__=!0;function y3(t,e){return t===wa?!1:t===jm||typeof e>"u"?!0:VI(e,t).length>0}class w3{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;_e(typeof e=="function","listener must be a function."),_e(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),a=o.stateId;try{a===s||a===s+1&&!y3(o.dirtyHandlerIds,n)||e()}finally{s=a}};return this.store.subscribe(i)}subscribeToOffsetChange(e){_e(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return _e(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(_e(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),s=this.getItemType();return Mf(n,s)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(_e(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),s=this.getItemType();return n!==s?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),i=this.getItemType();if(i&&!Mf(s,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return g3(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return v3(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const N0=typeof global<"u"?global:self,f_=N0.MutationObserver||N0.WebKitMutationObserver;function p_(t){return function(){const r=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(r),clearInterval(n),t()}}}function x3(t){let e=1;const r=new f_(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const b3=typeof f_=="function"?x3:p_;class _3{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,s=e.length-this.index;n<s;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=b3(this.flush),this.requestErrorThrow=p_(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class S3{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class E3{create(e){const r=this.freeTasks,n=r.length?r.pop():new S3(this.onError,s=>r[r.length]=s);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const m_=new _3,C3=new E3(m_.registerPendingError);function k3(t){m_.enqueueTask(C3.create(t))}const Nm="dnd-core/ADD_SOURCE",Om="dnd-core/ADD_TARGET",Pm="dnd-core/REMOVE_SOURCE",Hu="dnd-core/REMOVE_TARGET";function T3(t){return{type:Nm,payload:{sourceId:t}}}function j3(t){return{type:Om,payload:{targetId:t}}}function N3(t){return{type:Pm,payload:{sourceId:t}}}function O3(t){return{type:Hu,payload:{targetId:t}}}function P3(t){_e(typeof t.canDrag=="function","Expected canDrag to be a function."),_e(typeof t.beginDrag=="function","Expected beginDrag to be a function."),_e(typeof t.endDrag=="function","Expected endDrag to be a function.")}function R3(t){_e(typeof t.canDrop=="function","Expected canDrop to be a function."),_e(typeof t.hover=="function","Expected hover to be a function."),_e(typeof t.drop=="function","Expected beginDrag to be a function.")}function $f(t,e){if(e&&Array.isArray(t)){t.forEach(r=>$f(r,!1));return}_e(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Dr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Dr||(Dr={}));let A3=0;function I3(){return A3++}function D3(t){const e=I3().toString();switch(t){case Dr.SOURCE:return`S${e}`;case Dr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function O0(t){switch(t[0]){case"S":return Dr.SOURCE;case"T":return Dr.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function P0(t,e){const r=t.entries();let n=!1;do{const{done:s,value:[,i]}=r.next();if(i===e)return!0;n=!!s}while(!n);return!1}class L3{addSource(e,r){$f(e),P3(r);const n=this.addHandler(Dr.SOURCE,e,r);return this.store.dispatch(T3(n)),n}addTarget(e,r){$f(e,!0),R3(r);const n=this.addHandler(Dr.TARGET,e,r);return this.store.dispatch(j3(n)),n}containsHandler(e){return P0(this.dragSources,e)||P0(this.dropTargets,e)}getSource(e,r=!1){return _e(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return _e(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return _e(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return _e(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return O0(e)===Dr.SOURCE}isTargetId(e){return O0(e)===Dr.TARGET}removeSource(e){_e(this.getSource(e),"Expected an existing source."),this.store.dispatch(N3(e)),k3(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){_e(this.getTarget(e),"Expected an existing target."),this.store.dispatch(O3(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);_e(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){_e(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const s=D3(e);return this.types.set(s,r),e===Dr.SOURCE?this.dragSources.set(s,n):e===Dr.TARGET&&this.dropTargets.set(s,n),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const M3=(t,e)=>t===e;function $3(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function U3(t,e,r=M3){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function F3(t=wa,e){switch(e.type){case Bu:break;case Nm:case Om:case Hu:case Pm:return wa;case Fu:case Tm:case Wu:case zu:default:return jm}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,s=HI(r,n);if(!(s.length>0||!U3(r,n)))return wa;const o=n[n.length-1],a=r[r.length-1];return o!==a&&(o&&s.push(o),a&&s.push(a)),s}function B3(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){B3(t,s,r[s])})}return t}const R0={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function W3(t=R0,e){const{payload:r}=e;switch(e.type){case km:case Fu:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Bu:return $3(t.clientOffset,r.clientOffset)?t:z3({},t,{clientOffset:r.clientOffset});case Wu:case zu:return R0;default:return t}}function H3(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){H3(t,s,r[s])})}return t}const V3={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function q3(t=V3,e){const{payload:r}=e;switch(e.type){case Fu:return Ii({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Tm:return Ii({},t,{isSourcePublic:!0});case Bu:return Ii({},t,{targetIds:r.targetIds});case Hu:return t.targetIds.indexOf(r.targetId)===-1?t:Ii({},t,{targetIds:WI(t.targetIds,r.targetId)});case zu:return Ii({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Wu:return Ii({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function K3(t=0,e){switch(e.type){case Nm:case Om:return t+1;case Pm:case Hu:return t-1;default:return t}}function G3(t=0){return t+1}function Q3(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){Q3(t,s,r[s])})}return t}function J3(t={},e){return{dirtyHandlerIds:F3(t.dirtyHandlerIds,{type:e.type,payload:Y3({},e.payload,{prevTargetIds:zI(t,"dragOperation.targetIds",[])})}),dragOffset:W3(t.dragOffset,e),refCount:K3(t.refCount,e),dragOperation:q3(t.dragOperation,e),stateId:G3(t.stateId)}}function X3(t,e=void 0,r={},n=!1){const s=Z3(n),i=new w3(s,new L3(s)),o=new p3(s,i),a=t(o,e,r);return o.receiveBackend(a),o}function Z3(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return u_(J3,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function eD(t,e){if(t==null)return{};var r=tD(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tD(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}let A0=0;const gc=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var rD=f.memo(function(e){var{children:r}=e,n=eD(e,["children"]);const[s,i]=nD(n);return f.useEffect(()=>{if(i){const o=g_();return++A0,()=>{--A0===0&&(o[gc]=null)}}},[]),c.jsx(c_.Provider,{value:s,children:r})});function nD(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=sD(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function sD(t,e=g_(),r,n){const s=e;return s[gc]||(s[gc]={dragDropManager:X3(t,e,r,n)}),s[gc]}function g_(){return typeof global<"u"?global:window}var iD=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const mi=typeof window<"u"?f.useLayoutEffect:f.useEffect;function v_(t,e,r){const[n,s]=f.useState(()=>e(t)),i=f.useCallback(()=>{const o=e(t);iD(n,o)||(s(o),r&&r())},[n,t,r]);return mi(i),[n,i]}function oD(t,e,r){const[n,s]=v_(t,e,r);return mi(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(s,{handlerIds:[o]})},[t,s]),n}function y_(t,e,r){return oD(e,t||(()=>({})),()=>r.reconnect())}function w_(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),f.useMemo(()=>typeof t=="function"?t():t,r)}function aD(t){return f.useMemo(()=>t.hooks.dragSource(),[t])}function lD(t){return f.useMemo(()=>t.hooks.dragPreview(),[t])}let Yd=!1,Jd=!1;class cD{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){_e(!Yd,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Yd=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Yd=!1}}isDragging(){if(!this.sourceId)return!1;_e(!Jd,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Jd=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Jd=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Xd=!1;class uD{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;_e(!Xd,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Xd=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Xd=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function dD(t,e,r){const n=r.getRegistry(),s=n.addTarget(t,e);return[s,()=>n.removeTarget(s)]}function hD(t,e,r){const n=r.getRegistry(),s=n.addSource(t,e);return[s,()=>n.removeSource(s)]}function Uf(t,e,r,n){let s;if(s!==void 0)return!!s;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<i.length;l++){const u=i[l];if(!a(u))return!1;const d=t[u],p=e[u];if(s=void 0,s===!1||s===void 0&&d!==p)return!1}return!0}function Ff(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fD(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function pD(t){return(e=null,r=null)=>{if(!f.isValidElement(e)){const i=e;return t(i,r),i}const n=e;return fD(n),mD(n,r?i=>t(i,r):t)}}function x_(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const s=pD(n);e[r]=()=>s}}),e}function I0(t,e){typeof t=="function"?t(e):t.current=e}function mD(t,e){const r=t.ref;return _e(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?f.cloneElement(t,{ref:n=>{I0(r,n),I0(e,n)}}):f.cloneElement(t,{ref:e})}class gD{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Uf(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Uf(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=x_({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Ff(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Ff(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class vD{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Uf(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=x_({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Ff(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function ki(){const{dragDropManager:t}=f.useContext(c_);return _e(t!=null,"Expected drag drop context"),t}function yD(t,e){const r=ki(),n=f.useMemo(()=>new gD(r.getBackend()),[r]);return mi(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),mi(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function wD(){const t=ki();return f.useMemo(()=>new cD(t),[t])}class xD{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,s=this.monitor,{isDragging:i}=n;return i?i(s):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:s}=e;s&&s(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function bD(t,e,r){const n=f.useMemo(()=>new xD(t,e,r),[e,r]);return f.useEffect(()=>{n.spec=t},[t]),n}function _D(t){return f.useMemo(()=>{const e=t.type;return _e(e!=null,"spec.type must be defined"),e},[t])}function SD(t,e,r){const n=ki(),s=bD(t,e,r),i=_D(t);mi(function(){if(i!=null){const[a,l]=hD(i,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l}},[n,e,r,s,i])}function ED(t,e){const r=w_(t,e);_e(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=wD(),s=yD(r.options,r.previewOptions);return SD(r,n,s),[y_(r.collect,n,s),aD(s),lD(s)]}function CD(t){const r=ki().getMonitor(),[n,s]=v_(r,t);return f.useEffect(()=>r.subscribeToOffsetChange(s)),f.useEffect(()=>r.subscribeToStateChange(s)),n}function kD(t){return f.useMemo(()=>t.hooks.dropTarget(),[t])}function TD(t){const e=ki(),r=f.useMemo(()=>new vD(e.getBackend()),[e]);return mi(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function jD(){const t=ki();return f.useMemo(()=>new uD(t),[t])}function ND(t){const{accept:e}=t;return f.useMemo(()=>(_e(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class OD{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function PD(t,e){const r=f.useMemo(()=>new OD(t,e),[e]);return f.useEffect(()=>{r.spec=t},[t]),r}function RD(t,e,r){const n=ki(),s=PD(t,e),i=ND(t);mi(function(){const[a,l]=dD(i,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l},[n,e,s,r,i.map(o=>o.toString()).join("|")])}function AD(t,e){const r=w_(t,e),n=jD(),s=TD(r.options);return RD(r,n,s),[y_(r.collect,n,s),kD(s)]}function b_(t){let e=null;return()=>(e==null&&(e=t()),e)}function ID(t,e){return t.filter(r=>r!==e)}function DD(t,e){const r=new Set,n=i=>r.add(i);t.forEach(n),e.forEach(n);const s=[];return r.forEach(i=>s.push(i)),s}class LD{enter(e){const r=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=DD(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=ID(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class MD{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(r[n]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const __="__NATIVE_FILE__",S_="__NATIVE_URL__",E_="__NATIVE_TEXT__",C_="__NATIVE_HTML__";var D0=Object.freeze({__proto__:null,FILE:__,HTML:C_,TEXT:E_,URL:S_});function Zd(t,e,r){const n=e.reduce((s,i)=>s||t.getData(i),"");return n??r}const Bf={[__]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[C_]:{exposeProperties:{html:(t,e)=>Zd(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[S_]:{exposeProperties:{urls:(t,e)=>Zd(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[E_]:{exposeProperties:{text:(t,e)=>Zd(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function $D(t,e){const r=Bf[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new MD(r);return n.loadDataTransfer(e),n}function eh(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Bf).filter(r=>{const n=Bf[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const UD=b_(()=>/firefox/i.test(navigator.userAgent)),k_=b_(()=>!!window.safari);class L0{interpolate(e){const{xs:r,ys:n,c1s:s,c2s:i,c3s:o}=this;let a=r.length-1;if(e===r[a])return n[a];let l=0,u=o.length-1,d;for(;l<=u;){d=Math.floor(.5*(l+u));const m=r[d];if(m<e)l=d+1;else if(m>e)u=d-1;else return n[d]}a=Math.max(0,u);const p=e-r[a],h=p*p;return n[a]+s[a]*p+i[a]*h+o[a]*p*h}constructor(e,r){const{length:n}=e,s=[];for(let m=0;m<n;m++)s.push(m);s.sort((m,v)=>e[m]<e[v]?-1:1);const i=[],o=[];let a,l;for(let m=0;m<n-1;m++)a=e[m+1]-e[m],l=r[m+1]-r[m],i.push(a),o.push(l/a);const u=[o[0]];for(let m=0;m<i.length-1;m++){const v=o[m],g=o[m+1];if(v*g<=0)u.push(0);else{a=i[m];const b=i[m+1],w=a+b;u.push(3*w/((w+b)/v+(w+a)/g))}}u.push(o[o.length-1]);const d=[],p=[];let h;for(let m=0;m<u.length-1;m++){h=o[m];const v=u[m],g=1/i[m],b=v+u[m+1]-h-h;d.push((h-v-b)*g),p.push(b*g*g)}this.xs=e,this.ys=r,this.c1s=u,this.c2s=d,this.c3s=p}}const FD=1;function T_(t){const e=t.nodeType===FD?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function ql(t){return{x:t.clientX,y:t.clientY}}function BD(t){var e;return t.nodeName==="IMG"&&(UD()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function zD(t,e,r,n){let s=t?e.width:r,i=t?e.height:n;return k_()&&t&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function WD(t,e,r,n,s){const i=BD(e),a=T_(i?t:e),l={x:r.x-a.x,y:r.y-a.y},{offsetWidth:u,offsetHeight:d}=t,{anchorX:p,anchorY:h}=n,{dragPreviewWidth:m,dragPreviewHeight:v}=zD(i,e,u,d),g=()=>{let E=new L0([0,.5,1],[l.y,l.y/d*v,l.y+v-d]).interpolate(h);return k_()&&i&&(E+=(window.devicePixelRatio-1)*v),E},b=()=>new L0([0,.5,1],[l.x,l.x/u*m,l.x+m-u]).interpolate(p),{offsetX:w,offsetY:y}=s,x=w===0||w,_=y===0||y;return{x:x?w:b(),y:_?y:g()}}let HD=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}};function VD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){VD(t,s,r[s])})}return t}class qD{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const s=o=>this.handleDragStart(o,e),i=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=o=>this.handleDragEnter(o,e),s=o=>this.handleDragOver(o,e),i=o=>this.handleDrop(o,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",s),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",s),r.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return M0({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return M0({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(D0).some(r=>D0[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=$D(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&T_(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=ql(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=s,l=eh(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const d=this.monitor.getSourceId(),p=this.sourceNodes.get(d),h=this.sourcePreviewNodes.get(d)||p;if(h){const{anchorX:m,anchorY:v,offsetX:g,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),x=WD(p,h,o,{anchorX:m,anchorY:v},{offsetX:g,offsetY:b});a.setDragImage(h,x.x,x.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,l=eh(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:ql(s)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=ql(s),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else eh(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:ql(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new HD(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new LD(this.isNodeInDocument)}}let Kl;function KD(){return Kl||(Kl=new Image,Kl.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Kl}const GD=function(e,r,n){return new qD(e,r,n)};function $0({isPremovedPiece:t=!1,piece:e,square:r,squares:n}){const{animationDuration:s,arePiecesDraggable:i,boardWidth:o,boardOrientation:a,chessPieces:l,currentPosition:u,deletePieceFromSquare:d,dropOffBoardAction:p,id:h,isDraggablePiece:m,isWaitingForAnimation:v,onPieceClick:g,onPieceDragBegin:b,onPieceDragEnd:w,onPieceDropOffBoard:y,onPromotionCheck:x,positionDifferences:_}=Qn(),[S,E]=f.useState({opacity:1,zIndex:5,touchAction:"none",cursor:i&&m({piece:e,sourceSquare:r})?"-webkit-grab":"default"}),[{canDrag:C,isDragging:T},L,M]=ED(()=>({type:"piece",item:()=>(b(e,r),{piece:e,square:r,id:h}),end:($,X)=>{w(e,r),!X.didDrop()&&(p==="trash"&&d(r),y==null||y(r,e))},collect:$=>({canDrag:m({piece:e,sourceSquare:r}),isDragging:!!$.isDragging()})}),[e,r,u,h]);M(KD(),{captureDraggingState:!0}),f.useEffect(()=>{E($=>Object.assign(Object.assign({},$),{opacity:T?0:1}))},[T]),f.useEffect(()=>{var $;const X=($=_.removed)===null||$===void 0?void 0:$[r];if(!_.added||!X)return;const R=Object.entries(_.added).find(([q,F])=>F===X||x(r,q,X));if(v&&X&&R&&!t){const q=r,F=R[0];if(q&&F){const G=o/8;E(j=>Object.assign(Object.assign({},j),{transform:`translate(${(a==="black"?-1:1)*(F.charCodeAt(0)-q.charCodeAt(0))*G}px, ${(a==="black"?-1:1)*(Number(q[1])-Number(F[1]))*G}px)`,transition:`transform ${s}ms`,zIndex:6}))}}},[_]),f.useEffect(()=>{const{sourceSq:$}=J();$&&E(X=>Object.assign(Object.assign({},X),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[u]),f.useEffect(()=>{E($=>Object.assign(Object.assign({},$),{cursor:i&&m({piece:e,sourceSquare:r})?"-webkit-grab":"default"}))},[r,u,i]);function J(){return{sourceSq:n[r]}}return c.jsx("div",Object.assign({ref:i&&C?L:null,onClick:()=>g(e,r),"data-piece":e,style:S},{children:typeof l[e]=="function"?l[e]({squareWidth:o/8,isDragging:T,square:r}):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:o/8,height:o/8,style:{display:"block"}},{children:c.jsx("g",{children:l[e]})}))}))}function QD({square:t,squareColor:e,setSquares:r,squareHasPremove:n,children:s}){const i=f.useRef(null),{autoPromoteToQueen:o,boardWidth:a,boardOrientation:l,clearArrows:u,currentPosition:d,currentRightClickDown:p,customBoardStyle:h,customDarkSquareStyle:m,customDropSquareStyle:v,customLightSquareStyle:g,customPremoveDarkSquareStyle:b,customPremoveLightSquareStyle:w,customSquare:y,customSquareStyles:x,drawNewArrow:_,handleSetPosition:S,handleSparePieceDrop:E,isWaitingForAnimation:C,lastPieceColour:T,lastSquareDraggedOver:L,onArrowDrawEnd:M,onDragOverSquare:J,onMouseOutSquare:$,onMouseOverSquare:X,onPieceDrop:R,onPromotionCheck:q,onRightClickDown:F,onRightClickUp:G,onSquareClick:j,setLastSquareDraggedOver:P,setPromoteFromSquare:z,setPromoteToSquare:Z,setShowPromoteDialog:k}=Qn(),[{isOver:W},H]=AD(()=>({accept:"piece",drop:Y,collect:A=>({isOver:!!A.isOver()})}),[t,d,R,C,T]);function Y(A){if(A.isSpare){E(A.piece,t);return}q(A.square,t,A.piece)?o?S(A.square,t,A.piece[0]==="w"?"wQ":"bQ"):(z(A.square),Z(t),k(!0)):S(A.square,t,A.piece,!0)}f.useEffect(()=>{if(i.current){const{x:A,y:ne}=i.current.getBoundingClientRect();r(ve=>Object.assign(Object.assign({},ve),{[t]:{x:A,y:ne}}))}},[a,l]);const te=Object.assign(Object.assign(Object.assign(Object.assign({},YD(t,l,h)),e==="black"?m:g),n&&(e==="black"?b:w)),W&&v);return c.jsx("div",Object.assign({ref:H,style:te,"data-square-color":e,"data-square":t,onTouchMove:A=>{var ne;const ve=A.touches[0],oe=document.elementsFromPoint(ve.clientX,ve.clientY),se=(ne=oe==null?void 0:oe.find(he=>he.getAttribute("data-square")))===null||ne===void 0?void 0:ne.getAttribute("data-square");se&&se!==L&&(P(se),J(se))},onMouseOver:A=>{A.buttons===2&&p&&_(p,t),!(A.relatedTarget&&A.currentTarget.contains(A.relatedTarget))&&X(t)},onMouseOut:A=>{A.relatedTarget&&A.currentTarget.contains(A.relatedTarget)||$(t)},onMouseDown:A=>{A.button===2&&F(t)},onMouseUp:A=>{A.button===2&&(p&&M(p,t),G(t))},onDragEnter:()=>J(t),onClick:()=>{const A=d[t];j(t,A),u()},onContextMenu:A=>{A.preventDefault()}},{children:typeof y=="string"?c.jsx(y,Object.assign({ref:i,style:Object.assign(Object.assign(Object.assign({},F0(a)),U0),!n&&(x==null?void 0:x[t]))},{children:s})):c.jsx(y,Object.assign({ref:i,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},F0(a)),U0),!n&&(x==null?void 0:x[t]))},{children:s}))}))}const U0={display:"flex",justifyContent:"center"},F0=t=>({width:t/8,height:t/8}),YD=(t,e,r)=>r!=null&&r.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:r.borderRadius}:{borderTopRightRadius:r.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:r.borderRadius}:{borderBottomRightRadius:r.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:r.borderRadius}:{borderTopLeftRadius:r.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:r.borderRadius}:{borderBottomLeftRadius:r.borderRadius}:{}:{};function JD(){const[t,e]=f.useState({}),{arePremovesAllowed:r,boardOrientation:n,boardWidth:s,currentPosition:i,id:o,premoves:a,showBoardNotation:l}=Qn(),u=f.useMemo(()=>{const d=[];return r?(a.forEach((p,h)=>{const{sourceSq:m,targetSq:v,piece:g}=p,b=d.find(w=>{var y;return w.piece===g&&((y=w.premovesRoute.at(-1))===null||y===void 0?void 0:y.targetSq)===m});b?b.premovesRoute.push({sourceSq:m,targetSq:v,index:h}):d.push({piece:g,premovesRoute:[{sourceSq:m,targetSq:v,index:h}]})}),d):[]},[a]);return c.jsx("div",Object.assign({"data-boardid":o},{children:[...Array(8)].map((d,p)=>c.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:s}},{children:[...Array(8)].map((h,m)=>{const v=n==="black"?Za[7-m]+(p+1):Za[m]+(8-p),g=m%2===p%2?"white":"black",b=a.find(y=>y.sourceSq===v||y.targetSq===v),w=u.filter(({premovesRoute:y})=>{var x;return((x=y.at(-1))===null||x===void 0?void 0:x.targetSq)===v}).sort((y,x)=>{var _,S;return((_=x.premovesRoute.at(-1))===null||_===void 0?void 0:_.index)-((S=y.premovesRoute.at(-1))===null||S===void 0?void 0:S.index)}).at(0);return c.jsxs(QD,Object.assign({square:v,squareColor:g,setSquares:e,squareHasPremove:!!b},{children:[!b&&i[v]&&c.jsx($0,{piece:i[v],square:v,squares:t}),w&&c.jsx($0,{isPremovedPiece:!0,piece:w.piece,square:v,squares:t}),l&&c.jsx(UI,{row:p,col:m})]}),`${m}${p}`)})}),p.toString()))}))}const XD=()=>{const{arrows:t,newArrow:e,boardOrientation:r,boardWidth:n,customArrowColor:s}=Qn(),i=[...t,e].filter(Boolean);return c.jsx("svg",Object.assign({width:n,height:n,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:i.map((o,a)=>{const[l,u,d]=o;if(l===u)return null;const p=Lf(r,n,l),h=Lf(r,n,u);let m=n/32;const v=a===t.length;t.some(x=>x[0]!==l&&x[1]===u)&&!v&&(m=n/16);const g=h.x-p.x,b=h.y-p.y,w=Math.hypot(b,g),y={x:p.x+g*(w-m)/w,y:p.y+b*(w-m)/w};return c.jsxs(f.Fragment,{children:[c.jsx("marker",Object.assign({id:`arrowhead-${a}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:c.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:d??s})})),c.jsx("line",{x1:p.x,y1:p.y,x2:y.x,y2:y.y,opacity:v?"0.5":"0.65",stroke:d??s,strokeWidth:v?.9*n/40:n/40,markerEnd:`url(#arrowhead-${a})`})]},`${l}-${u}${v?"-active":""}`)})}))};function ZD({option:t}){const[e,r]=f.useState(!1),{boardWidth:n,chessPieces:s,customDarkSquareStyle:i,customLightSquareStyle:o,handleSetPosition:a,onPromotionPieceSelect:l,promoteFromSquare:u,promoteToSquare:d,promotionDialogVariant:p}=Qn(),h=()=>{switch(t[1]){case"Q":return i.backgroundColor;case"R":return o.backgroundColor;case"N":return p==="default"?o.backgroundColor:i.backgroundColor;case"B":return p==="default"?i.backgroundColor:o.backgroundColor}};return c.jsx("div",Object.assign({onClick:()=>{l(t,u??void 0,d??void 0)&&a(u,d,t,!0)},onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?h():`${h()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof s[t]=="function"?c.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:s[t]({squareWidth:n/8,isDragging:!1})})):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:n/8,height:n/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:c.jsx("g",{children:s[t]})}))}))}function e4(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:r,promoteToSquare:n}=Qn(),s=(n==null?void 0:n[1])==="1"?"b":"w",i=[`${s??"w"}Q`,`${s??"w"}R`,`${s??"w"}N`,`${s??"w"}B`],o={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:`${e/4}px`,top:0,backgroundColor:"white",left:0}},a=Lf(t,e,n||"a8");return c.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${a==null?void 0:a.y}px`,left:`${a==null?void 0:a.x}px`,zIndex:1e3},o[r]),title:"Choose promotion piece"},{children:i.map(l=>c.jsx(ZD,{option:l},l))}))}const t4={whiteKing:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:c.jsx("g",{children:c.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function r4({children:t}){try{return c.jsx(c.Fragment,{children:t})}catch(e){return console.log(e),c.jsx(j_,{showError:!0})}}function j_({showError:t=!1}){return c.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[c.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:t4.whiteKing})),t&&c.jsx("h1",{children:"Something went wrong"})]}))}function n4(){const t=f.useRef(null),{boardWidth:e,clearCurrentRightClickDown:r,onPromotionPieceSelect:n,setShowPromoteDialog:s,showPromoteDialog:i,customBoardStyle:o}=Qn();return f.useEffect(()=>{function a(l){t.current&&!t.current.contains(l.target)&&r()}return document.addEventListener("mouseup",a),()=>{document.removeEventListener("mouseup",a)}},[]),e?c.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:c.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},s4(e)),o)},{children:[c.jsx(JD,{}),c.jsx(XD,{}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:()=>{s(!1),n==null||n()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),c.jsx(e4,{})]})]}))})):c.jsx(j_,{})}const s4=t=>({cursor:"default",height:t,width:t});var Os;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(Os||(Os={}));class i4{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,r,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&s!==void 0?s:0}get delayMouseStart(){var e,r,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&s!==void 0?s:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,r){this.args=e,this.context=r}}function o4(t,e,r,n){return Math.sqrt(Math.pow(Math.abs(r-t),2)+Math.pow(Math.abs(n-e),2))}function a4(t,e,r,n,s){if(!s)return!1;const i=Math.atan2(n-e,r-t)*180/Math.PI+180;for(let o=0;o<s.length;++o){const a=s[o];if(a&&(a.start==null||i>=a.start)&&(a.end==null||i<=a.end))return!0}return!1}const l4={Left:1,Right:2,Center:4},c4={Left:0,Center:1,Right:2};function th(t){return t.button===void 0||t.button===c4.Left}function u4(t){return t.buttons===void 0||(t.buttons&l4.Left)===0}function N_(t){return!!t.targetTouches}const d4=1;function h4(t){const e=t.nodeType===d4?t:t.parentElement;if(!e)return;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function f4(t,e){if(t.targetTouches.length===1)return tu(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return tu(t.touches[0])}function tu(t,e){return N_(t)?f4(t,e):{x:t.clientX,y:t.clientY}}const B0=(()=>{let t=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return t=!0,!0}}))}catch{}return t})(),Zo={[Os.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Os.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Os.keyboard]:{keydown:"keydown"}};class xa{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(_e(!xa.isSetUp,"Cannot have two Touch backends at the same time."),xa.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(xa.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,r,n,s=!1){const i=B0?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Zo[o][r];a&&e.addEventListener(a,n,i)})}removeEventListener(e,r,n,s=!1){const i=B0?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Zo[o][r];a&&e.removeEventListener(a,n,i)})}connectDragSource(e,r){const n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(e),this.removeEventListener(r,"start",n)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,r){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const s=i=>{if(!this.document||!n||!this.monitor.isDragging())return;let o;switch(i.type){case Zo.mouse.move:o={x:i.clientX,y:i.clientY};break;case Zo.touch.move:var a,l;o={x:((a=i.touches[0])===null||a===void 0?void 0:a.clientX)||0,y:((l=i.touches[0])===null||l===void 0?void 0:l.clientY)||0};break}const u=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,d=u&&r.contains(u);if(u===r||d)return this.handleMove(i,e)};return this.addEventListener(this.document.body,"move",s),this.targetNodes.set(e,r),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",s))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,r,n){this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&h4(i)},this.handleTopMoveStartCapture=s=>{th(s)&&(this.moveStartSourceIds=[])},this.handleMoveStart=s=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(s)},this.handleTopMoveStart=s=>{if(!th(s))return;const i=tu(s);i&&(N_(s)&&(this.lastTargetTouchFallback=s.targetTouches[0]),this._mouseClientOffset=i),this.waitingForDelay=!1},this.handleTopMoveStartDelay=s=>{if(!th(s))return;const i=s.type===Zo.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,s),i),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(s,i)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(i)},this.handleTopMove=s=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:i,dragOverTargetIds:o}=this,a=this.options.enableHoverOutsideTarget,l=tu(s,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&a4(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&i&&o4(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(i,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),s.cancelable&&s.preventDefault();const d=(o||[]).map(v=>this.targetNodes.get(v)).filter(v=>!!v),p=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,d):this.document.elementsFromPoint(l.x,l.y),h=[];for(const v in p){if(!p.hasOwnProperty(v))continue;let g=p[v];for(g!=null&&h.push(g);g;)g=g.parentElement,g&&h.indexOf(g)===-1&&h.push(g)}const m=h.filter(v=>d.indexOf(v)>-1).map(v=>this._getDropTargetId(v)).filter(v=>!!v).filter((v,g,b)=>b.indexOf(v)===g);if(a)for(const v in this.targetNodes){const g=this.targetNodes.get(v);if(u&&g&&g.contains(u)&&m.indexOf(v)===-1){m.unshift(v);break}}m.reverse(),this.actions.hover(m,{clientOffset:l})},this._getDropTargetId=s=>{const i=this.targetNodes.keys();let o=i.next();for(;o.done===!1;){const a=o.value;if(s===this.targetNodes.get(a))return a;o=i.next()}},this.handleTopMoveEndCapture=s=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!u4(s)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}s.cancelable&&s.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=s=>{s.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new i4(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Os.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Os.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Os.keyboard)}}const p4=function(e,r={},n={}){return new xa(e,r,n)},m4=f.createContext({isCustomDndProviderSet:!1}),g4=({children:t})=>c.jsx(c.Fragment,{children:t}),v4=({customDndBackend:t,customDndBackendOptions:e,children:r})=>{const[n,s]=f.useState(),[i,o]=f.useState(!1),[a,l]=f.useState(!1),{isCustomDndProviderSet:u}=f.useContext(m4);f.useEffect(()=>{l("ontouchstart"in window),o(!0),s(window)},[]);const d=u?g4:rD;return i?n?c.jsx(d,Object.assign({backend:t||(a?p4:GD),context:n,options:t?e:void 0},{children:r})):c.jsx(c.Fragment,{children:r}):null};function y4({boardContainer:t}){const{boardWidth:e,chessPieces:r,id:n,snapToCursor:s,allowDragOutsideBoard:i}=Qn(),o=CD(h=>({item:h.getItem(),clientOffset:h.getClientOffset(),sourceClientOffset:h.getSourceClientOffset(),isDragging:h.isDragging()})),{isDragging:a,item:l,clientOffset:u,sourceClientOffset:d}=o,p=f.useCallback((h,m)=>{if(!h||!m)return{display:"none"};let{x:v,y:g}=s?h:m;const b=e/8/2;if(s&&(v-=b,g-=b),!i){const{left:y,top:x}=t,_=y-b,S=x-b,E=y+e-b,C=x+e-b;v=Math.max(_,Math.min(v,E)),g=Math.max(S,Math.min(g,C))}const w=`translate(${v}px, ${g}px)`;return{transform:w,WebkitTransform:w,touchAction:"none"}},[e,i,s,t]);return a&&l.id===n?c.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:c.jsx("div",Object.assign({style:p(u,d)},{children:typeof r[l.piece]=="function"?r[l.piece]({squareWidth:e/8,isDragging:!0}):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:c.jsx("g",{children:r[l.piece]})}))}))})):null}const O_=f.forwardRef((t,e)=>{const{customDndBackend:r,customDndBackendOptions:n,onBoardWidthChange:s}=t,i=TI(t,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[o,a]=f.useState(t.boardWidth),l=f.useRef(null),u=f.useRef(null),[d,p]=f.useState({left:0,top:0}),h=f.useMemo(()=>{var m;return(m=l.current)===null||m===void 0?void 0:m.getBoundingClientRect()},[l.current]);return f.useEffect(()=>{o&&(s==null||s(o))},[o]),f.useEffect(()=>{p({left:h!=null&&h.left?h==null?void 0:h.left:0,top:h!=null&&h.top?h==null?void 0:h.top:0})},[h]),f.useEffect(()=>{var m;if(t.boardWidth===void 0&&(!((m=l.current)===null||m===void 0)&&m.offsetWidth)){const v=new ResizeObserver(()=>{var g;a((g=l.current)===null||g===void 0?void 0:g.offsetWidth)});return v.observe(l.current),()=>{v.disconnect()}}},[l.current]),c.jsx(r4,{children:c.jsxs("div",Object.assign({ref:u,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[c.jsx("div",{ref:l,style:{width:"100%"}}),c.jsx(v4,Object.assign({customDndBackend:r,customDndBackendOptions:n},{children:o&&c.jsxs($I,Object.assign({boardWidth:o},i,{ref:e},{children:[c.jsx(y4,{boardContainer:d}),c.jsx(n4,{})]}))}))]}))})}),P_=()=>{const t=f.useRef(null),e=f.useCallback(()=>(t.current||(t.current=new(window.AudioContext||window.webkitAudioContext)),t.current),[]),r=f.useCallback((h,m,v="sine")=>{try{const g=e(),b=g.createOscillator(),w=g.createGain();b.connect(w),w.connect(g.destination),b.frequency.value=h,b.type=v,w.gain.setValueAtTime(.3,g.currentTime),w.gain.exponentialRampToValueAtTime(.01,g.currentTime+m),b.start(g.currentTime),b.stop(g.currentTime+m)}catch{console.log("Audio not supported")}},[e]),n=f.useCallback(()=>{r(440,.1,"sine")},[r]),s=f.useCallback(()=>{r(220,.15,"square"),setTimeout(()=>r(180,.1,"square"),50)},[r]),i=f.useCallback(()=>{r(880,.1,"sine"),setTimeout(()=>r(660,.1,"sine"),100),setTimeout(()=>r(880,.15,"sine"),200)},[r]),o=f.useCallback(()=>{[0,100,200,300,400].forEach((h,m)=>{setTimeout(()=>r(440+m*110,.15,"sine"),h)})},[r]),a=f.useCallback(()=>{r(330,.08,"sine"),setTimeout(()=>r(440,.08,"sine"),80)},[r]),l=f.useCallback(()=>{[0,80,160,240].forEach((h,m)=>{setTimeout(()=>r(330+m*110,.12,"sine"),h)})},[r]),u=f.useCallback(()=>{r(262,.15,"sine"),setTimeout(()=>r(330,.15,"sine"),150),setTimeout(()=>r(392,.2,"sine"),300)},[r]),d=f.useCallback(()=>{r(880,.08,"square")},[r]),p=f.useCallback(()=>{r(440,.15,"sine"),setTimeout(()=>r(440,.15,"sine"),200)},[r]);return{playMove:n,playCapture:s,playCheck:i,playCheckmate:o,playCastle:a,playPromotion:l,playGameStart:u,playTimeWarning:d,playDraw:p}};var rh="focusScope.autoFocusOnMount",nh="focusScope.autoFocusOnUnmount",z0={bubbles:!1,cancelable:!0},w4="FocusScope",Rm=f.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=f.useState(null),u=Fr(s),d=Fr(i),p=f.useRef(null),h=Be(e,g=>l(g)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let g=function(x){if(m.paused||!a)return;const _=x.target;a.contains(_)?p.current=_:ss(p.current,{select:!0})},b=function(x){if(m.paused||!a)return;const _=x.relatedTarget;_!==null&&(a.contains(_)||ss(p.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&ss(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(w);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[n,a,m.paused]),f.useEffect(()=>{if(a){H0.add(m);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(rh,z0);a.addEventListener(rh,u),a.dispatchEvent(w),w.defaultPrevented||(x4(C4(R_(a)),{select:!0}),document.activeElement===g&&ss(a))}return()=>{a.removeEventListener(rh,u),setTimeout(()=>{const w=new CustomEvent(nh,z0);a.addEventListener(nh,d),a.dispatchEvent(w),w.defaultPrevented||ss(g??document.body,{select:!0}),a.removeEventListener(nh,d),H0.remove(m)},0)}}},[a,u,d,m]);const v=f.useCallback(g=>{if(!r&&!n||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(b&&w){const y=g.currentTarget,[x,_]=b4(y);x&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&ss(x,{select:!0})):g.shiftKey&&w===x&&(g.preventDefault(),r&&ss(_,{select:!0})):w===y&&g.preventDefault()}},[r,n,m.paused]);return c.jsx(Te.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Rm.displayName=w4;function x4(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ss(n,{select:e}),document.activeElement!==r)return}function b4(t){const e=R_(t),r=W0(e,t),n=W0(e.reverse(),t);return[r,n]}function R_(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function W0(t,e){for(const r of t)if(!_4(r,{upTo:e}))return r}function _4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function S4(t){return t instanceof HTMLInputElement&&"select"in t}function ss(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&S4(t)&&e&&t.select()}}var H0=E4();function E4(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=V0(t,e),t.unshift(e)},remove(e){var r;t=V0(t,e),(r=t[0])==null||r.resume()}}}function V0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function C4(t){return t.filter(e=>e.tagName!=="A")}var sh=0;function A_(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??q0()),document.body.insertAdjacentElement("beforeend",t[1]??q0()),sh++,()=>{sh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sh--}},[])}function q0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vc="right-scroll-bar-position",yc="width-before-scroll-bar",k4="with-scroll-bars-hidden",T4="--removed-body-scroll-bar-size";function ih(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function j4(t,e){var r=f.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var N4=typeof window<"u"?f.useLayoutEffect:f.useEffect,K0=new WeakMap;function O4(t,e){var r=j4(null,function(n){return t.forEach(function(s){return ih(s,n)})});return N4(function(){var n=K0.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(a){i.has(a)||ih(a,null)}),i.forEach(function(a){s.has(a)||ih(a,o)})}K0.set(r,t)},[t]),r}function P4(t){return t}function R4(t,e){e===void 0&&(e=P4);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function A4(t){t===void 0&&(t={});var e=R4(null);return e.options=wn({async:!0,ssr:!1},t),e}var I_=function(t){var e=t.sideCar,r=Fo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,wn({},r))};I_.isSideCarExport=!0;function I4(t,e){return t.useMedium(e),I_}var D_=A4(),oh=function(){},Vu=f.forwardRef(function(t,e){var r=f.useRef(null),n=f.useState({onScrollCapture:oh,onWheelCapture:oh,onTouchMoveCapture:oh}),s=n[0],i=n[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,h=t.sideCar,m=t.noRelative,v=t.noIsolation,g=t.inert,b=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,x=t.gapMode,_=Fo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=O4([r,e]),C=wn(wn({},_),s);return f.createElement(f.Fragment,null,d&&f.createElement(S,{sideCar:D_,removeScrollBar:u,shards:p,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:x}),o?f.cloneElement(f.Children.only(a),wn(wn({},C),{ref:E})):f.createElement(y,wn({},C,{className:l,ref:E}),a))});Vu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vu.classNames={fullWidth:yc,zeroRight:vc};var D4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=D4();return e&&t.setAttribute("nonce",e),t}function M4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var U4=function(){var t=0,e=null;return{add:function(r){t==0&&(e=L4())&&(M4(e,r),$4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},F4=function(){var t=U4();return function(e,r){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},L_=function(){var t=F4(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},B4={left:0,top:0,right:0,gap:0},ah=function(t){return parseInt(t||"",10)||0},z4=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ah(r),ah(n),ah(s)]},W4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return B4;var e=z4(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},H4=L_(),co="data-scroll-locked",V4=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(k4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(co,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(yc,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(vc," .").concat(vc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yc," .").concat(yc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(co,`] {
    `).concat(T4,": ").concat(a,`px;
  }
`)},G0=function(){var t=parseInt(document.body.getAttribute(co)||"0",10);return isFinite(t)?t:0},q4=function(){f.useEffect(function(){return document.body.setAttribute(co,(G0()+1).toString()),function(){var t=G0()-1;t<=0?document.body.removeAttribute(co):document.body.setAttribute(co,t.toString())}},[])},K4=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;q4();var i=f.useMemo(function(){return W4(s)},[s]);return f.createElement(H4,{styles:V4(i,!e,s,r?"":"!important")})},zf=!1;if(typeof window<"u")try{var Gl=Object.defineProperty({},"passive",{get:function(){return zf=!0,!0}});window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{zf=!1}var Di=zf?{passive:!1}:!1,G4=function(t){return t.tagName==="TEXTAREA"},M_=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!G4(t)&&r[e]==="visible")},Q4=function(t){return M_(t,"overflowY")},Y4=function(t){return M_(t,"overflowX")},Q0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=$_(t,n);if(s){var i=U_(t,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},J4=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},X4=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},$_=function(t,e){return t==="v"?Q4(e):Y4(e)},U_=function(t,e){return t==="v"?J4(e):X4(e)},Z4=function(t,e){return t==="h"&&e==="rtl"?-1:1},eL=function(t,e,r,n,s){var i=Z4(t,window.getComputedStyle(e).direction),o=i*n,a=r.target,l=e.contains(a),u=!1,d=o>0,p=0,h=0;do{if(!a)break;var m=U_(t,a),v=m[0],g=m[1],b=m[2],w=g-b-i*v;(v||w)&&$_(t,a)&&(p+=w,h+=v);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Ql=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Y0=function(t){return[t.deltaX,t.deltaY]},J0=function(t){return t&&"current"in t?t.current:t},tL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nL=0,Li=[];function sL(t){var e=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(nL++)[0],i=f.useState(L_)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=WP([t.lockRef.current],(t.shards||[]).map(J0),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Ql(g),y=r.current,x="deltaX"in g?g.deltaX:y[0]-w[0],_="deltaY"in g?g.deltaY:y[1]-w[1],S,E=g.target,C=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&E.type==="range")return!1;var T=Q0(C,E);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=Q0(C,E)),!T)return!1;if(!n.current&&"changedTouches"in g&&(x||_)&&(n.current=S),!S)return!0;var L=n.current||S;return eL(L,b,g,L==="h"?x:_,!0)},[]),l=f.useCallback(function(g){var b=g;if(!(!Li.length||Li[Li.length-1]!==i)){var w="deltaY"in b?Y0(b):Ql(b),y=e.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&tL(S.delta,w)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var x=(o.current.shards||[]).map(J0).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=x.length>0?a(b,x[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(g,b,w,y){var x={name:g,delta:b,target:w,should:y,shadowParent:iL(w)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(_){return _!==x})},1)},[]),d=f.useCallback(function(g){r.current=Ql(g),n.current=void 0},[]),p=f.useCallback(function(g){u(g.type,Y0(g),g.target,a(g,t.lockRef.current))},[]),h=f.useCallback(function(g){u(g.type,Ql(g),g.target,a(g,t.lockRef.current))},[]);f.useEffect(function(){return Li.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Di),document.addEventListener("touchmove",l,Di),document.addEventListener("touchstart",d,Di),function(){Li=Li.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Di),document.removeEventListener("touchmove",l,Di),document.removeEventListener("touchstart",d,Di)}},[]);var m=t.removeScrollBar,v=t.inert;return f.createElement(f.Fragment,null,v?f.createElement(i,{styles:rL(s)}):null,m?f.createElement(K4,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function iL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oL=I4(D_,sL);var Am=f.forwardRef(function(t,e){return f.createElement(Vu,wn({},t,{ref:e,sideCar:oL}))});Am.classNames=Vu.classNames;var aL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Mi=new WeakMap,Yl=new WeakMap,Jl={},lh=0,F_=function(t){return t&&(t.host||F_(t.parentNode))},lL=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=F_(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},cL=function(t,e,r,n){var s=lL(e,Array.isArray(t)?t:[t]);Jl[r]||(Jl[r]=new WeakMap);var i=Jl[r],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",g=(Mi.get(h)||0)+1,b=(i.get(h)||0)+1;Mi.set(h,g),i.set(h,b),o.push(h),g===1&&v&&Yl.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),a.clear(),lh++,function(){o.forEach(function(p){var h=Mi.get(p)-1,m=i.get(p)-1;Mi.set(p,h),i.set(p,m),h||(Yl.has(p)||p.removeAttribute(n),Yl.delete(p)),m||p.removeAttribute(r)}),lh--,lh||(Mi=new WeakMap,Mi=new WeakMap,Yl=new WeakMap,Jl={})}},B_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=aL(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),cL(n,s,r,"aria-hidden")):function(){return null}},qu="Dialog",[z_,W_]=Kn(qu),[uL,un]=z_(qu),H_=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=f.useRef(null),l=f.useRef(null),[u,d]=jo({prop:n,defaultProp:s??!1,onChange:i,caller:qu});return c.jsx(uL,{scope:e,triggerRef:a,contentRef:l,contentId:js(),titleId:js(),descriptionId:js(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(p=>!p),[d]),modal:o,children:r})};H_.displayName=qu;var V_="DialogTrigger",q_=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=un(V_,r),i=Be(e,s.triggerRef);return c.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lm(s.open),...n,ref:i,onClick:pe(t.onClick,s.onOpenToggle)})});q_.displayName=V_;var Im="DialogPortal",[dL,K_]=z_(Im,{forceMount:void 0}),G_=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=un(Im,e);return c.jsx(dL,{scope:e,forceMount:r,children:f.Children.map(n,o=>c.jsx(Si,{present:r||i.open,children:c.jsx(_u,{asChild:!0,container:s,children:o})}))})};G_.displayName=Im;var ru="DialogOverlay",Q_=f.forwardRef((t,e)=>{const r=K_(ru,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=un(ru,t.__scopeDialog);return i.modal?c.jsx(Si,{present:n||i.open,children:c.jsx(fL,{...s,ref:e})}):null});Q_.displayName=ru;var hL=To("DialogOverlay.RemoveScroll"),fL=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=un(ru,r);return c.jsx(Am,{as:hL,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Te.div,{"data-state":Lm(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),gi="DialogContent",Y_=f.forwardRef((t,e)=>{const r=K_(gi,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=un(gi,t.__scopeDialog);return c.jsx(Si,{present:n||i.open,children:i.modal?c.jsx(pL,{...s,ref:e}):c.jsx(mL,{...s,ref:e})})});Y_.displayName=gi;var pL=f.forwardRef((t,e)=>{const r=un(gi,t.__scopeDialog),n=f.useRef(null),s=Be(e,r.contentRef,n);return f.useEffect(()=>{const i=n.current;if(i)return B_(i)},[]),c.jsx(J_,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault())})}),mL=f.forwardRef((t,e)=>{const r=un(gi,t.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return c.jsx(J_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),J_=f.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=un(gi,r),l=f.useRef(null),u=Be(e,l);return A_(),c.jsxs(c.Fragment,{children:[c.jsx(Rm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(al,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Lm(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(vL,{titleId:a.titleId}),c.jsx(wL,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Dm="DialogTitle",X_=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=un(Dm,r);return c.jsx(Te.h2,{id:s.titleId,...n,ref:e})});X_.displayName=Dm;var Z_="DialogDescription",eS=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=un(Z_,r);return c.jsx(Te.p,{id:s.descriptionId,...n,ref:e})});eS.displayName=Z_;var tS="DialogClose",rS=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=un(tS,r);return c.jsx(Te.button,{type:"button",...n,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});rS.displayName=tS;function Lm(t){return t?"open":"closed"}var nS="DialogTitleWarning",[gL,sS]=i2(nS,{contentName:gi,titleName:Dm,docsSlug:"dialog"}),vL=({titleId:t})=>{const e=sS(nS),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},yL="DialogDescriptionWarning",wL=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sS(yL).contentName}}.`;return f.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},iS=H_,xL=q_,oS=G_,Mm=Q_,$m=Y_,Um=X_,Fm=eS,Bm=rS;const bL=iS,_L=oS,aS=f.forwardRef(({className:t,...e},r)=>c.jsx(Mm,{ref:r,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));aS.displayName=Mm.displayName;const lS=f.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(_L,{children:[c.jsx(aS,{}),c.jsxs($m,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(Bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(ku,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lS.displayName=$m.displayName;const cS=({className:t,...e})=>c.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cS.displayName="DialogHeader";const uS=f.forwardRef(({className:t,...e},r)=>c.jsx(Um,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",t),...e}));uS.displayName=Um.displayName;const SL=f.forwardRef(({className:t,...e},r)=>c.jsx(Fm,{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));SL.displayName=Fm.displayName;const EL=[{type:"q",name:"Queen",whiteSymbol:"",blackSymbol:""},{type:"r",name:"Rook",whiteSymbol:"",blackSymbol:""},{type:"b",name:"Bishop",whiteSymbol:"",blackSymbol:""},{type:"n",name:"Knight",whiteSymbol:"",blackSymbol:""}],dS=({isOpen:t,color:e,onSelect:r})=>c.jsx(bL,{open:t,children:c.jsxs(lS,{className:"sm:max-w-md",onPointerDownOutside:n=>n.preventDefault(),children:[c.jsx(cS,{children:c.jsx(uS,{className:"text-center text-xl",children:"Choose Promotion"})}),c.jsx("div",{className:"grid grid-cols-4 gap-3 py-4",children:EL.map(n=>c.jsx(be,{variant:"outline",className:"h-20 text-5xl hover:bg-primary hover:text-primary-foreground transition-all",onClick:()=>r(n.type),children:e==="white"?n.whiteSymbol:n.blackSymbol},n.type))}),c.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a piece to promote your pawn"})]})}),CL=({x:t,y:e,onComplete:r})=>{const[n,s]=f.useState([]),[i,o]=f.useState(0),[a,l]=f.useState(1);return f.useEffect(()=>{const u=[];for(let m=0;m<16;m++){const v=m/16*Math.PI*2,g=3+Math.random()*4;u.push({id:m,x:0,y:0,vx:Math.cos(v)*g,vy:Math.sin(v)*g,size:3+Math.random()*3,hue:Math.random()>.5?45:25,opacity:1,type:"spark"})}for(let m=0;m<8;m++){const v=Math.random()*Math.PI*2,g=1+Math.random()*2;u.push({id:16+m,x:0,y:0,vx:Math.cos(v)*g,vy:Math.sin(v)*g-1,size:4+Math.random()*4,hue:15+Math.random()*30,opacity:1,type:"ember"})}s(u);const d=setInterval(()=>{o(m=>m+.15),l(m=>Math.max(0,m-.08))},16),p=setInterval(()=>{s(m=>m.map(v=>({...v,x:v.x+v.vx,y:v.y+v.vy+(v.type==="ember"?-.5:0),vy:v.vy+.15,opacity:v.opacity-.04,size:v.size*.96})).filter(v=>v.opacity>0))},16),h=setTimeout(()=>{clearInterval(d),clearInterval(p),r()},800);return()=>{clearInterval(d),clearInterval(p),clearTimeout(h)}},[r]),c.jsxs("div",{className:"fixed pointer-events-none z-[9997]",style:{left:t,top:e},children:[c.jsx("div",{className:"absolute rounded-full",style:{width:80,height:80,left:-40,top:-40,border:"3px solid",borderColor:"hsl(45, 100%, 60%)",transform:`scale(${i})`,opacity:a,boxShadow:`
            0 0 20px hsl(45, 100%, 50%),
            0 0 40px hsl(25, 100%, 50%),
            inset 0 0 20px hsl(45, 100%, 60%)
          `}}),c.jsx("div",{className:"absolute rounded-full",style:{width:40,height:40,left:-20,top:-20,background:"radial-gradient(circle, hsl(45, 100%, 80%), hsl(25, 100%, 50%), transparent)",transform:`scale(${i*.5})`,opacity:a*1.5}}),n.map(u=>c.jsx("div",{className:"absolute rounded-full",style:{width:u.size,height:u.size,left:u.x-u.size/2,top:u.y-u.size/2,opacity:u.opacity,background:u.type==="spark"?`hsl(${u.hue}, 100%, 70%)`:`radial-gradient(circle, hsl(${u.hue}, 100%, 60%), hsl(${u.hue-10}, 100%, 40%))`,boxShadow:`0 0 ${u.size*2}px hsl(${u.hue}, 100%, 50%)`}},u.id))]})},X0=["hsl(45, 100%, 60%)","hsl(185, 100%, 50%)","hsl(280, 80%, 60%)","hsl(320, 90%, 60%)","hsl(35, 100%, 55%)","hsl(120, 70%, 50%)"],kL=({isActive:t})=>{const[e,r]=f.useState([]);return f.useEffect(()=>{if(!t){r([]);return}const n=[];for(let i=0;i<150;i++)n.push({id:i,x:Math.random()*100,y:-10-Math.random()*20,color:X0[Math.floor(Math.random()*X0.length)],rotation:Math.random()*360,scale:.5+Math.random()*.5,delay:Math.random()*2});r(n);const s=setTimeout(()=>{r([])},6e3);return()=>clearTimeout(s)},[t]),!t||e.length===0?null:c.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:e.map(n=>c.jsx("div",{className:"absolute confetti-piece",style:{left:`${n.x}%`,top:`${n.y}%`,backgroundColor:n.color,width:`${10*n.scale}px`,height:`${14*n.scale}px`,transform:`rotate(${n.rotation}deg)`,animationDelay:`${n.delay}s`}},n.id))})},TL=({isActive:t,losingColor:e,onComplete:r})=>{const[n,s]=f.useState("hidden");if(f.useEffect(()=>{if(!t){s("hidden");return}s("falling");const a=setTimeout(()=>{s("landed")},800),l=setTimeout(()=>{r==null||r()},3e3);return()=>{clearTimeout(a),clearTimeout(l)}},[t,r]),n==="hidden")return null;const i=e==="white"?"#f0f0f0":"#1a1a1a",o=e==="white"?"#666":"#444";return c.jsxs("div",{className:"fixed inset-0 pointer-events-none z-40 flex items-center justify-center",children:[c.jsx("div",{className:`absolute inset-0 bg-black transition-opacity duration-500 ${n==="falling"?"opacity-30":n==="landed"?"opacity-20":"opacity-0"}`}),c.jsxs("div",{className:`relative checkmate-king ${n}`,style:{transformOrigin:"bottom center"},children:[c.jsxs("svg",{width:"120",height:"140",viewBox:"0 0 60 70",fill:"none",className:"drop-shadow-2xl",children:[c.jsxs("g",{filter:"url(#shadow)",children:[c.jsx("ellipse",{cx:"30",cy:"65",rx:"25",ry:"4",fill:i,stroke:o,strokeWidth:"1"}),c.jsx("path",{d:"M10 62 Q10 58 15 56 L45 56 Q50 58 50 62 L50 65 L10 65 Z",fill:i,stroke:o,strokeWidth:"1"}),c.jsx("path",{d:"M15 56 Q12 45 18 35 L42 35 Q48 45 45 56 Z",fill:i,stroke:o,strokeWidth:"1"}),c.jsx("path",{d:"M18 35 Q15 33 16 30 L44 30 Q45 33 42 35 Z",fill:i,stroke:o,strokeWidth:"1"}),c.jsx("ellipse",{cx:"30",cy:"22",rx:"12",ry:"10",fill:i,stroke:o,strokeWidth:"1"}),c.jsx("path",{d:"M22 14 L22 8 L24 12 L26 6 L28 12 L30 4 L32 12 L34 6 L36 12 L38 8 L38 14",fill:i,stroke:o,strokeWidth:"1"}),c.jsx("rect",{x:"28",y:"0",width:"4",height:"10",fill:i,stroke:o,strokeWidth:"0.5"}),c.jsx("rect",{x:"25",y:"2",width:"10",height:"3",fill:i,stroke:o,strokeWidth:"0.5"})]}),c.jsx("defs",{children:c.jsx("filter",{id:"shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:c.jsx("feDropShadow",{dx:"2",dy:"4",stdDeviation:"3",floodOpacity:"0.4"})})})]}),n==="landed"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-32 h-8 checkmate-impact"}),c.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 checkmate-dust"})]})]}),c.jsxs("div",{className:`absolute bottom-1/3 text-center checkmate-text ${n}`,children:[c.jsx("h2",{className:"text-4xl md:text-6xl font-display font-bold text-primary drop-shadow-lg",children:"CHECKMATE!"}),c.jsxs("p",{className:"text-lg md:text-xl text-foreground/80 mt-2",children:[e==="white"?"Black":"White"," Wins!"]})]})]})},jL=()=>{const{gameId:t}=vP(),{profile:e}=Ci(),{toast:r}=_i(),n=hl(),s=P_(),i=f.useRef(null),[o,a]=f.useState(new vn),[l,u]=f.useState(null),[d,p]=f.useState(null),[h,m]=f.useState(null),[v,g]=f.useState(600),[b,w]=f.useState(600),[y,x]=f.useState(!0),[_,S]=f.useState(null),[E,C]=f.useState([]),[T,L]=f.useState(null),[M,J]=f.useState(null),[$,X]=f.useState(!1),[R,q]=f.useState([]),[F,G]=f.useState(!1),[j,P]=f.useState(null),z=(e==null?void 0:e.id)===(l==null?void 0:l.white_player_id),Z=(e==null?void 0:e.id)===(l==null?void 0:l.black_player_id),k=z||Z,W=o.turn()==="w"&&z||o.turn()==="b"&&Z,H=z?"white":"black",Y=(l==null?void 0:l.white_ready)&&(l==null?void 0:l.black_ready),te=Y&&(l==null?void 0:l.result)==="in_progress";f.useEffect(()=>{if(t)return A(),ne()},[t]),f.useEffect(()=>{if(Y&&(l==null?void 0:l.result)==="in_progress"){const K=setInterval(()=>{o.turn()==="w"?g(ae=>{const le=Math.max(0,ae-1);return le===30&&z&&!$&&(s.playTimeWarning(),X(!0)),le}):w(ae=>{const le=Math.max(0,ae-1);return le===30&&Z&&!$&&(s.playTimeWarning(),X(!0)),le})},1e3);return()=>clearInterval(K)}},[Y,l==null?void 0:l.result,o,z,Z,$,s]),f.useEffect(()=>{X(!1)},[o.turn()]);const A=async()=>{if(!t)return;const{data:K}=await ee.from("games").select("*").eq("id",t).single();if(K){u(K);const ae=new vn;K.fen&&ae.load(K.fen),a(ae),g(K.white_time_remaining||600),w(K.black_time_remaining||600);const{data:le}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, rating").eq("id",K.white_player_id).single(),{data:ke}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, rating").eq("id",K.black_player_id).single();le&&p(le),ke&&m(ke),s.playGameStart()}x(!1)},ne=()=>{const K=ee.channel(`game-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"games",filter:`id=eq.${t}`},ae=>{const le=ae.new;u(le);const ke=new vn;le.fen&&ke.load(le.fen),a(ke),le.pgn&&s.playMove()}).subscribe();return()=>{ee.removeChannel(K)}},ve=f.useCallback(K=>{if(!i.current)return;const ae=i.current.getBoundingClientRect(),le=ae.width/8,ke=K.charCodeAt(0)-97,it=parseInt(K[1])-1,jt=!z&&Z,Ye=jt?7-ke:ke,Je=jt?it:7-it,Ut=ae.left+(Ye+.5)*le,mr=ae.top+(Je+.5)*le,zr=Date.now()+Math.random();q(Gt=>[...Gt,{id:zr,x:Ut,y:mr}])},[z,Z]),oe=f.useCallback(K=>{q(ae=>ae.filter(le=>le.id!==K))},[]),se=f.useCallback(K=>{K.san.includes("#")?s.playCheckmate():K.san.includes("+")?s.playCheck():K.captured?(s.playCapture(),ve(K.to)):K.flags.includes("k")||K.flags.includes("q")?s.playCastle():K.san.includes("=")?s.playPromotion():s.playMove()},[s,ve]),he=f.useCallback((K,ae)=>{const le=o.get(K);if(!le||le.type!=="p")return!1;const ke=ae[1];return le.color==="w"&&ke==="8"||le.color==="b"&&ke==="1"},[o]),Ie=f.useCallback((K,ae,le="q")=>{if(!l)return!1;try{const ke=new vn(o.fen()),it=ke.move({from:K,to:ae,promotion:le});if(!it)return!1;a(ke),S(null),C([]),J({from:K,to:ae}),se(it);const jt=ke.fen(),Ye=ke.pgn();let Je="in_progress";return ke.isCheckmate()?(Je=ke.turn()==="w"?"black_wins":"white_wins",P({active:!0,losingColor:ke.turn()==="w"?"white":"black"}),G(!0)):ke.isDraw()&&(Je="draw"),ee.from("games").update({fen:jt,pgn:Ye,result:Je,white_time_remaining:v,black_time_remaining:b,...Je!=="in_progress"?{ended_at:new Date().toISOString()}:{}}).eq("id",t).then(()=>{Je!=="in_progress"&&(pr(Je),r({title:"Game Over!",description:`Result: ${Je.replace(/_/g," ")}`}))}),!0}catch{return!1}},[o,l,t,v,b,se,r]),xt=f.useCallback(K=>{T&&(Ie(T.from,T.to,K),L(null))},[T,Ie]),ft=f.useCallback(K=>o.moves({square:K,verbose:!0}).map(le=>le.to),[o]),pt=f.useCallback(K=>{if(!W||!te||T)return;if(_&&E.includes(K)){if(he(_,K)){L({from:_,to:K});return}Ie(_,K);return}const ae=o.get(K),le=z?"w":"b";ae&&ae.color===le?(S(K),C(ft(K))):(S(null),C([]))},[o,W,te,_,E,z,T,he,Ie,ft]),fr=f.useCallback((K,ae)=>!W||!te||T?!1:(S(ae),C(ft(ae)),!0),[W,te,T,ft]),rr=f.useCallback(()=>{S(null),C([])},[]),Nr=f.useCallback((K,ae)=>{if(!W||!te||T)return!1;const le=K,ke=ae;return o.moves({square:le,verbose:!0}).some(Ye=>Ye.to===ke)?he(le,ke)?(L({from:le,to:ke}),!0):Ie(le,ke):!1},[o,W,te,T,he,Ie]),kn=f.useMemo(()=>{const K={};return M&&(K[M.from]={backgroundColor:"rgba(155, 199, 0, 0.4)"},K[M.to]={backgroundColor:"rgba(155, 199, 0, 0.5)"}),_&&(K[_]={backgroundColor:"rgba(255, 255, 0, 0.4)"}),E.forEach(ae=>{const le=o.get(ae);K[ae]={...K[ae],background:le?"radial-gradient(circle, rgba(255, 0, 0, 0.4) 85%, transparent 85%)":"radial-gradient(circle, rgba(0, 128, 0, 0.4) 25%, transparent 25%)"}}),K},[_,E,o,M]),pr=async K=>{if(!l)return;let ae=0,le=0,ke=0,it=0;const{data:jt}=await ee.from("profiles").select("rating").eq("id",l.white_player_id).single(),{data:Ye}=await ee.from("profiles").select("rating").eq("id",l.black_player_id).single(),Je=(jt==null?void 0:jt.rating)||1200,Ut=(Ye==null?void 0:Ye.rating)||1200,mr=1/(1+Math.pow(10,(Ut-Je)/400)),zr=1-mr,Gt=32;K==="white_wins"?(ae=1,ke=Math.round(Gt*(1-mr)),it=Math.round(Gt*(0-zr))):K==="black_wins"?(le=1,ke=Math.round(Gt*(0-mr)),it=Math.round(Gt*(1-zr))):K==="draw"&&(ae=.5,le=.5,ke=Math.round(Gt*(.5-mr)),it=Math.round(Gt*(.5-zr)));const{data:Wr}=await ee.from("tournament_players").select("score").eq("tournament_id",l.tournament_id).eq("player_id",l.white_player_id).single(),{data:Jn}=await ee.from("tournament_players").select("score").eq("tournament_id",l.tournament_id).eq("player_id",l.black_player_id).single();Wr&&await ee.from("tournament_players").update({score:Number(Wr.score)+ae}).eq("tournament_id",l.tournament_id).eq("player_id",l.white_player_id),Jn&&await ee.from("tournament_players").update({score:Number(Jn.score)+le}).eq("tournament_id",l.tournament_id).eq("player_id",l.black_player_id);const{data:sr}=await ee.from("profiles").select("games_played, games_won, games_lost, games_drawn, score").eq("id",l.white_player_id).single(),{data:mt}=await ee.from("profiles").select("games_played, games_won, games_lost, games_drawn, score").eq("id",l.black_player_id).single();if(sr){const jn=K==="white_wins"?1:0,ue=K==="black_wins"?1:0,Ne=K==="draw"?1:0;await ee.from("profiles").update({rating:Je+ke,games_played:(sr.games_played||0)+1,games_won:(sr.games_won||0)+jn,games_lost:(sr.games_lost||0)+ue,games_drawn:(sr.games_drawn||0)+Ne,score:Number(sr.score||0)+ae}).eq("id",l.white_player_id)}else await ee.from("profiles").update({rating:Je+ke}).eq("id",l.white_player_id);if(mt){const jn=K==="black_wins"?1:0,ue=K==="white_wins"?1:0,Ne=K==="draw"?1:0;await ee.from("profiles").update({rating:Ut+it,games_played:(mt.games_played||0)+1,games_won:(mt.games_won||0)+jn,games_lost:(mt.games_lost||0)+ue,games_drawn:(mt.games_drawn||0)+Ne,score:Number(mt.score||0)+le}).eq("id",l.black_player_id)}else await ee.from("profiles").update({rating:Ut+it}).eq("id",l.black_player_id)},Br=async()=>{if(!l||!k)return;const K=z?{white_ready:!0}:{black_ready:!0},ae=z?l.black_ready:l.white_ready&&!0;await ee.from("games").update({...K,...ae?{result:"in_progress",started_at:new Date().toISOString()}:{}}).eq("id",t),ae?(s.playGameStart(),r({title:"Game Started!",description:"White moves first. Good luck!"})):r({title:z?"Game Started!":"Ready!",description:"Waiting for opponent..."})},Kt=async()=>{if(!l||!k||!Y)return;const K=z?"black_wins":"white_wins";await ee.from("games").update({result:K,ended_at:new Date().toISOString()}).eq("id",t),await pr(K),r({title:"You resigned",description:"Better luck next time!"})},Tn=async()=>{!l||!k||!te||(await ee.from("games").update({draw_offered_by:e==null?void 0:e.id}).eq("id",t),r({title:"Draw offered",description:"Waiting for opponent's response..."}))},nr=async()=>{!l||!k||!te||(await ee.from("games").update({result:"draw",ended_at:new Date().toISOString(),draw_offered_by:null}).eq("id",t),await pr("draw"),r({title:"Draw accepted",description:"Game ended in a draw!"}))},lt=async()=>{!l||!k||(await ee.from("games").update({draw_offered_by:null}).eq("id",t),r({title:"Draw declined",description:"The game continues!"}))},Tt=K=>{const ae=Math.floor(K/60),le=K%60;return`${ae}:${le.toString().padStart(2,"0")}`};return y?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(ar,{className:"h-8 w-8 animate-spin text-primary"})}):l?c.jsxs("div",{className:"min-h-screen bg-background p-4",children:[c.jsx(kL,{isActive:F}),c.jsx(TL,{isActive:(j==null?void 0:j.active)||!1,losingColor:(j==null?void 0:j.losingColor)||"white",onComplete:()=>{P(null),G(!1)}}),c.jsx(dS,{isOpen:!!T,color:H,onSelect:xt}),c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs(Le,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(hr,{avatarUrl:h==null?void 0:h.avatar_url,initials:h==null?void 0:h.avatar_initials,name:h==null?void 0:h.full_name,size:"sm"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:(h==null?void 0:h.username)||"Black"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Black  ",(h==null?void 0:h.rating)||1200]})]})]}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors ${o.turn()==="b"?b<=30?"bg-destructive text-destructive-foreground animate-pulse":"bg-primary text-primary-foreground":"bg-muted"}`,children:[c.jsx(af,{className:"h-4 w-4"}),c.jsx("span",{className:"font-mono font-bold",children:Tt(b)})]})]}),c.jsxs("div",{className:"max-w-[min(100%,400px)] mx-auto relative",ref:i,children:[c.jsx(O_,{position:o.fen(),onPieceDrop:Nr,onSquareClick:pt,onPieceDragBegin:fr,onPieceDragEnd:rr,boardOrientation:Z?"black":"white",arePiecesDraggable:k&&W&&te&&!T,customSquareStyles:kn}),R.map(K=>c.jsx(CL,{x:K.x,y:K.y,onComplete:()=>oe(K.id)},K.id))]}),c.jsxs("div",{className:"flex items-center justify-between mt-4 p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(hr,{avatarUrl:d==null?void 0:d.avatar_url,initials:d==null?void 0:d.avatar_initials,name:d==null?void 0:d.full_name,size:"sm"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:(d==null?void 0:d.username)||"White"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["White  ",(d==null?void 0:d.rating)||1200]})]})]}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors ${o.turn()==="w"?v<=30?"bg-destructive text-destructive-foreground animate-pulse":"bg-primary text-primary-foreground":"bg-muted"}`,children:[c.jsx(af,{className:"h-4 w-4"}),c.jsx("span",{className:"font-mono font-bold",children:Tt(v)})]})]})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Le,{children:[c.jsx(Et,{children:c.jsx(Ct,{children:"Game Status"})}),c.jsxs(Fe,{className:"space-y-4",children:[c.jsx("div",{className:"text-center py-4 bg-muted rounded-lg",children:Y?l.result==="in_progress"?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-bold text-lg",children:o.turn()==="w"?"White's Turn":"Black's Turn"}),W&&c.jsx("p",{className:"text-sm text-primary",children:"Your move!"})]}):c.jsx("p",{className:"font-bold text-lg capitalize",children:l.result.replace(/_/g," ")}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-bold text-lg",children:"Waiting to Start"}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx("p",{className:`text-sm ${l.white_ready?"text-green-500":"text-muted-foreground"}`,children:l.white_ready?" White is ready":" White not ready"}),c.jsx("p",{className:`text-sm ${l.black_ready?"text-green-500":"text-muted-foreground"}`,children:l.black_ready?" Black is ready":" Black not ready"})]})]})}),o.isCheck()&&te&&c.jsx("div",{className:"p-3 bg-destructive/10 text-destructive rounded-lg text-center font-bold animate-pulse",children:"CHECK!"}),k&&!Y&&l.result==="pending"&&c.jsxs(c.Fragment,{children:[z&&!l.white_ready&&c.jsxs(be,{className:"w-full bg-green-600 hover:bg-green-700",onClick:Br,children:[c.jsx(nm,{className:"h-4 w-4 mr-2"}),"Start Game"]}),z&&l.white_ready&&!l.black_ready&&c.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg text-center",children:[c.jsx(ar,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),c.jsx("p",{className:"text-sm",children:"Waiting for Black to accept..."})]}),Z&&!l.black_ready&&l.white_ready&&c.jsxs(be,{className:"w-full bg-green-600 hover:bg-green-700",onClick:Br,children:[c.jsx(rT,{className:"h-4 w-4 mr-2"}),"Accept & Start"]}),Z&&!l.white_ready&&c.jsx("div",{className:"p-3 bg-muted rounded-lg text-center",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiting for White to start the game..."})})]}),k&&te&&l.draw_offered_by&&l.draw_offered_by!==(e==null?void 0:e.id)&&c.jsxs("div",{className:"p-3 bg-amber-500/20 border border-amber-500/30 rounded-lg space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-center",children:"Opponent offers a draw"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(be,{variant:"outline",className:"flex-1",onClick:nr,children:[c.jsx(fv,{className:"h-4 w-4 mr-2"}),"Accept"]}),c.jsxs(be,{variant:"outline",className:"flex-1",onClick:lt,children:[c.jsx(ku,{className:"h-4 w-4 mr-2"}),"Decline"]})]})]}),k&&te&&l.draw_offered_by===(e==null?void 0:e.id)&&c.jsxs("div",{className:"p-3 bg-muted rounded-lg text-center",children:[c.jsx(ar,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Draw offer pending..."})]}),k&&te&&c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(be,{variant:"secondary",className:"flex-1",onClick:Tn,disabled:!!l.draw_offered_by,children:[c.jsx(fv,{className:"h-4 w-4 mr-2"}),"Offer Draw"]}),c.jsxs(be,{variant:"destructive",className:"flex-1",onClick:Kt,children:[c.jsx(l1,{className:"h-4 w-4 mr-2"}),"Resign"]})]}),c.jsxs(be,{variant:"outline",className:"w-full",onClick:()=>n("/standings"),children:[c.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Back to Standings"]})]})]}),c.jsxs(Le,{children:[c.jsx(Et,{children:c.jsx(Ct,{children:"Moves"})}),c.jsx(Fe,{children:c.jsx("div",{className:"text-sm font-mono bg-muted p-3 rounded-lg max-h-48 overflow-y-auto",children:o.history().length>0?c.jsx("div",{className:"space-y-1",children:o.history().reduce((K,ae,le)=>(le%2===0?K.push([ae]):K[K.length-1].push(ae),K),[]).map((K,ae)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("span",{className:"text-muted-foreground w-6",children:[ae+1,"."]}),c.jsx("span",{className:"w-16",children:K[0]}),c.jsx("span",{className:"w-16",children:K[1]||""})]},ae))}):c.jsx("span",{className:"text-muted-foreground",children:"No moves yet"})})})]})]})]})})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground",children:"Game not found"})})};function Z0(t,[e,r]){return Math.min(r,Math.max(e,t))}function NL(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var OL=[" ","Enter","ArrowUp","ArrowDown"],PL=[" ","Enter"],vi="Select",[Ku,Gu,RL]=Xp(vi),[Bo,DM]=Kn(vi,[RL,Ou]),Qu=Ou(),[AL,Us]=Bo(vi),[IL,DL]=Bo(vi),hS=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:p,disabled:h,required:m,form:v}=t,g=Qu(e),[b,w]=f.useState(null),[y,x]=f.useState(null),[_,S]=f.useState(!1),E=Em(u),[C,T]=jo({prop:n,defaultProp:s??!1,onChange:i,caller:vi}),[L,M]=jo({prop:o,defaultProp:a,onChange:l,caller:vi}),J=f.useRef(null),$=b?v||!!b.closest("form"):!0,[X,R]=f.useState(new Set),q=Array.from(X).map(F=>F.props.value).join(";");return c.jsx(XN,{...g,children:c.jsxs(AL,{required:m,scope:e,trigger:b,onTriggerChange:w,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:js(),value:L,onValueChange:M,open:C,onOpenChange:T,dir:E,triggerPointerDownPosRef:J,disabled:h,children:[c.jsx(Ku.Provider,{scope:e,children:c.jsx(IL,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(F=>{R(G=>new Set(G).add(F))},[]),onNativeOptionRemove:f.useCallback(F=>{R(G=>{const j=new Set(G);return j.delete(F),j})},[]),children:r})}),$?c.jsxs(LS,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:p,value:L,onChange:F=>M(F.target.value),disabled:h,form:v,children:[L===void 0?c.jsx("option",{value:""}):null,Array.from(X)]},q):null]})})};hS.displayName=vi;var fS="SelectTrigger",pS=f.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Qu(r),o=Us(fS,r),a=o.disabled||n,l=Be(e,o.onTriggerChange),u=Gu(r),d=f.useRef("touch"),[p,h,m]=$S(g=>{const b=u().filter(x=>!x.disabled),w=b.find(x=>x.value===o.value),y=US(b,g,w);y!==void 0&&o.onValueChange(y.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(q1,{asChild:!0,...i,children:c.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":MS(o.value)?"":void 0,...s,ref:l,onClick:pe(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:pe(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:pe(s.onKeyDown,g=>{const b=p.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&OL.includes(g.key)&&(v(),g.preventDefault())})})})});pS.displayName=fS;var mS="SelectValue",gS=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=t,l=Us(mS,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,p=Be(e,l.onValueNodeChange);return $t(()=>{u(d)},[u,d]),c.jsx(Te.span,{...a,ref:p,style:{pointerEvents:"none"},children:MS(l.value)?c.jsx(c.Fragment,{children:o}):i})});gS.displayName=mS;var LL="SelectIcon",vS=f.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return c.jsx(Te.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});vS.displayName=LL;var ML="SelectPortal",yS=t=>c.jsx(_u,{asChild:!0,...t});yS.displayName=ML;var yi="SelectContent",wS=f.forwardRef((t,e)=>{const r=Us(yi,t.__scopeSelect),[n,s]=f.useState();if($t(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?bi.createPortal(c.jsx(xS,{scope:t.__scopeSelect,children:c.jsx(Ku.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(bS,{...t,ref:e})});wS.displayName=yi;var Kr=10,[xS,Fs]=Bo(yi),$L="SelectContentImpl",UL=To("SelectContent.RemoveScroll"),bS=f.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b,...w}=t,y=Us(yi,r),[x,_]=f.useState(null),[S,E]=f.useState(null),C=Be(e,A=>_(A)),[T,L]=f.useState(null),[M,J]=f.useState(null),$=Gu(r),[X,R]=f.useState(!1),q=f.useRef(!1);f.useEffect(()=>{if(x)return B_(x)},[x]),A_();const F=f.useCallback(A=>{const[ne,...ve]=$().map(he=>he.ref.current),[oe]=ve.slice(-1),se=document.activeElement;for(const he of A)if(he===se||(he==null||he.scrollIntoView({block:"nearest"}),he===ne&&S&&(S.scrollTop=0),he===oe&&S&&(S.scrollTop=S.scrollHeight),he==null||he.focus(),document.activeElement!==se))return},[$,S]),G=f.useCallback(()=>F([T,x]),[F,T,x]);f.useEffect(()=>{X&&G()},[X,G]);const{onOpenChange:j,triggerPointerDownPosRef:P}=y;f.useEffect(()=>{if(x){let A={x:0,y:0};const ne=oe=>{var se,he;A={x:Math.abs(Math.round(oe.pageX)-(((se=P.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((he=P.current)==null?void 0:he.y)??0))}},ve=oe=>{A.x<=10&&A.y<=10?oe.preventDefault():x.contains(oe.target)||j(!1),document.removeEventListener("pointermove",ne),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",ve,{capture:!0})}}},[x,j,P]),f.useEffect(()=>{const A=()=>j(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[j]);const[z,Z]=$S(A=>{const ne=$().filter(se=>!se.disabled),ve=ne.find(se=>se.ref.current===document.activeElement),oe=US(ne,A,ve);oe&&setTimeout(()=>oe.ref.current.focus())}),k=f.useCallback((A,ne,ve)=>{const oe=!q.current&&!ve;(y.value!==void 0&&y.value===ne||oe)&&(L(A),oe&&(q.current=!0))},[y.value]),W=f.useCallback(()=>x==null?void 0:x.focus(),[x]),H=f.useCallback((A,ne,ve)=>{const oe=!q.current&&!ve;(y.value!==void 0&&y.value===ne||oe)&&J(A)},[y.value]),Y=n==="popper"?Wf:_S,te=Y===Wf?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return c.jsx(xS,{scope:r,content:x,viewport:S,onViewportChange:E,itemRefCallback:k,selectedItem:T,onItemLeave:W,itemTextRefCallback:H,focusSelectedItem:G,selectedItemText:M,position:n,isPositioned:X,searchRef:z,children:c.jsx(Am,{as:UL,allowPinchZoom:!0,children:c.jsx(Rm,{asChild:!0,trapped:y.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:pe(s,A=>{var ne;(ne=y.trigger)==null||ne.focus({preventScroll:!0}),A.preventDefault()}),children:c.jsx(al,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(Y,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:A=>A.preventDefault(),...w,...te,onPlaced:()=>R(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:pe(w.onKeyDown,A=>{const ne=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!ne&&A.key.length===1&&Z(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let oe=$().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(A.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const se=A.target,he=oe.indexOf(se);oe=oe.slice(he+1)}setTimeout(()=>F(oe)),A.preventDefault()}})})})})})})});bS.displayName=$L;var FL="SelectItemAlignedPosition",_S=f.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=Us(yi,r),o=Fs(yi,r),[a,l]=f.useState(null),[u,d]=f.useState(null),p=Be(e,C=>d(C)),h=Gu(r),m=f.useRef(!1),v=f.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:w,focusSelectedItem:y}=o,x=f.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&b&&w){const C=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),M=w.getBoundingClientRect();if(i.dir!=="rtl"){const se=M.left-T.left,he=L.left-se,Ie=C.left-he,xt=C.width+Ie,ft=Math.max(xt,T.width),pt=window.innerWidth-Kr,fr=Z0(he,[Kr,Math.max(Kr,pt-ft)]);a.style.minWidth=xt+"px",a.style.left=fr+"px"}else{const se=T.right-M.right,he=window.innerWidth-L.right-se,Ie=window.innerWidth-C.right-he,xt=C.width+Ie,ft=Math.max(xt,T.width),pt=window.innerWidth-Kr,fr=Z0(he,[Kr,Math.max(Kr,pt-ft)]);a.style.minWidth=xt+"px",a.style.right=fr+"px"}const J=h(),$=window.innerHeight-Kr*2,X=g.scrollHeight,R=window.getComputedStyle(u),q=parseInt(R.borderTopWidth,10),F=parseInt(R.paddingTop,10),G=parseInt(R.borderBottomWidth,10),j=parseInt(R.paddingBottom,10),P=q+F+X+j+G,z=Math.min(b.offsetHeight*5,P),Z=window.getComputedStyle(g),k=parseInt(Z.paddingTop,10),W=parseInt(Z.paddingBottom,10),H=C.top+C.height/2-Kr,Y=$-H,te=b.offsetHeight/2,A=b.offsetTop+te,ne=q+F+A,ve=P-ne;if(ne<=H){const se=J.length>0&&b===J[J.length-1].ref.current;a.style.bottom="0px";const he=u.clientHeight-g.offsetTop-g.offsetHeight,Ie=Math.max(Y,te+(se?W:0)+he+G),xt=ne+Ie;a.style.height=xt+"px"}else{const se=J.length>0&&b===J[0].ref.current;a.style.top="0px";const Ie=Math.max(H,q+g.offsetTop+(se?k:0)+te)+ve;a.style.height=Ie+"px",g.scrollTop=ne-H+g.offsetTop}a.style.margin=`${Kr}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=$+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,a,u,g,b,w,i.dir,n]);$t(()=>x(),[x]);const[_,S]=f.useState();$t(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=f.useCallback(C=>{C&&v.current===!0&&(x(),y==null||y(),v.current=!1)},[x,y]);return c.jsx(zL,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(Te.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});_S.displayName=FL;var BL="SelectPopperPosition",Wf=f.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Kr,...i}=t,o=Qu(r);return c.jsx(K1,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wf.displayName=BL;var[zL,zm]=Bo(yi,{}),Hf="SelectViewport",SS=f.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Fs(Hf,r),o=zm(Hf,r),a=Be(e,i.onViewportChange),l=f.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Ku.Slot,{scope:r,children:c.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&p){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Kr*2,g=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),w=Math.max(g,b);if(w<v){const y=w+m,x=Math.min(v,y),_=y-x;p.style.height=x+"px",p.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,p.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});SS.displayName=Hf;var ES="SelectGroup",[WL,HL]=Bo(ES),VL=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=js();return c.jsx(WL,{scope:r,id:s,children:c.jsx(Te.div,{role:"group","aria-labelledby":s,...n,ref:e})})});VL.displayName=ES;var CS="SelectLabel",kS=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=HL(CS,r);return c.jsx(Te.div,{id:s.id,...n,ref:e})});kS.displayName=CS;var nu="SelectItem",[qL,TS]=Bo(nu),jS=f.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,a=Us(nu,r),l=Fs(nu,r),u=a.value===n,[d,p]=f.useState(i??""),[h,m]=f.useState(!1),v=Be(e,y=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,y,n,s)}),g=js(),b=f.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(qL,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:f.useCallback(y=>{p(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(Ku.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:c.jsx(Te.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:pe(o.onFocus,()=>m(!0)),onBlur:pe(o.onBlur,()=>m(!1)),onClick:pe(o.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:pe(o.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:pe(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:pe(o.onPointerMove,y=>{var x;b.current=y.pointerType,s?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:pe(o.onKeyDown,y=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(PL.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});jS.displayName=nu;var oa="SelectItemText",NS=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=Us(oa,r),a=Fs(oa,r),l=TS(oa,r),u=DL(oa,r),[d,p]=f.useState(null),h=Be(e,w=>p(w),l.onItemTextChange,w=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,w,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=f.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return $t(()=>(g(v),()=>b(v)),[g,b,v]),c.jsxs(c.Fragment,{children:[c.jsx(Te.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bi.createPortal(i.children,o.valueNode):null]})});NS.displayName=oa;var OS="SelectItemIndicator",PS=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return TS(OS,r).isSelected?c.jsx(Te.span,{"aria-hidden":!0,...n,ref:e}):null});PS.displayName=OS;var Vf="SelectScrollUpButton",RS=f.forwardRef((t,e)=>{const r=Fs(Vf,t.__scopeSelect),n=zm(Vf,t.__scopeSelect),[s,i]=f.useState(!1),o=Be(e,n.onScrollButtonChange);return $t(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(IS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});RS.displayName=Vf;var qf="SelectScrollDownButton",AS=f.forwardRef((t,e)=>{const r=Fs(qf,t.__scopeSelect),n=zm(qf,t.__scopeSelect),[s,i]=f.useState(!1),o=Be(e,n.onScrollButtonChange);return $t(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(IS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});AS.displayName=qf;var IS=f.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Fs("SelectScrollButton",r),o=f.useRef(null),a=Gu(r),l=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),$t(()=>{var d;const u=a().find(p=>p.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(Te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:pe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{l()})})}),KL="SelectSeparator",DS=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(Te.div,{"aria-hidden":!0,...n,ref:e})});DS.displayName=KL;var Kf="SelectArrow",GL=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Qu(r),i=Us(Kf,r),o=Fs(Kf,r);return i.open&&o.position==="popper"?c.jsx(G1,{...s,...n,ref:e}):null});GL.displayName=Kf;var QL="SelectBubbleInput",LS=f.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=f.useRef(null),i=Be(n,s),o=NL(e);return f.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const p=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(p)}},[o,e]),c.jsx(Te.select,{...r,style:{...Mx,...r.style},ref:i,defaultValue:e})});LS.displayName=QL;function MS(t){return t===""||t===void 0}function $S(t){const e=Fr(t),r=f.useRef(""),n=f.useRef(0),s=f.useCallback(o=>{const a=r.current+o;e(a),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function US(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=YL(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function YL(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var JL=hS,FS=pS,XL=gS,ZL=vS,eM=yS,BS=wS,tM=SS,zS=kS,WS=jS,rM=NS,nM=PS,HS=RS,VS=AS,qS=DS;const Gf=JL,Qf=XL,su=f.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(FS,{ref:n,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(ZL,{asChild:!0,children:c.jsx(a1,{className:"h-4 w-4 opacity-50"})})]}));su.displayName=FS.displayName;const KS=f.forwardRef(({className:t,...e},r)=>c.jsx(HS,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(tT,{className:"h-4 w-4"})}));KS.displayName=HS.displayName;const GS=f.forwardRef(({className:t,...e},r)=>c.jsx(VS,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(a1,{className:"h-4 w-4"})}));GS.displayName=VS.displayName;const iu=f.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>c.jsx(eM,{children:c.jsxs(BS,{ref:s,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(KS,{}),c.jsx(tM,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(GS,{})]})}));iu.displayName=BS.displayName;const sM=f.forwardRef(({className:t,...e},r)=>c.jsx(zS,{ref:r,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));sM.displayName=zS.displayName;const Dt=f.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(WS,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(nM,{children:c.jsx(o1,{className:"h-4 w-4"})})}),c.jsx(rM,{children:e})]}));Dt.displayName=WS.displayName;const iM=f.forwardRef(({className:t,...e},r)=>c.jsx(qS,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",t),...e}));iM.displayName=qS.displayName;const ey=["Ooh, spicy move! ","I've seen better... in my dreams!","Bold strategy, Cotton!","That piece had a family!","Interesting... very interesting...","My grandma plays faster than this!","Chess isn't a game, it's a lifestyle! ","Someone's been watching too much Queen's Gambit!","The board is getting heated!","Plot twist incoming!"],ty=["CHECK! Your king is sweating! ","Knock knock! Who's there? CHECK!","Your king just felt that one!","Oof! That's gonna leave a mark!","The king is in trouble! DRAMA!"],ry=["RIP to that piece! ","Yoink! Mine now!","That piece just got yeeted!","Nom nom nom! ","And just like that... gone!","Savage! No mercy!"],ny=["CHECKMATE! GG EZ! ","That's all she wrote, folks!","FATALITY! ","And the crowd goes WILD!","Pack it up, we're done here!"],sy=["A draw? How... diplomatic! ","Nobody wins! Everyone gets a participation trophy!","It's a tie! How anti-climactic!"],oM=({lastMove:t,isCheck:e,isCheckmate:r,isDraw:n,moveCount:s})=>{const[i,o]=f.useState("Let the games begin! "),[a,l]=f.useState(!1),[u,d]=f.useState(!1);f.useEffect(()=>{if(s===0){o("Let the games begin! ");return}let h="";r?h=ny[Math.floor(Math.random()*ny.length)]:n?h=sy[Math.floor(Math.random()*sy.length)]:e?h=ty[Math.floor(Math.random()*ty.length)]:t&&t.includes("x")?h=ry[Math.floor(Math.random()*ry.length)]:s>0&&(h=ey[Math.floor(Math.random()*ey.length)]),h&&o(h)},[t,e,r,n,s]),f.useEffect(()=>{s>0&&s%5===0&&!r&&!n&&p()},[s]);const p=async()=>{if(!u){d(!0);try{const{data:h,error:m}=await ee.functions.invoke("chess-commentary",{body:{moveCount:s,lastMove:t}});h!=null&&h.commentary&&o(h.commentary)}catch{console.log("Commentary fetch failed, using local")}finally{d(!1)}}};return c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg p-4 border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(oT,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-semibold text-sm",children:"AI Commentator"})]}),c.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(!a),children:a?c.jsx(gT,{className:"h-4 w-4"}):c.jsx(mT,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"text-sm font-medium animate-in fade-in slide-in-from-bottom-2 duration-300",children:i})]})},aM=()=>{const{toast:t}=_i(),e=P_(),[r,n]=f.useState(new vn),[s,i]=f.useState("intermediate"),[o,a]=f.useState("white"),[l,u]=f.useState(!1),[d,p]=f.useState("playing"),[h,m]=f.useState([]),[v,g]=f.useState(null),[b,w]=f.useState([]),[y,x]=f.useState(null),[_,S]=f.useState(null),E=f.useCallback(k=>{k.san.includes("#")?e.playCheckmate():k.san.includes("+")?e.playCheck():k.captured?e.playCapture():k.flags.includes("k")||k.flags.includes("q")?e.playCastle():k.san.includes("=")?e.playPromotion():e.playMove()},[e]),C=f.useCallback(k=>{if(k.isCheckmate()){const W=k.turn()==="w"?"black":"white";return o==="white"&&W==="white"||o==="black"&&W==="black"?(p("won"),t({title:" Congratulations!",description:"You won the game!"})):(p("lost"),t({title:"Game Over",description:"The bot won this time. Try again!"})),!0}return k.isDraw()?(p("draw"),t({title:"Draw!",description:"The game ended in a draw."}),!0):!1},[o,t]),T=f.useCallback(async k=>{if(!(C(k)||k.turn()==="w"&&o==="white"||k.turn()==="b"&&o==="black")){u(!0);try{const{data:H,error:Y}=await ee.functions.invoke("chess-bot",{body:{fen:k.fen(),difficulty:s}});if(Y){console.error("Bot error:",Y);const A=k.moves({verbose:!0});if(A.length>0){const ne=A[Math.floor(Math.random()*A.length)],ve=new vn(k.fen()),oe=ve.move(ne);oe&&(n(ve),m(se=>[...se,oe.san]),S(oe.san),E(oe),C(ve))}u(!1);return}const te=H==null?void 0:H.move;if(te){const A=new vn(k.fen());try{const ne=A.move({from:te.slice(0,2),to:te.slice(2,4),promotion:te[4]||"q"});if(ne)n(A),m(ve=>[...ve,ne.san]),S(ne.san),E(ne),C(A);else throw new Error("Invalid move")}catch{const ne=k.moves({verbose:!0});if(ne.length>0){const ve=ne[Math.floor(Math.random()*ne.length)];A.load(k.fen());const oe=A.move(ve);oe&&(n(A),m(se=>[...se,oe.san]),S(oe.san),E(oe),C(A))}}}}catch(H){console.error("Bot move error:",H)}finally{u(!1)}}},[s,o,C,E]);f.useEffect(()=>{o==="black"&&r.history().length===0&&d==="playing"&&(e.playGameStart(),T(r))},[o,r,d,T,e]);const L=f.useCallback((k,W)=>{const H=r.get(k);if(!H||H.type!=="p")return!1;const Y=W[1];return H.color==="w"&&Y==="8"||H.color==="b"&&Y==="1"},[r]),M=f.useCallback((k,W,H="q")=>{try{const Y=new vn(r.fen()),te=Y.move({from:k,to:W,promotion:H});return te?(n(Y),m(A=>[...A,te.san]),S(te.san),g(null),w([]),E(te),C(Y)||setTimeout(()=>T(Y),500),!0):!1}catch{return!1}},[r,C,T,E]),J=f.useCallback(k=>{y&&(M(y.from,y.to,k),x(null))},[y,M]),$=f.useCallback(k=>r.moves({square:k,verbose:!0}).map(H=>H.to),[r]),X=f.useCallback(k=>{if(d!=="playing"||l||y||!(r.turn()==="w"&&o==="white"||r.turn()==="b"&&o==="black"))return;if(v&&b.includes(k)){if(L(v,k)){x({from:v,to:k});return}M(v,k);return}const H=r.get(k);H&&(H.color==="w"&&o==="white"||H.color==="b"&&o==="black")?(g(k),w($(k))):(g(null),w([]))},[r,o,d,l,v,b,y,L,M,$]),R=f.useCallback((k,W)=>d!=="playing"||l||y||!(r.turn()==="w"&&o==="white"||r.turn()==="b"&&o==="black")?!1:(g(W),w($(W)),!0),[r,o,d,l,y,$]),q=f.useCallback(()=>{g(null),w([])},[]),F=f.useCallback((k,W)=>{if(d!=="playing"||l||y||!(r.turn()==="w"&&o==="white"||r.turn()==="b"&&o==="black"))return!1;const Y=k,te=W;return r.moves({square:Y,verbose:!0}).some(ve=>ve.to===te)?L(Y,te)?(x({from:Y,to:te}),!0):M(Y,te):!1},[r,o,d,l,y,L,M]),G=f.useMemo(()=>{const k={};return v&&(k[v]={backgroundColor:"rgba(255, 255, 0, 0.4)"}),b.forEach(W=>{const H=r.get(W);k[W]={background:H?"radial-gradient(circle, rgba(255, 0, 0, 0.4) 85%, transparent 85%)":"radial-gradient(circle, rgba(0, 128, 0, 0.4) 25%, transparent 25%)"}}),k},[v,b,r]),j=()=>{n(new vn),p("playing"),m([]),g(null),w([]),S(null),x(null),e.playGameStart(),o==="black"&&setTimeout(()=>{const k=new vn;T(k)},500)},P=()=>{p("lost"),t({title:"You resigned",description:"Better luck next time!"})},z=()=>{a(o==="white"?"black":"white"),j()},Z={beginner:"text-green-500",intermediate:"text-yellow-500",advanced:"text-orange-500",master:"text-red-500"};return c.jsxs("div",{className:"min-h-screen bg-background p-4",children:[c.jsx(dS,{isOpen:!!y,color:o,onSelect:J}),c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground flex items-center justify-center gap-3",children:[c.jsx(of,{className:"h-8 w-8 text-primary"}),"Practice vs AI Bot",c.jsx(d1,{className:"h-6 w-6 text-accent"})]}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Sharpen your skills against our AI opponent"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs(Le,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/20 flex items-center justify-center",children:c.jsx(of,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:"AI Bot"}),c.jsx("p",{className:`text-xs capitalize ${Z[s]}`,children:s})]})]}),l&&c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(ar,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"text-sm",children:"Thinking..."})]})]}),c.jsxs("div",{className:"relative max-w-[min(100%,400px)] mx-auto",children:[c.jsx(O_,{position:r.fen(),onPieceDrop:F,onSquareClick:X,onPieceDragBegin:R,onPieceDragEnd:q,boardOrientation:o,arePiecesDraggable:d==="playing"&&!l&&!y,customSquareStyles:G}),d!=="playing"&&c.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"text-center p-6 bg-card rounded-xl border shadow-lg",children:[c.jsxs("p",{className:"text-2xl font-bold mb-4",children:[d==="won"&&" Victory!",d==="lost"&&" Defeat",d==="draw"&&" Draw"]}),c.jsxs(be,{onClick:j,className:"gap-2",children:[c.jsx(Wc,{className:"h-4 w-4"}),"Play Again"]})]})})]}),c.jsx("div",{className:"flex items-center justify-between mt-4 p-3 bg-muted rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-accent/20 flex items-center justify-center",children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:"You"}),c.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:o})]})]})})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(oM,{fen:r.fen(),lastMove:_,isCheck:r.isCheck(),isCheckmate:r.isCheckmate(),isDraw:r.isDraw(),moveCount:h.length}),c.jsxs(Le,{children:[c.jsx(Et,{children:c.jsx(Ct,{children:"Game Settings"})}),c.jsxs(Fe,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Difficulty"}),c.jsxs(Gf,{value:s,onValueChange:k=>i(k),disabled:d==="playing"&&h.length>0,children:[c.jsx(su,{children:c.jsx(Qf,{})}),c.jsxs(iu,{children:[c.jsx(Dt,{value:"beginner",children:" Beginner"}),c.jsx(Dt,{value:"intermediate",children:" Intermediate"}),c.jsx(Dt,{value:"advanced",children:" Advanced"}),c.jsx(Dt,{value:"master",children:" Master"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Play as"}),c.jsx(be,{variant:"outline",className:"w-full",onClick:z,disabled:d==="playing"&&h.length>0,children:o==="white"?" White":" Black"})]}),c.jsxs("div",{className:"pt-2 space-y-2",children:[c.jsxs(be,{variant:"outline",className:"w-full gap-2",onClick:j,children:[c.jsx(Wc,{className:"h-4 w-4"}),"New Game"]}),d==="playing"&&h.length>0&&c.jsxs(be,{variant:"destructive",className:"w-full gap-2",onClick:P,children:[c.jsx(l1,{className:"h-4 w-4"}),"Resign"]})]})]})]}),c.jsxs(Le,{children:[c.jsx(Et,{children:c.jsx(Ct,{children:"Move History"})}),c.jsx(Fe,{children:c.jsx("div",{className:"text-sm font-mono bg-muted p-3 rounded-lg max-h-48 overflow-y-auto",children:h.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:h.map((k,W)=>c.jsxs("span",{className:W%2===0?"text-foreground":"text-muted-foreground",children:[W%2===0&&c.jsxs("span",{className:"text-xs text-muted-foreground mr-1",children:[Math.floor(W/2)+1,"."]}),k]},W))}):c.jsx("span",{className:"text-muted-foreground",children:"No moves yet"})})})]}),r.isCheck()&&d==="playing"&&c.jsx("div",{className:"p-3 bg-destructive/10 text-destructive rounded-lg text-center font-bold animate-pulse",children:"CHECK!"})]})]})]})]})};var QS="AlertDialog",[lM,LM]=Kn(QS,[W_]),Yn=W_(),YS=t=>{const{__scopeAlertDialog:e,...r}=t,n=Yn(e);return c.jsx(iS,{...n,...r,modal:!0})};YS.displayName=QS;var cM="AlertDialogTrigger",JS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(xL,{...s,...n,ref:e})});JS.displayName=cM;var uM="AlertDialogPortal",XS=t=>{const{__scopeAlertDialog:e,...r}=t,n=Yn(e);return c.jsx(oS,{...n,...r})};XS.displayName=uM;var dM="AlertDialogOverlay",ZS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(Mm,{...s,...n,ref:e})});ZS.displayName=dM;var uo="AlertDialogContent",[hM,fM]=lM(uo),pM=Rx("AlertDialogContent"),eE=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=Yn(r),o=f.useRef(null),a=Be(e,o),l=f.useRef(null);return c.jsx(gL,{contentName:uo,titleName:tE,docsSlug:"alert-dialog",children:c.jsx(hM,{scope:r,cancelRef:l,children:c.jsxs($m,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:pe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(pM,{children:n}),c.jsx(gM,{contentRef:o})]})})})});eE.displayName=uo;var tE="AlertDialogTitle",rE=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(Um,{...s,...n,ref:e})});rE.displayName=tE;var nE="AlertDialogDescription",sE=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(Fm,{...s,...n,ref:e})});sE.displayName=nE;var mM="AlertDialogAction",iE=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Yn(r);return c.jsx(Bm,{...s,...n,ref:e})});iE.displayName=mM;var oE="AlertDialogCancel",aE=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=fM(oE,r),i=Yn(r),o=Be(e,s);return c.jsx(Bm,{...i,...n,ref:o})});aE.displayName=oE;var gM=({contentRef:t})=>{const e=`\`${uo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uo}\` by passing a \`${nE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},vM=YS,yM=JS,wM=XS,lE=ZS,cE=eE,uE=iE,dE=aE,hE=rE,fE=sE;const iy=vM,oy=yM,xM=wM,pE=f.forwardRef(({className:t,...e},r)=>c.jsx(lE,{className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));pE.displayName=lE.displayName;const Yf=f.forwardRef(({className:t,...e},r)=>c.jsxs(xM,{children:[c.jsx(pE,{}),c.jsx(cE,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Yf.displayName=cE.displayName;const Jf=({className:t,...e})=>c.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",t),...e});Jf.displayName="AlertDialogHeader";const Xf=({className:t,...e})=>c.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Xf.displayName="AlertDialogFooter";const Zf=f.forwardRef(({className:t,...e},r)=>c.jsx(hE,{ref:r,className:Se("text-lg font-semibold",t),...e}));Zf.displayName=hE.displayName;const ep=f.forwardRef(({className:t,...e},r)=>c.jsx(fE,{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));ep.displayName=fE.displayName;const tp=f.forwardRef(({className:t,...e},r)=>c.jsx(uE,{ref:r,className:Se(eu(),t),...e}));tp.displayName=uE.displayName;const rp=f.forwardRef(({className:t,...e},r)=>c.jsx(dE,{ref:r,className:Se(eu({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));rp.displayName=dE.displayName;const bM="ChristmasGambit2K25Admin",_M="Admin",SM="P@s$w0rd",EM=()=>{const[t,e]=f.useState(!1),[r,n]=f.useState(""),[s,i]=f.useState(""),[o,a]=f.useState(!1),[l,u]=f.useState(!1),[d,p]=f.useState(null),[h,m]=f.useState([]),[v,g]=f.useState([]),[b,w]=f.useState([]),[y,x]=f.useState("swiss"),[_,S]=f.useState("10 | 5"),{toast:E}=_i();f.useEffect(()=>{t&&(T(),L(),M())},[t]);const C=async(k,W={})=>{const{data:H,error:Y}=await ee.functions.invoke("admin-action",{body:{action:k,data:W,adminKey:bM}});if(Y)throw console.error("admin-action invoke error:",Y),new Error(Y.message||"Admin action failed");if(H!=null&&H.error)throw new Error(H.error);return H},T=async()=>{const{data:k}=await ee.from("tournaments").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(k){p(k),x(k.format),S(k.time_control);const{data:W}=await ee.from("tournament_players").select("player_id").eq("tournament_id",k.id);W&&g(W.map(H=>H.player_id))}},L=async()=>{const{data:k}=await ee.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, score").order("username");k&&m(k)},M=async()=>{if(!d)return;const{data:k}=await ee.from("games").select(`
        id,
        result,
        round,
        white_player:profiles!games_white_player_id_fkey(username, avatar_url, avatar_initials),
        black_player:profiles!games_black_player_id_fkey(username, avatar_url, avatar_initials)
      `).eq("tournament_id",d.id).eq("round",d.current_round||1).order("created_at",{ascending:!0});k&&w(k)};f.useEffect(()=>{d&&M()},[d]);const J=k=>{k.preventDefault(),r===_M&&s===SM?(e(!0),E({title:"Admin access granted"})):E({variant:"destructive",title:"Invalid credentials"})},$=async()=>{u(!0);try{const k=await C("createTournament",{name:"Checkmate Cup 2K25",format:y,timeControl:_});p(k),E({title:"Tournament created!"}),T()}catch(k){E({variant:"destructive",title:"Failed to create tournament",description:String(k)})}u(!1)},X=async()=>{if(d){u(!0);try{await C("updateTournament",{tournamentId:d.id,format:y,timeControl:_}),E({title:"Settings updated!"}),T()}catch(k){E({variant:"destructive",title:"Failed to update",description:String(k)})}u(!1)}},R=async()=>{if(d){u(!0);try{const k=await C("registerAllPlayers",{tournamentId:d.id});E({title:"All players registered!",description:`${k.count} players added`}),T()}catch(k){E({variant:"destructive",title:"Failed to register players",description:String(k)})}u(!1)}},q=async()=>{if(!d||v.length<2){E({variant:"destructive",title:"Need at least 2 players to start"});return}u(!0);let k=Math.ceil(Math.log2(v.length));y==="swiss"||y==="swiss_playoffs"||y==="swiss_super_league"?k=Math.ceil(Math.log2(v.length))+1:y==="round_robin_playoffs"?k=v.length-1:y==="arena"&&(k=10);try{await C("startTournament",{tournamentId:d.id,totalRounds:k}),await F(),E({title:"Tournament started!"}),T()}catch(W){E({variant:"destructive",title:"Failed to start tournament",description:String(W)})}u(!1)},F=async()=>{if(!d)return;const{data:k}=await ee.from("tournament_players").select("player_id, score").eq("tournament_id",d.id).eq("is_eliminated",!1).order("score",{ascending:!1});if(!k||k.length<2)return;const W=k.map(H=>H.player_id);for(let H=0;H<W.length-1;H+=2)await C("createGame",{tournamentId:d.id,round:(d.current_round||0)+1,whitePlayerId:W[H],blackPlayerId:W[H+1]});if(W.length%2===1){const H=W[W.length-1],Y=k[k.length-1].score;await C("updatePlayerScore",{tournamentId:d.id,playerId:H,score:Number(Y)+1})}},G=async()=>{var k,W,H;if(d){u(!0);try{const{data:Y}=await ee.from("tournament_players").select("player_id, score").eq("tournament_id",d.id).order("score",{ascending:!1}).limit(3);Y&&Y.length>=1&&(await C("publishResults",{tournamentId:d.id,firstPlace:((k=Y[0])==null?void 0:k.player_id)||null,secondPlace:((W=Y[1])==null?void 0:W.player_id)||null,thirdPlace:((H=Y[2])==null?void 0:H.player_id)||null}),E({title:"Results published!",description:"Champions page is now live!"}),T())}catch(Y){E({variant:"destructive",title:"Failed to publish results",description:String(Y)})}u(!1)}},j=async()=>{if(d){u(!0);try{await C("resetTournament",{tournamentId:d.id}),p(null),g([]),E({title:"Tournament reset!",description:"All data has been cleared."})}catch(k){E({variant:"destructive",title:"Failed to reset",description:String(k)})}u(!1)}},P=async()=>{u(!0);try{await C("deleteAllAccounts",{}),m([]),g([]),E({title:"All accounts deleted!",description:"All user data has been removed."})}catch(k){E({variant:"destructive",title:"Failed to delete accounts",description:String(k)})}u(!1)},z=async()=>{if(d){u(!0);try{const{data:k}=await ee.from("games").select("id").eq("tournament_id",d.id).eq("round",d.current_round||1).in("result",["pending","in_progress"]);if(k&&k.length>0){E({variant:"destructive",title:"Cannot start next round",description:`${k.length} games still pending in current round`}),u(!1);return}await C("advanceRound",{tournamentId:d.id}),await F(),E({title:"Next round started!",description:`Round ${(d.current_round||0)+1} pairings created`}),T()}catch(k){E({variant:"destructive",title:"Failed to start next round",description:String(k)})}u(!1)}},Z=async()=>{if(d){u(!0);try{const{data:k}=await ee.from("tournament_players").select("player_id, score").eq("tournament_id",d.id).order("score",{ascending:!1}).limit(4);if(!k||k.length<4){E({variant:"destructive",title:"Not enough players",description:"Need at least 4 players for super league"}),u(!1);return}const W=k.map(Y=>Y.player_id),H=(d.current_round||0)+1;for(let Y=0;Y<W.length;Y++)for(let te=Y+1;te<W.length;te++)await C("createGame",{tournamentId:d.id,round:H,whitePlayerId:W[Y],blackPlayerId:W[te]});await C("advanceRound",{tournamentId:d.id}),E({title:"Super League started!",description:"Top 4 players will face each other"}),T()}catch(k){E({variant:"destructive",title:"Failed to start super league",description:String(k)})}u(!1)}};return t?c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($n,{className:"h-8 w-8 text-primary"}),c.jsx("h1",{className:"font-display text-2xl md:text-3xl font-bold",children:"Tournament Admin"})]}),c.jsx(be,{variant:"outline",onClick:()=>e(!1),children:"Logout"})]}),c.jsxs(Le,{children:[c.jsx(Et,{children:c.jsxs(Ct,{className:"flex items-center gap-2",children:[c.jsx(Wn,{className:"h-5 w-5"}),"Tournament Status"]})}),c.jsx(Fe,{children:d?c.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Format"}),c.jsx("p",{className:"font-bold capitalize",children:d.format.replace(/_/g," ")})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),c.jsx("p",{className:"font-bold capitalize",children:d.status.replace(/_/g," ")})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Round"}),c.jsxs("p",{className:"font-bold",children:[d.current_round," / ",d.total_rounds||"?"]})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),c.jsx("p",{className:"font-bold",children:v.length})]})]}):c.jsx("p",{className:"text-muted-foreground",children:"No tournament created yet."})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(Le,{children:[c.jsx(Et,{children:c.jsxs(Ct,{className:"flex items-center gap-2",children:[c.jsx(pv,{className:"h-5 w-5"}),"Tournament Settings"]})}),c.jsxs(Fe,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{children:"Format"}),c.jsxs(Gf,{value:y,onValueChange:x,disabled:(d==null?void 0:d.status)==="in_progress",children:[c.jsx(su,{children:c.jsx(Qf,{})}),c.jsxs(iu,{children:[c.jsx(Dt,{value:"swiss",children:"Swiss Only"}),c.jsx(Dt,{value:"knockouts",children:"Knockouts Only"}),c.jsx(Dt,{value:"round_robin_playoffs",children:"Round Robin + Playoffs"}),c.jsx(Dt,{value:"swiss_playoffs",children:"Swiss + Playoffs"}),c.jsx(Dt,{value:"swiss_super_league",children:"Swiss + Super League"}),c.jsx(Dt,{value:"arena",children:"Arena"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{children:"Time Control"}),c.jsxs(Gf,{value:_,onValueChange:S,disabled:(d==null?void 0:d.status)==="in_progress",children:[c.jsx(su,{children:c.jsx(Qf,{})}),c.jsxs(iu,{children:[c.jsx(Dt,{value:"1 | 1",children:"1 | 1 (Bullet)"}),c.jsx(Dt,{value:"3 | 2",children:"3 | 2 (Blitz)"}),c.jsx(Dt,{value:"5 | 3",children:"5 | 3 (Blitz)"}),c.jsx(Dt,{value:"10 | 0",children:"10 | 0 (Rapid)"}),c.jsx(Dt,{value:"10 | 5",children:"10 | 5 (Rapid)"}),c.jsx(Dt,{value:"15 | 10",children:"15 | 10 (Rapid)"})]})]})]}),c.jsx("div",{className:"flex flex-col gap-2",children:d?d.status==="registration"?c.jsxs(c.Fragment,{children:[c.jsx(be,{onClick:X,disabled:l,variant:"outline",children:"Save Settings"}),c.jsxs(be,{onClick:R,disabled:l,variant:"secondary",children:[l?c.jsx(ar,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(pT,{className:"h-4 w-4 mr-2"}),"Register All Players"]}),c.jsxs(be,{onClick:q,disabled:l||v.length<2,children:[l?c.jsx(ar,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(nm,{className:"h-4 w-4 mr-2"}),"Start Tournament"]})]}):d.status==="in_progress"?c.jsxs("div",{className:"space-y-2",children:[c.jsxs(be,{onClick:z,disabled:l,className:"w-full",children:[l?c.jsx(ar,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(uT,{className:"h-4 w-4 mr-2"}),"Start Next Round"]}),(d.format==="swiss_super_league"||d.format==="swiss_playoffs")&&c.jsxs(be,{onClick:Z,disabled:l,variant:"secondary",className:"w-full",children:[l?c.jsx(ar,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(p1,{className:"h-4 w-4 mr-2"}),"Start Super League / Playoffs"]}),c.jsxs(be,{onClick:G,disabled:l,variant:"outline",className:"w-full",children:[l?c.jsx(ar,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Publish Results"]})]}):c.jsx("p",{className:"text-muted-foreground",children:"Tournament completed"}):c.jsxs(be,{onClick:$,disabled:l,className:"w-full",children:[l?c.jsx(ar,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create Tournament"]})}),c.jsxs("div",{className:"pt-4 border-t border-destructive/20 space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-destructive",children:"Danger Zone"}),c.jsxs(iy,{children:[c.jsx(oy,{asChild:!0,children:c.jsxs(be,{variant:"outline",className:"w-full border-destructive/50 text-destructive hover:bg-destructive/10",disabled:l,children:[c.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Reset Tournament"]})}),c.jsxs(Yf,{children:[c.jsxs(Jf,{children:[c.jsx(Zf,{children:"Reset Tournament?"}),c.jsx(ep,{children:"This will delete the current tournament, all games, and remove all registered players. This action cannot be undone."})]}),c.jsxs(Xf,{children:[c.jsx(rp,{children:"Cancel"}),c.jsx(tp,{onClick:j,className:"bg-destructive hover:bg-destructive/90",children:"Reset Tournament"})]})]})]}),c.jsxs(iy,{children:[c.jsx(oy,{asChild:!0,children:c.jsxs(be,{variant:"outline",className:"w-full border-destructive/50 text-destructive hover:bg-destructive/10",disabled:l,children:[c.jsx(hT,{className:"h-4 w-4 mr-2"}),"Delete All Accounts"]})}),c.jsxs(Yf,{children:[c.jsxs(Jf,{children:[c.jsx(Zf,{children:"Delete All Accounts?"}),c.jsx(ep,{children:"This will permanently delete ALL user accounts and their data. This action is IRREVERSIBLE and should only be used for complete reset."})]}),c.jsxs(Xf,{children:[c.jsx(rp,{children:"Cancel"}),c.jsx(tp,{onClick:P,className:"bg-destructive hover:bg-destructive/90",children:"Delete All Accounts"})]})]})]})]})]})]}),c.jsxs(Le,{children:[c.jsx(Et,{children:c.jsxs(Ct,{className:"flex items-center gap-2",children:[c.jsx(No,{className:"h-5 w-5"}),"Round ",(d==null?void 0:d.current_round)||1," Matches (",b.length,")"]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[b.map(k=>{var W,H,Y,te,A,ne,ve,oe;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hr,{avatarUrl:(W=k.white_player)==null?void 0:W.avatar_url,initials:(H=k.white_player)==null?void 0:H.avatar_initials,name:((Y=k.white_player)==null?void 0:Y.username)||"",size:"sm"}),c.jsx("span",{className:"font-medium",children:(te=k.white_player)==null?void 0:te.username})]}),c.jsx("div",{className:`px-3 py-1 rounded text-sm font-bold ${k.result==="white_wins"?"bg-green-500/20 text-green-500":k.result==="black_wins"?"bg-red-500/20 text-red-500":k.result==="draw"?"bg-yellow-500/20 text-yellow-500":k.result==="in_progress"?"bg-blue-500/20 text-blue-500":"bg-muted-foreground/20 text-muted-foreground"}`,children:k.result==="pending"?"Scheduled":k.result==="in_progress"?"Playing":k.result.replace("_"," ")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:(A=k.black_player)==null?void 0:A.username}),c.jsx(hr,{avatarUrl:(ne=k.black_player)==null?void 0:ne.avatar_url,initials:(ve=k.black_player)==null?void 0:ve.avatar_initials,name:((oe=k.black_player)==null?void 0:oe.username)||"",size:"sm"})]})]},k.id)}),b.length===0&&c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No matches in this round yet"})]})})]}),c.jsxs(Le,{children:[c.jsx(Et,{children:c.jsxs(Ct,{className:"flex items-center gap-2",children:[c.jsx(f1,{className:"h-5 w-5"}),"Registered Players (",v.length,")"]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[h.filter(k=>v.includes(k.id)).map(k=>c.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted rounded-lg",children:[c.jsx(hr,{avatarUrl:k.avatar_url,initials:k.avatar_initials,name:k.full_name,size:"sm"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:k.username}),c.jsx("p",{className:"text-xs text-muted-foreground",children:k.full_name})]})]},k.id)),v.length===0&&c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No players registered yet"})]})})]})]})]})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:c.jsxs(Le,{className:"w-full max-w-md border-2",children:[c.jsxs(Et,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(pv,{className:"h-12 w-12 text-primary"})}),c.jsx(Ct,{className:"font-display",children:"Admin Access"}),c.jsx(Ja,{children:"Enter admin credentials to continue"})]}),c.jsx(Fe,{children:c.jsxs("form",{onSubmit:J,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{children:"Username"}),c.jsx(nn,{value:r,onChange:k=>n(k.target.value),placeholder:"Admin username"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(xr,{children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(nn,{type:o?"text":"password",value:s,onChange:k=>i(k.target.value),placeholder:"Admin password"}),c.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>a(!o),children:o?c.jsx(lf,{className:"h-4 w-4"}):c.jsx($a,{className:"h-4 w-4"})})]})]}),c.jsx(be,{type:"submit",className:"w-full",children:"Access Dashboard"})]})})]})})},CM=()=>{const t=dl();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},kM=new FO,TM=()=>c.jsx(zO,{client:kM,children:c.jsx(SA,{children:c.jsxs(gO,{children:[c.jsx(XT,{}),c.jsx(Oj,{}),c.jsxs($P,{children:[c.jsx(kA,{}),c.jsx(TA,{}),c.jsxs(Wv,{children:[c.jsx(Pr,{path:"/admin",element:c.jsx(EM,{})}),c.jsx(Pr,{path:"*",element:c.jsxs(c.Fragment,{children:[c.jsx(CA,{}),c.jsxs(Wv,{children:[c.jsx(Pr,{path:"/",element:c.jsx(NA,{})}),c.jsx(Pr,{path:"/auth",element:c.jsx(QA,{})}),c.jsx(Pr,{path:"/profile",element:c.jsx(ZA,{})}),c.jsx(Pr,{path:"/standings",element:c.jsx(tI,{})}),c.jsx(Pr,{path:"/champions",element:c.jsx(rI,{})}),c.jsx(Pr,{path:"/games",element:c.jsx(nI,{})}),c.jsx(Pr,{path:"/game/:gameId",element:c.jsx(jL,{})}),c.jsx(Pr,{path:"/practice",element:c.jsx(aM,{})}),c.jsx(Pr,{path:"*",element:c.jsx(CM,{})})]})]})})]})]})]})})});Nx(document.getElementById("root")).render(c.jsx(TM,{}));
