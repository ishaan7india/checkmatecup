var CE=Object.defineProperty;var Ym=t=>{throw TypeError(t)};var kE=(t,e,r)=>e in t?CE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Qe=(t,e,r)=>kE(t,typeof e!="symbol"?e+"":e,r),Ju=(t,e,r)=>e.has(t)||Ym("Cannot "+r);var F=(t,e,r)=>(Ju(t,e,"read from private field"),r?r.call(t):e.get(t)),Pe=(t,e,r)=>e.has(t)?Ym("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),xe=(t,e,r,n)=>(Ju(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Mt=(t,e,r)=>(Ju(t,e,"access private method"),r);var vl=(t,e,r,n)=>({set _(s){xe(t,e,s,r)},get _(){return F(t,e,n)}});function TE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function py(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var my={exports:{}},ou={},gy={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=Symbol.for("react.element"),jE=Symbol.for("react.portal"),NE=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),PE=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),AE=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),DE=Symbol.for("react.suspense"),LE=Symbol.for("react.memo"),ME=Symbol.for("react.lazy"),Jm=Symbol.iterator;function $E(t){return t===null||typeof t!="object"?null:(t=Jm&&t[Jm]||t["@@iterator"],typeof t=="function"?t:null)}var vy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yy=Object.assign,wy={};function Oo(t,e,r){this.props=t,this.context=e,this.refs=wy,this.updater=r||vy}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xy(){}xy.prototype=Oo.prototype;function np(t,e,r){this.props=t,this.context=e,this.refs=wy,this.updater=r||vy}var sp=np.prototype=new xy;sp.constructor=np;yy(sp,Oo.prototype);sp.isPureReactComponent=!0;var Xm=Array.isArray,by=Object.prototype.hasOwnProperty,ip={current:null},_y={key:!0,ref:!0,__self:!0,__source:!0};function Sy(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)by.call(e,n)&&!_y.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:rl,type:t,key:i,ref:o,props:s,_owner:ip.current}}function UE(t,e){return{$$typeof:rl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function op(t){return typeof t=="object"&&t!==null&&t.$$typeof===rl}function FE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Zm=/\/+/g;function Xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FE(""+t.key):e.toString(36)}function Xl(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rl:case jE:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Xu(o,0):n,Xm(s)?(r="",t!=null&&(r=t.replace(Zm,"$&/")+"/"),Xl(s,e,r,"",function(u){return u})):s!=null&&(op(s)&&(s=UE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Xm(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Xu(i,a);o+=Xl(i,e,r,l,s)}else if(l=$E(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Xu(i,a++),o+=Xl(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yl(t,e,r){if(t==null)return t;var n=[],s=0;return Xl(t,n,"","",function(i){return e.call(r,i,s++)}),n}function BE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},Zl={transition:null},zE={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Zl,ReactCurrentOwner:ip};function Ey(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:yl,forEach:function(t,e,r){yl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yl(t,function(){e++}),e},toArray:function(t){return yl(t,function(e){return e})||[]},only:function(t){if(!op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Oo;Te.Fragment=NE;Te.Profiler=PE;Te.PureComponent=np;Te.StrictMode=OE;Te.Suspense=DE;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE;Te.act=Ey;Te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=yy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ip.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)by.call(e,l)&&!_y.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:rl,type:t.type,key:s,ref:i,props:n,_owner:o}};Te.createContext=function(t){return t={$$typeof:AE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RE,_context:t},t.Consumer=t};Te.createElement=Sy;Te.createFactory=function(t){var e=Sy.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:IE,render:t}};Te.isValidElement=op;Te.lazy=function(t){return{$$typeof:ME,_payload:{_status:-1,_result:t},_init:BE}};Te.memo=function(t,e){return{$$typeof:LE,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Zl.transition;Zl.transition={};try{t()}finally{Zl.transition=e}};Te.unstable_act=Ey;Te.useCallback=function(t,e){return Jt.current.useCallback(t,e)};Te.useContext=function(t){return Jt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Jt.current.useEffect(t,e)};Te.useId=function(){return Jt.current.useId()};Te.useImperativeHandle=function(t,e,r){return Jt.current.useImperativeHandle(t,e,r)};Te.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Jt.current.useMemo(t,e)};Te.useReducer=function(t,e,r){return Jt.current.useReducer(t,e,r)};Te.useRef=function(t){return Jt.current.useRef(t)};Te.useState=function(t){return Jt.current.useState(t)};Te.useSyncExternalStore=function(t,e,r){return Jt.current.useSyncExternalStore(t,e,r)};Te.useTransition=function(){return Jt.current.useTransition()};Te.version="18.3.1";gy.exports=Te;var p=gy.exports;const Y=py(p),ap=TE({__proto__:null,default:Y},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE=p,HE=Symbol.for("react.element"),VE=Symbol.for("react.fragment"),qE=Object.prototype.hasOwnProperty,KE=WE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GE={key:!0,ref:!0,__self:!0,__source:!0};function Cy(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)qE.call(e,n)&&!GE.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:HE,type:t,key:i,ref:o,props:s,_owner:KE.current}}ou.Fragment=VE;ou.jsx=Cy;ou.jsxs=Cy;my.exports=ou;var c=my.exports,ky={exports:{}},Sr={},Ty={exports:{}},jy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,O){var V=T.length;T.push(O);e:for(;0<V;){var ee=V-1>>>1,k=T[ee];if(0<s(k,O))T[ee]=O,T[V]=k,V=ee;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var O=T[0],V=T.pop();if(V!==O){T[0]=V;e:for(var ee=0,k=T.length,W=k>>>1;ee<W;){var z=2*(ee+1)-1,X=T[z],se=z+1,A=T[se];if(0>s(X,V))se<k&&0>s(A,X)?(T[ee]=A,T[se]=V,ee=se):(T[ee]=X,T[z]=V,ee=z);else if(se<k&&0>s(A,V))T[ee]=A,T[se]=V,ee=se;else break e}}return O}function s(T,O){var V=T.sortIndex-O.sortIndex;return V!==0?V:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=T)n(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=r(u)}}function _(T){if(g=!1,w(T),!v)if(r(l)!==null)v=!0,$(S);else{var O=r(u);O!==null&&G(_,O.startTime-T)}}function S(T,O){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var V=f;try{for(w(O),h=r(l);h!==null&&(!(h.expirationTime>O)||T&&!J());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var k=ee(h.expirationTime<=O);O=t.unstable_now(),typeof k=="function"?h.callback=k:h===r(l)&&n(l),w(O)}else n(l);h=r(l)}if(h!==null)var W=!0;else{var z=r(u);z!==null&&G(_,z.startTime-O),W=!1}return W}finally{h=null,f=V,m=!1}}var E=!1,C=null,j=-1,L=5,M=-1;function J(){return!(t.unstable_now()-M<L)}function U(){if(C!==null){var T=t.unstable_now();M=T;var O=!0;try{O=C(!0,T)}finally{O?K():(E=!1,C=null)}}else E=!1}var K;if(typeof y=="function")K=function(){y(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,H=P.port2;P.port1.onmessage=U,K=function(){H.postMessage(null)}}else K=function(){b(U,0)};function $(T){C=T,E||(E=!0,K())}function G(T,O){j=b(function(){T(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,$(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var V=f;f=O;try{return T()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var V=f;f=T;try{return O()}finally{f=V}},t.unstable_scheduleCallback=function(T,O,V){var ee=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ee+V:ee):V=ee,T){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=V+k,T={id:d++,callback:O,priorityLevel:T,startTime:V,expirationTime:k,sortIndex:-1},V>ee?(T.sortIndex=V,e(u,T),r(l)===null&&T===r(u)&&(g?(x(j),j=-1):g=!0,G(_,V-ee))):(T.sortIndex=k,e(l,T),v||m||(v=!0,$(S))),T},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(T){var O=f;return function(){var V=f;f=O;try{return T.apply(this,arguments)}finally{f=V}}}})(jy);Ty.exports=jy;var QE=Ty.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=p,_r=QE;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ny=new Set,ba={};function mi(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(ba[t]=e,t=0;t<e.length;t++)Ny.add(e[t])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=Object.prototype.hasOwnProperty,JE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eg={},tg={};function XE(t){return uf.call(tg,t)?!0:uf.call(eg,t)?!1:JE.test(t)?tg[t]=!0:(eg[t]=!0,!1)}function ZE(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eC(t,e,r,n){if(e===null||typeof e>"u"||ZE(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var lp=/[\-:]([a-z])/g;function cp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lp,cp);It[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lp,cp);It[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lp,cp);It[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function up(t,e,r,n){var s=It.hasOwnProperty(e)?It[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eC(e,r,s,n)&&(r=null),n||s===null?XE(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Bn=YE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),df=Symbol.for("react.profiler"),Oy=Symbol.for("react.provider"),Py=Symbol.for("react.context"),fp=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),hf=Symbol.for("react.suspense_list"),hp=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),Ry=Symbol.for("react.offscreen"),rg=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=rg&&t[rg]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Zu;function ea(t){if(Zu===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Zu=e&&e[1]||""}return`
`+Zu+t}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ed=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ea(t):""}function tC(t){switch(t.tag){case 5:return ea(t.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return t=td(t.type,!1),t;case 11:return t=td(t.type.render,!1),t;case 1:return t=td(t.type,!0),t;default:return""}}function pf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case $i:return"Portal";case df:return"Profiler";case dp:return"StrictMode";case ff:return"Suspense";case hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Py:return(t.displayName||"Context")+".Consumer";case Oy:return(t._context.displayName||"Context")+".Provider";case fp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hp:return e=t.displayName||null,e!==null?e:pf(t.type)||"Memo";case es:e=t._payload,t=t._init;try{return pf(t(e))}catch{}}return null}function rC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pf(e);case 8:return e===dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ay(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nC(t){var e=Ay(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xl(t){t._valueTracker||(t._valueTracker=nC(t))}function Iy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ay(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mf(t,e){var r=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ng(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ks(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dy(t,e){e=e.checked,e!=null&&up(t,"checked",e,!1)}function gf(t,e){Dy(t,e);var r=ks(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,r):e.hasOwnProperty("defaultValue")&&vf(t,e.type,ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function vf(t,e,r){(e!=="number"||wc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ta=Array.isArray;function Ji(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ks(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ig(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(q(92));if(ta(r)){if(1<r.length)throw Error(q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ks(r)}}function Ly(t,e){var r=ks(e.value),n=ks(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function og(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function My(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?My(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bl,$y=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bl=bl||document.createElement("div"),bl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _a(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sC=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(t){sC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aa[e]=aa[t]})});function Uy(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||aa.hasOwnProperty(t)&&aa[t]?(""+e).trim():e+"px"}function Fy(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Uy(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var iC=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xf(t,e){if(e){if(iC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=null;function pp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sf=null,Xi=null,Zi=null;function ag(t){if(t=il(t)){if(typeof Sf!="function")throw Error(q(280));var e=t.stateNode;e&&(e=du(e),Sf(t.stateNode,t.type,e))}}function By(t){Xi?Zi?Zi.push(t):Zi=[t]:Xi=t}function zy(){if(Xi){var t=Xi,e=Zi;if(Zi=Xi=null,ag(t),e)for(t=0;t<e.length;t++)ag(e[t])}}function Wy(t,e){return t(e)}function Hy(){}var rd=!1;function Vy(t,e,r){if(rd)return t(e,r);rd=!0;try{return Wy(t,e,r)}finally{rd=!1,(Xi!==null||Zi!==null)&&(Hy(),zy())}}function Sa(t,e){var r=t.stateNode;if(r===null)return null;var n=du(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(q(231,e,typeof r));return r}var Ef=!1;if(In)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Ef=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Ef=!1}function oC(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var la=!1,xc=null,bc=!1,Cf=null,aC={onError:function(t){la=!0,xc=t}};function lC(t,e,r,n,s,i,o,a,l){la=!1,xc=null,oC.apply(aC,arguments)}function cC(t,e,r,n,s,i,o,a,l){if(lC.apply(this,arguments),la){if(la){var u=xc;la=!1,xc=null}else throw Error(q(198));bc||(bc=!0,Cf=u)}}function gi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lg(t){if(gi(t)!==t)throw Error(q(188))}function uC(t){var e=t.alternate;if(!e){if(e=gi(t),e===null)throw Error(q(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return lg(s),t;if(i===n)return lg(s),e;i=i.sibling}throw Error(q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?t:e}function Ky(t){return t=uC(t),t!==null?Gy(t):null}function Gy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gy(t);if(e!==null)return e;t=t.sibling}return null}var Qy=_r.unstable_scheduleCallback,cg=_r.unstable_cancelCallback,dC=_r.unstable_shouldYield,fC=_r.unstable_requestPaint,ot=_r.unstable_now,hC=_r.unstable_getCurrentPriorityLevel,mp=_r.unstable_ImmediatePriority,Yy=_r.unstable_UserBlockingPriority,_c=_r.unstable_NormalPriority,pC=_r.unstable_LowPriority,Jy=_r.unstable_IdlePriority,au=null,yn=null;function mC(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(au,t,void 0,(t.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:yC,gC=Math.log,vC=Math.LN2;function yC(t){return t>>>=0,t===0?32:31-(gC(t)/vC|0)|0}var _l=64,Sl=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ra(a):(i&=o,i!==0&&(n=ra(i)))}else o=r&~s,o!==0?n=ra(o):i!==0&&(n=ra(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zr(e),s=1<<r,n|=t[r],e&=~s;return n}function wC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=wC(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xy(){var t=_l;return _l<<=1,!(_l&4194240)&&(_l=64),t}function nd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zr(e),t[e]=r}function bC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Zr(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function gp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Zr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Me=0;function Zy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ew,vp,tw,rw,nw,Tf=!1,El=[],ms=null,gs=null,vs=null,Ea=new Map,Ca=new Map,ss=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ug(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(e.pointerId)}}function Ho(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=il(e),e!==null&&vp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SC(t,e,r,n,s){switch(e){case"focusin":return ms=Ho(ms,t,e,r,n,s),!0;case"dragenter":return gs=Ho(gs,t,e,r,n,s),!0;case"mouseover":return vs=Ho(vs,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ea.set(i,Ho(Ea.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ca.set(i,Ho(Ca.get(i)||null,t,e,r,n,s)),!0}return!1}function sw(t){var e=qs(t.target);if(e!==null){var r=gi(e);if(r!==null){if(e=r.tag,e===13){if(e=qy(r),e!==null){t.blockedOn=e,nw(t.priority,function(){tw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);_f=n,r.target.dispatchEvent(n),_f=null}else return e=il(r),e!==null&&vp(e),t.blockedOn=r,!1;e.shift()}return!0}function dg(t,e,r){ec(t)&&r.delete(e)}function EC(){Tf=!1,ms!==null&&ec(ms)&&(ms=null),gs!==null&&ec(gs)&&(gs=null),vs!==null&&ec(vs)&&(vs=null),Ea.forEach(dg),Ca.forEach(dg)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,Tf||(Tf=!0,_r.unstable_scheduleCallback(_r.unstable_NormalPriority,EC)))}function ka(t){function e(s){return Vo(s,t)}if(0<El.length){Vo(El[0],t);for(var r=1;r<El.length;r++){var n=El[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ms!==null&&Vo(ms,t),gs!==null&&Vo(gs,t),vs!==null&&Vo(vs,t),Ea.forEach(e),Ca.forEach(e),r=0;r<ss.length;r++)n=ss[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)sw(r),r.blockedOn===null&&ss.shift()}var eo=Bn.ReactCurrentBatchConfig,Ec=!0;function CC(t,e,r,n){var s=Me,i=eo.transition;eo.transition=null;try{Me=1,yp(t,e,r,n)}finally{Me=s,eo.transition=i}}function kC(t,e,r,n){var s=Me,i=eo.transition;eo.transition=null;try{Me=4,yp(t,e,r,n)}finally{Me=s,eo.transition=i}}function yp(t,e,r,n){if(Ec){var s=jf(t,e,r,n);if(s===null)hd(t,e,n,Cc,r),ug(t,n);else if(SC(s,t,e,r,n))n.stopPropagation();else if(ug(t,n),e&4&&-1<_C.indexOf(t)){for(;s!==null;){var i=il(s);if(i!==null&&ew(i),i=jf(t,e,r,n),i===null&&hd(t,e,n,Cc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else hd(t,e,n,null,r)}}var Cc=null;function jf(t,e,r,n){if(Cc=null,t=pp(n),t=qs(t),t!==null)if(e=gi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function iw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hC()){case mp:return 1;case Yy:return 4;case _c:case pC:return 16;case Jy:return 536870912;default:return 16}default:return 16}}var fs=null,wp=null,tc=null;function ow(){if(tc)return tc;var t,e=wp,r=e.length,n,s="value"in fs?fs.value:fs.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return tc=s.slice(t,1<n?1-n:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cl(){return!0}function fg(){return!1}function Er(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cl:fg,this.isPropagationStopped=fg,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),e}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xp=Er(Po),sl=tt({},Po,{view:0,detail:0}),TC=Er(sl),sd,id,qo,lu=tt({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qo&&(qo&&t.type==="mousemove"?(sd=t.screenX-qo.screenX,id=t.screenY-qo.screenY):id=sd=0,qo=t),sd)},movementY:function(t){return"movementY"in t?t.movementY:id}}),hg=Er(lu),jC=tt({},lu,{dataTransfer:0}),NC=Er(jC),OC=tt({},sl,{relatedTarget:0}),od=Er(OC),PC=tt({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),RC=Er(PC),AC=tt({},Po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IC=Er(AC),DC=tt({},Po,{data:0}),pg=Er(DC),LC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$C[t])?!!e[t]:!1}function bp(){return UC}var FC=tt({},sl,{key:function(t){if(t.key){var e=LC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BC=Er(FC),zC=tt({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mg=Er(zC),WC=tt({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),HC=Er(WC),VC=tt({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),qC=Er(VC),KC=tt({},lu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GC=Er(KC),QC=[9,13,27,32],_p=In&&"CompositionEvent"in window,ca=null;In&&"documentMode"in document&&(ca=document.documentMode);var YC=In&&"TextEvent"in window&&!ca,aw=In&&(!_p||ca&&8<ca&&11>=ca),gg=" ",vg=!1;function lw(t,e){switch(t){case"keyup":return QC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function JC(t,e){switch(t){case"compositionend":return cw(e);case"keypress":return e.which!==32?null:(vg=!0,gg);case"textInput":return t=e.data,t===gg&&vg?null:t;default:return null}}function XC(t,e){if(Fi)return t==="compositionend"||!_p&&lw(t,e)?(t=ow(),tc=wp=fs=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aw&&e.locale!=="ko"?null:e.data;default:return null}}var ZC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZC[t.type]:e==="textarea"}function uw(t,e,r,n){By(n),e=kc(e,"onChange"),0<e.length&&(r=new xp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ua=null,Ta=null;function ek(t){bw(t,0)}function cu(t){var e=Wi(t);if(Iy(e))return t}function tk(t,e){if(t==="change")return e}var dw=!1;if(In){var ad;if(In){var ld="oninput"in document;if(!ld){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),ld=typeof wg.oninput=="function"}ad=ld}else ad=!1;dw=ad&&(!document.documentMode||9<document.documentMode)}function xg(){ua&&(ua.detachEvent("onpropertychange",fw),Ta=ua=null)}function fw(t){if(t.propertyName==="value"&&cu(Ta)){var e=[];uw(e,Ta,t,pp(t)),Vy(ek,e)}}function rk(t,e,r){t==="focusin"?(xg(),ua=e,Ta=r,ua.attachEvent("onpropertychange",fw)):t==="focusout"&&xg()}function nk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cu(Ta)}function sk(t,e){if(t==="click")return cu(e)}function ik(t,e){if(t==="input"||t==="change")return cu(e)}function ok(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:ok;function ja(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!uf.call(e,s)||!tn(t[s],e[s]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,e){var r=bg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bg(r)}}function hw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pw(){for(var t=window,e=wc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wc(t.document)}return e}function Sp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ak(t){var e=pw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hw(r.ownerDocument.documentElement,r)){if(n!==null&&Sp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=_g(r,i);var o=_g(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lk=In&&"documentMode"in document&&11>=document.documentMode,Bi=null,Nf=null,da=null,Of=!1;function Sg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Of||Bi==null||Bi!==wc(n)||(n=Bi,"selectionStart"in n&&Sp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),da&&ja(da,n)||(da=n,n=kc(Nf,"onSelect"),0<n.length&&(e=new xp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Bi)))}function kl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zi={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},cd={},mw={};In&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function uu(t){if(cd[t])return cd[t];if(!zi[t])return t;var e=zi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in mw)return cd[t]=e[r];return t}var gw=uu("animationend"),vw=uu("animationiteration"),yw=uu("animationstart"),ww=uu("transitionend"),xw=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(t,e){xw.set(t,e),mi(e,[t])}for(var ud=0;ud<Eg.length;ud++){var dd=Eg[ud],ck=dd.toLowerCase(),uk=dd[0].toUpperCase()+dd.slice(1);Os(ck,"on"+uk)}Os(gw,"onAnimationEnd");Os(vw,"onAnimationIteration");Os(yw,"onAnimationStart");Os("dblclick","onDoubleClick");Os("focusin","onFocus");Os("focusout","onBlur");Os(ww,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dk=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Cg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,cC(n,e,void 0,t),t.currentTarget=null}function bw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Cg(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Cg(s,a,u),i=l}}}if(bc)throw t=Cf,bc=!1,Cf=null,t}function qe(t,e){var r=e[Df];r===void 0&&(r=e[Df]=new Set);var n=t+"__bubble";r.has(n)||(_w(e,t,2,!1),r.add(n))}function fd(t,e,r){var n=0;e&&(n|=4),_w(r,t,n,e)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function Na(t){if(!t[Tl]){t[Tl]=!0,Ny.forEach(function(r){r!=="selectionchange"&&(dk.has(r)||fd(r,!1,t),fd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tl]||(e[Tl]=!0,fd("selectionchange",!1,e))}}function _w(t,e,r,n){switch(iw(e)){case 1:var s=CC;break;case 4:s=kC;break;default:s=yp}r=s.bind(null,e,r,t),s=void 0,!Ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function hd(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=qs(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Vy(function(){var u=i,d=pp(r),h=[];e:{var f=xw.get(t);if(f!==void 0){var m=xp,v=t;switch(t){case"keypress":if(rc(r)===0)break e;case"keydown":case"keyup":m=BC;break;case"focusin":v="focus",m=od;break;case"focusout":v="blur",m=od;break;case"beforeblur":case"afterblur":m=od;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HC;break;case gw:case vw:case yw:m=RC;break;case ww:m=qC;break;case"scroll":m=TC;break;case"wheel":m=GC;break;case"copy":case"cut":case"paste":m=IC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mg}var g=(e&4)!==0,b=!g&&t==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=Sa(y,x),_!=null&&g.push(Oa(y,_,w)))),b)break;y=y.return}0<g.length&&(f=new m(f,v,null,r,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==_f&&(v=r.relatedTarget||r.fromElement)&&(qs(v)||v[Dn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?qs(v):null,v!==null&&(b=gi(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=hg,_="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=mg,_="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?f:Wi(m),w=v==null?f:Wi(v),f=new g(_,y+"leave",m,r,d),f.target=b,f.relatedTarget=w,_=null,qs(d)===u&&(g=new g(x,y+"enter",v,r,d),g.target=w,g.relatedTarget=b,_=g),b=_,m&&v)t:{for(g=m,x=v,y=0,w=g;w;w=Ei(w))y++;for(w=0,_=x;_;_=Ei(_))w++;for(;0<y-w;)g=Ei(g),y--;for(;0<w-y;)x=Ei(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ei(g),x=Ei(x)}g=null}else g=null;m!==null&&kg(h,f,m,g,!1),v!==null&&b!==null&&kg(h,b,v,g,!0)}}e:{if(f=u?Wi(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=tk;else if(yg(f))if(dw)S=ik;else{S=nk;var E=rk}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=sk);if(S&&(S=S(t,u))){uw(h,S,r,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&vf(f,"number",f.value)}switch(E=u?Wi(u):window,t){case"focusin":(yg(E)||E.contentEditable==="true")&&(Bi=E,Nf=u,da=null);break;case"focusout":da=Nf=Bi=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Sg(h,r,d);break;case"selectionchange":if(lk)break;case"keydown":case"keyup":Sg(h,r,d)}var C;if(_p)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Fi?lw(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(aw&&r.locale!=="ko"&&(Fi||j!=="onCompositionStart"?j==="onCompositionEnd"&&Fi&&(C=ow()):(fs=d,wp="value"in fs?fs.value:fs.textContent,Fi=!0)),E=kc(u,j),0<E.length&&(j=new pg(j,t,null,r,d),h.push({event:j,listeners:E}),C?j.data=C:(C=cw(r),C!==null&&(j.data=C)))),(C=YC?JC(t,r):XC(t,r))&&(u=kc(u,"onBeforeInput"),0<u.length&&(d=new pg("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}bw(h,e)})}function Oa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kc(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sa(t,r),i!=null&&n.unshift(Oa(t,i,s)),i=Sa(t,e),i!=null&&n.push(Oa(t,i,s))),t=t.return}return n}function Ei(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kg(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Sa(r,i),l!=null&&o.unshift(Oa(r,l,a))):s||(l=Sa(r,i),l!=null&&o.push(Oa(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var fk=/\r\n?/g,hk=/\u0000|\uFFFD/g;function Tg(t){return(typeof t=="string"?t:""+t).replace(fk,`
`).replace(hk,"")}function jl(t,e,r){if(e=Tg(e),Tg(t)!==e&&r)throw Error(q(425))}function Tc(){}var Pf=null,Rf=null;function Af(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var If=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,mk=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(t){return jg.resolve(null).then(t).catch(gk)}:If;function gk(t){setTimeout(function(){throw t})}function pd(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ka(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ka(e)}function ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ng(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ro,Pa="__reactProps$"+Ro,Dn="__reactContainer$"+Ro,Df="__reactEvents$"+Ro,vk="__reactListeners$"+Ro,yk="__reactHandles$"+Ro;function qs(t){var e=t[mn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Dn]||r[mn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ng(t);t!==null;){if(r=t[mn])return r;t=Ng(t)}return e}t=r,r=t.parentNode}return null}function il(t){return t=t[mn]||t[Dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function du(t){return t[Pa]||null}var Lf=[],Hi=-1;function Ps(t){return{current:t}}function Ke(t){0>Hi||(t.current=Lf[Hi],Lf[Hi]=null,Hi--)}function He(t,e){Hi++,Lf[Hi]=t.current,t.current=e}var Ts={},Wt=Ps(Ts),or=Ps(!1),ii=Ts;function yo(t,e){var r=t.type.contextTypes;if(!r)return Ts;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ar(t){return t=t.childContextTypes,t!=null}function jc(){Ke(or),Ke(Wt)}function Og(t,e,r){if(Wt.current!==Ts)throw Error(q(168));He(Wt,e),He(or,r)}function Sw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(q(108,rC(t)||"Unknown",s));return tt({},r,n)}function Nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ts,ii=Wt.current,He(Wt,t),He(or,or.current),!0}function Pg(t,e,r){var n=t.stateNode;if(!n)throw Error(q(169));r?(t=Sw(t,e,ii),n.__reactInternalMemoizedMergedChildContext=t,Ke(or),Ke(Wt),He(Wt,t)):Ke(or),He(or,r)}var jn=null,fu=!1,md=!1;function Ew(t){jn===null?jn=[t]:jn.push(t)}function wk(t){fu=!0,Ew(t)}function Rs(){if(!md&&jn!==null){md=!0;var t=0,e=Me;try{var r=jn;for(Me=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}jn=null,fu=!1}catch(s){throw jn!==null&&(jn=jn.slice(t+1)),Qy(mp,Rs),s}finally{Me=e,md=!1}}return null}var Vi=[],qi=0,Oc=null,Pc=0,Nr=[],Or=0,oi=null,On=1,Pn="";function Bs(t,e){Vi[qi++]=Pc,Vi[qi++]=Oc,Oc=t,Pc=e}function Cw(t,e,r){Nr[Or++]=On,Nr[Or++]=Pn,Nr[Or++]=oi,oi=t;var n=On;t=Pn;var s=32-Zr(n)-1;n&=~(1<<s),r+=1;var i=32-Zr(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,On=1<<32-Zr(e)+s|r<<s|n,Pn=i+t}else On=1<<i|r<<s|n,Pn=t}function Ep(t){t.return!==null&&(Bs(t,1),Cw(t,1,0))}function Cp(t){for(;t===Oc;)Oc=Vi[--qi],Vi[qi]=null,Pc=Vi[--qi],Vi[qi]=null;for(;t===oi;)oi=Nr[--Or],Nr[Or]=null,Pn=Nr[--Or],Nr[Or]=null,On=Nr[--Or],Nr[Or]=null}var xr=null,wr=null,Ye=!1,Yr=null;function kw(t,e){var r=Rr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Rg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xr=t,wr=ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xr=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=oi!==null?{id:On,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Rr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,xr=t,wr=null,!0):!1;default:return!1}}function Mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $f(t){if(Ye){var e=wr;if(e){var r=e;if(!Rg(t,e)){if(Mf(t))throw Error(q(418));e=ys(r.nextSibling);var n=xr;e&&Rg(t,e)?kw(n,r):(t.flags=t.flags&-4097|2,Ye=!1,xr=t)}}else{if(Mf(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ye=!1,xr=t}}}function Ag(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xr=t}function Nl(t){if(t!==xr)return!1;if(!Ye)return Ag(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Af(t.type,t.memoizedProps)),e&&(e=wr)){if(Mf(t))throw Tw(),Error(q(418));for(;e;)kw(t,e),e=ys(e.nextSibling)}if(Ag(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){wr=ys(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=xr?ys(t.stateNode.nextSibling):null;return!0}function Tw(){for(var t=wr;t;)t=ys(t.nextSibling)}function wo(){wr=xr=null,Ye=!1}function kp(t){Yr===null?Yr=[t]:Yr.push(t)}var xk=Bn.ReactCurrentBatchConfig;function Ko(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,t))}return t}function Ol(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ig(t){var e=t._init;return e(t._payload)}function jw(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=_s(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,w,_){return y===null||y.tag!==6?(y=_d(w,x.mode,_),y.return=x,y):(y=s(y,w),y.return=x,y)}function l(x,y,w,_){var S=w.type;return S===Ui?d(x,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===es&&Ig(S)===y.type)?(_=s(y,w.props),_.ref=Ko(x,y,w),_.return=x,_):(_=cc(w.type,w.key,w.props,null,x.mode,_),_.ref=Ko(x,y,w),_.return=x,_)}function u(x,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Sd(w,x.mode,_),y.return=x,y):(y=s(y,w.children||[]),y.return=x,y)}function d(x,y,w,_,S){return y===null||y.tag!==7?(y=ni(w,x.mode,_,S),y.return=x,y):(y=s(y,w),y.return=x,y)}function h(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=_d(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wl:return w=cc(y.type,y.key,y.props,null,x.mode,w),w.ref=Ko(x,null,y),w.return=x,w;case $i:return y=Sd(y,x.mode,w),y.return=x,y;case es:var _=y._init;return h(x,_(y._payload),w)}if(ta(y)||zo(y))return y=ni(y,x.mode,w,null),y.return=x,y;Ol(x,y)}return null}function f(x,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(x,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:return w.key===S?l(x,y,w,_):null;case $i:return w.key===S?u(x,y,w,_):null;case es:return S=w._init,f(x,y,S(w._payload),_)}if(ta(w)||zo(w))return S!==null?null:d(x,y,w,_,null);Ol(x,w)}return null}function m(x,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,a(y,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wl:return x=x.get(_.key===null?w:_.key)||null,l(y,x,_,S);case $i:return x=x.get(_.key===null?w:_.key)||null,u(y,x,_,S);case es:var E=_._init;return m(x,y,w,E(_._payload),S)}if(ta(_)||zo(_))return x=x.get(w)||null,d(y,x,_,S,null);Ol(y,_)}return null}function v(x,y,w,_){for(var S=null,E=null,C=y,j=y=0,L=null;C!==null&&j<w.length;j++){C.index>j?(L=C,C=null):L=C.sibling;var M=f(x,C,w[j],_);if(M===null){C===null&&(C=L);break}t&&C&&M.alternate===null&&e(x,C),y=i(M,y,j),E===null?S=M:E.sibling=M,E=M,C=L}if(j===w.length)return r(x,C),Ye&&Bs(x,j),S;if(C===null){for(;j<w.length;j++)C=h(x,w[j],_),C!==null&&(y=i(C,y,j),E===null?S=C:E.sibling=C,E=C);return Ye&&Bs(x,j),S}for(C=n(x,C);j<w.length;j++)L=m(C,x,j,w[j],_),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?j:L.key),y=i(L,y,j),E===null?S=L:E.sibling=L,E=L);return t&&C.forEach(function(J){return e(x,J)}),Ye&&Bs(x,j),S}function g(x,y,w,_){var S=zo(w);if(typeof S!="function")throw Error(q(150));if(w=S.call(w),w==null)throw Error(q(151));for(var E=S=null,C=y,j=y=0,L=null,M=w.next();C!==null&&!M.done;j++,M=w.next()){C.index>j?(L=C,C=null):L=C.sibling;var J=f(x,C,M.value,_);if(J===null){C===null&&(C=L);break}t&&C&&J.alternate===null&&e(x,C),y=i(J,y,j),E===null?S=J:E.sibling=J,E=J,C=L}if(M.done)return r(x,C),Ye&&Bs(x,j),S;if(C===null){for(;!M.done;j++,M=w.next())M=h(x,M.value,_),M!==null&&(y=i(M,y,j),E===null?S=M:E.sibling=M,E=M);return Ye&&Bs(x,j),S}for(C=n(x,C);!M.done;j++,M=w.next())M=m(C,x,j,M.value,_),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?j:M.key),y=i(M,y,j),E===null?S=M:E.sibling=M,E=M);return t&&C.forEach(function(U){return e(x,U)}),Ye&&Bs(x,j),S}function b(x,y,w,_){if(typeof w=="object"&&w!==null&&w.type===Ui&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:e:{for(var S=w.key,E=y;E!==null;){if(E.key===S){if(S=w.type,S===Ui){if(E.tag===7){r(x,E.sibling),y=s(E,w.props.children),y.return=x,x=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===es&&Ig(S)===E.type){r(x,E.sibling),y=s(E,w.props),y.ref=Ko(x,E,w),y.return=x,x=y;break e}r(x,E);break}else e(x,E);E=E.sibling}w.type===Ui?(y=ni(w.props.children,x.mode,_,w.key),y.return=x,x=y):(_=cc(w.type,w.key,w.props,null,x.mode,_),_.ref=Ko(x,y,w),_.return=x,x=_)}return o(x);case $i:e:{for(E=w.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=s(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=Sd(w,x.mode,_),y.return=x,x=y}return o(x);case es:return E=w._init,b(x,y,E(w._payload),_)}if(ta(w))return v(x,y,w,_);if(zo(w))return g(x,y,w,_);Ol(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,w),y.return=x,x=y):(r(x,y),y=_d(w,x.mode,_),y.return=x,x=y),o(x)):r(x,y)}return b}var xo=jw(!0),Nw=jw(!1),Rc=Ps(null),Ac=null,Ki=null,Tp=null;function jp(){Tp=Ki=Ac=null}function Np(t){var e=Rc.current;Ke(Rc),t._currentValue=e}function Uf(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function to(t,e){Ac=t,Tp=Ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ir=!0),t.firstContext=null)}function Ir(t){var e=t._currentValue;if(Tp!==t)if(t={context:t,memoizedValue:e,next:null},Ki===null){if(Ac===null)throw Error(q(308));Ki=t,Ac.dependencies={lanes:0,firstContext:t}}else Ki=Ki.next=t;return e}var Ks=null;function Op(t){Ks===null?Ks=[t]:Ks.push(t)}function Ow(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Op(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ln(t,n)}function Ln(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ts=!1;function Pp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ws(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ln(t,r)}return s=n.interleaved,s===null?(e.next=e,Op(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ln(t,r)}function nc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gp(t,r)}}function Dg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ic(t,e,r,n){var s=t.updateQueue;ts=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(f=e,m=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=tt({},h,f);break e;case 2:ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);li|=o,t.lanes=o,t.memoizedState=h}}function Lg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(q(191,s));s.call(n)}}}var ol={},wn=Ps(ol),Ra=Ps(ol),Aa=Ps(ol);function Gs(t){if(t===ol)throw Error(q(174));return t}function Rp(t,e){switch(He(Aa,e),He(Ra,t),He(wn,ol),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wf(e,t)}Ke(wn),He(wn,e)}function bo(){Ke(wn),Ke(Ra),Ke(Aa)}function Rw(t){Gs(Aa.current);var e=Gs(wn.current),r=wf(e,t.type);e!==r&&(He(Ra,t),He(wn,r))}function Ap(t){Ra.current===t&&(Ke(wn),Ke(Ra))}var Ze=Ps(0);function Dc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gd=[];function Ip(){for(var t=0;t<gd.length;t++)gd[t]._workInProgressVersionPrimary=null;gd.length=0}var sc=Bn.ReactCurrentDispatcher,vd=Bn.ReactCurrentBatchConfig,ai=0,et=null,gt=null,_t=null,Lc=!1,fa=!1,Ia=0,bk=0;function $t(){throw Error(q(321))}function Dp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!tn(t[r],e[r]))return!1;return!0}function Lp(t,e,r,n,s,i){if(ai=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sc.current=t===null||t.memoizedState===null?Ck:kk,t=r(n,s),fa){i=0;do{if(fa=!1,Ia=0,25<=i)throw Error(q(301));i+=1,_t=gt=null,e.updateQueue=null,sc.current=Tk,t=r(n,s)}while(fa)}if(sc.current=Mc,e=gt!==null&&gt.next!==null,ai=0,_t=gt=et=null,Lc=!1,e)throw Error(q(300));return t}function Mp(){var t=Ia!==0;return Ia=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?et.memoizedState=_t=t:_t=_t.next=t,_t}function Dr(){if(gt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=_t===null?et.memoizedState:_t.next;if(e!==null)_t=e,gt=t;else{if(t===null)throw Error(q(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},_t===null?et.memoizedState=_t=t:_t=_t.next=t}return _t}function Da(t,e){return typeof e=="function"?e(t):e}function yd(t){var e=Dr(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=gt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((ai&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,et.lanes|=d,li|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,tn(n,e.memoizedState)||(ir=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,li|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wd(t){var e=Dr(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);tn(i,e.memoizedState)||(ir=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Aw(){}function Iw(t,e){var r=et,n=Dr(),s=e(),i=!tn(n.memoizedState,s);if(i&&(n.memoizedState=s,ir=!0),n=n.queue,$p(Mw.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,La(9,Lw.bind(null,r,n,s,e),void 0,null),Ct===null)throw Error(q(349));ai&30||Dw(r,e,s)}return s}function Dw(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Lw(t,e,r,n){e.value=r,e.getSnapshot=n,$w(e)&&Uw(t)}function Mw(t,e,r){return r(function(){$w(e)&&Uw(t)})}function $w(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!tn(t,r)}catch{return!0}}function Uw(t){var e=Ln(t,1);e!==null&&en(e,t,1,-1)}function Mg(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},e.queue=t,t=t.dispatch=Ek.bind(null,et,t),[e.memoizedState,t]}function La(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Fw(){return Dr().memoizedState}function ic(t,e,r,n){var s=un();et.flags|=t,s.memoizedState=La(1|e,r,void 0,n===void 0?null:n)}function hu(t,e,r,n){var s=Dr();n=n===void 0?null:n;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,n!==null&&Dp(n,o.deps)){s.memoizedState=La(e,r,i,n);return}}et.flags|=t,s.memoizedState=La(1|e,r,i,n)}function $g(t,e){return ic(8390656,8,t,e)}function $p(t,e){return hu(2048,8,t,e)}function Bw(t,e){return hu(4,2,t,e)}function zw(t,e){return hu(4,4,t,e)}function Ww(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hw(t,e,r){return r=r!=null?r.concat([t]):null,hu(4,4,Ww.bind(null,e,t),r)}function Up(){}function Vw(t,e){var r=Dr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dp(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function qw(t,e){var r=Dr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dp(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Kw(t,e,r){return ai&21?(tn(r,e)||(r=Xy(),et.lanes|=r,li|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ir=!0),t.memoizedState=r)}function _k(t,e){var r=Me;Me=r!==0&&4>r?r:4,t(!0);var n=vd.transition;vd.transition={};try{t(!1),e()}finally{Me=r,vd.transition=n}}function Gw(){return Dr().memoizedState}function Sk(t,e,r){var n=bs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qw(t))Yw(e,r);else if(r=Ow(t,e,r,n),r!==null){var s=Yt();en(r,t,n,s),Jw(r,e,n)}}function Ek(t,e,r){var n=bs(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qw(t))Yw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,tn(a,o)){var l=e.interleaved;l===null?(s.next=s,Op(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ow(t,e,s,n),r!==null&&(s=Yt(),en(r,t,n,s),Jw(r,e,n))}}function Qw(t){var e=t.alternate;return t===et||e!==null&&e===et}function Yw(t,e){fa=Lc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Jw(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gp(t,r)}}var Mc={readContext:Ir,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},Ck={readContext:Ir,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Ir,useEffect:$g,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ic(4194308,4,Ww.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return ic(4,2,t,e)},useMemo:function(t,e){var r=un();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=un();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Sk.bind(null,et,t),[n.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:Mg,useDebugValue:Up,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=Mg(!1),e=t[0];return t=_k.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=et,s=un();if(Ye){if(r===void 0)throw Error(q(407));r=r()}else{if(r=e(),Ct===null)throw Error(q(349));ai&30||Dw(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,$g(Mw.bind(null,n,i,t),[t]),n.flags|=2048,La(9,Lw.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=un(),e=Ct.identifierPrefix;if(Ye){var r=Pn,n=On;r=(n&~(1<<32-Zr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ia++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=bk++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kk={readContext:Ir,useCallback:Vw,useContext:Ir,useEffect:$p,useImperativeHandle:Hw,useInsertionEffect:Bw,useLayoutEffect:zw,useMemo:qw,useReducer:yd,useRef:Fw,useState:function(){return yd(Da)},useDebugValue:Up,useDeferredValue:function(t){var e=Dr();return Kw(e,gt.memoizedState,t)},useTransition:function(){var t=yd(Da)[0],e=Dr().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Gw,unstable_isNewReconciler:!1},Tk={readContext:Ir,useCallback:Vw,useContext:Ir,useEffect:$p,useImperativeHandle:Hw,useInsertionEffect:Bw,useLayoutEffect:zw,useMemo:qw,useReducer:wd,useRef:Fw,useState:function(){return wd(Da)},useDebugValue:Up,useDeferredValue:function(t){var e=Dr();return gt===null?e.memoizedState=t:Kw(e,gt.memoizedState,t)},useTransition:function(){var t=wd(Da)[0],e=Dr().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:Iw,useId:Gw,unstable_isNewReconciler:!1};function Wr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ff(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:tt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var pu={isMounted:function(t){return(t=t._reactInternals)?gi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Yt(),s=bs(t),i=Rn(n,s);i.payload=e,r!=null&&(i.callback=r),e=ws(t,i,s),e!==null&&(en(e,t,s,n),nc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Yt(),s=bs(t),i=Rn(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ws(t,i,s),e!==null&&(en(e,t,s,n),nc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Yt(),n=bs(t),s=Rn(r,n);s.tag=2,e!=null&&(s.callback=e),e=ws(t,s,n),e!==null&&(en(e,t,n,r),nc(e,t,n))}};function Ug(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ja(r,n)||!ja(s,i):!0}function Xw(t,e,r){var n=!1,s=Ts,i=e.contextType;return typeof i=="object"&&i!==null?i=Ir(i):(s=ar(e)?ii:Wt.current,n=e.contextTypes,i=(n=n!=null)?yo(t,s):Ts),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Fg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&pu.enqueueReplaceState(e,e.state,null)}function Bf(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Pp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ir(i):(i=ar(e)?ii:Wt.current,s.context=yo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ff(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&pu.enqueueReplaceState(s,s.state,null),Ic(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _o(t,e){try{var r="",n=e;do r+=tC(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function zf(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jk=typeof WeakMap=="function"?WeakMap:Map;function Zw(t,e,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uc||(Uc=!0,Xf=n),zf(t,e)},r}function ex(t,e,r){r=Rn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){zf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){zf(t,e),typeof n!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Bg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jk;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=zk.bind(null,t,e,r),e.then(t,t))}function zg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wg(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Rn(-1,1),e.tag=2,ws(r,e,1))),r.lanes|=1),t)}var Nk=Bn.ReactCurrentOwner,ir=!1;function Gt(t,e,r,n){e.child=t===null?Nw(e,null,r,n):xo(e,t.child,r,n)}function Hg(t,e,r,n,s){r=r.render;var i=e.ref;return to(e,s),n=Lp(t,e,r,n,i,s),r=Mp(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mn(t,e,s)):(Ye&&r&&Ep(e),e.flags|=1,Gt(t,e,n,s),e.child)}function Vg(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Kp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,tx(t,e,i,n,s)):(t=cc(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ja,r(o,n)&&t.ref===e.ref)return Mn(t,e,s)}return e.flags|=1,t=_s(i,n),t.ref=e.ref,t.return=e,e.child=t}function tx(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ja(i,n)&&t.ref===e.ref)if(ir=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,Mn(t,e,s)}return Wf(t,e,r,n,s)}function rx(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Qi,pr),pr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Qi,pr),pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,He(Qi,pr),pr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,He(Qi,pr),pr|=n;return Gt(t,e,s,r),e.child}function nx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Wf(t,e,r,n,s){var i=ar(r)?ii:Wt.current;return i=yo(e,i),to(e,s),r=Lp(t,e,r,n,i,s),n=Mp(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mn(t,e,s)):(Ye&&n&&Ep(e),e.flags|=1,Gt(t,e,r,s),e.child)}function qg(t,e,r,n,s){if(ar(r)){var i=!0;Nc(e)}else i=!1;if(to(e,s),e.stateNode===null)oc(t,e),Xw(e,r,n),Bf(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ir(u):(u=ar(r)?ii:Wt.current,u=yo(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Fg(e,o,n,u),ts=!1;var f=e.memoizedState;o.state=f,Ic(e,n,o,s),l=e.memoizedState,a!==n||f!==l||or.current||ts?(typeof d=="function"&&(Ff(e,r,d,n),l=e.memoizedState),(a=ts||Ug(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Pw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ir(l):(l=ar(r)?ii:Wt.current,l=yo(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Fg(e,o,n,l),ts=!1,f=e.memoizedState,o.state=f,Ic(e,n,o,s);var v=e.memoizedState;a!==h||f!==v||or.current||ts?(typeof m=="function"&&(Ff(e,r,m,n),v=e.memoizedState),(u=ts||Ug(e,r,u,n,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Hf(t,e,r,n,i,s)}function Hf(t,e,r,n,s,i){nx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Pg(e,r,!1),Mn(t,e,i);n=e.stateNode,Nk.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=xo(e,t.child,null,i),e.child=xo(e,null,a,i)):Gt(t,e,a,i),e.memoizedState=n.state,s&&Pg(e,r,!0),e.child}function sx(t){var e=t.stateNode;e.pendingContext?Og(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Og(t,e.context,!1),Rp(t,e.containerInfo)}function Kg(t,e,r,n,s){return wo(),kp(s),e.flags|=256,Gt(t,e,r,n),e.child}var Vf={dehydrated:null,treeContext:null,retryLane:0};function qf(t){return{baseLanes:t,cachePool:null,transitions:null}}function ix(t,e,r){var n=e.pendingProps,s=Ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(Ze,s&1),t===null)return $f(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vu(o,n,0,null),t=ni(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qf(r),e.memoizedState=Vf,t):Fp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ok(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=_s(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_s(a,i):(i=ni(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?qf(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Vf,n}return i=t.child,t=i.sibling,n=_s(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Fp(t,e){return e=vu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pl(t,e,r,n){return n!==null&&kp(n),xo(e,t.child,null,r),t=Fp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ok(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=xd(Error(q(422))),Pl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=vu({mode:"visible",children:n.children},s,0,null),i=ni(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&xo(e,t.child,null,o),e.child.memoizedState=qf(o),e.memoizedState=Vf,i);if(!(e.mode&1))return Pl(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(q(419)),n=xd(i,n,void 0),Pl(t,e,o,n)}if(a=(o&t.childLanes)!==0,ir||a){if(n=Ct,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ln(t,s),en(n,t,s,-1))}return qp(),n=xd(Error(q(421))),Pl(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Wk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wr=ys(s.nextSibling),xr=e,Ye=!0,Yr=null,t!==null&&(Nr[Or++]=On,Nr[Or++]=Pn,Nr[Or++]=oi,On=t.id,Pn=t.overflow,oi=e),e=Fp(e,n.children),e.flags|=4096,e)}function Gg(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Uf(t.return,e,r)}function bd(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ox(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Gt(t,e,n.children,r),n=Ze.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,r,e);else if(t.tag===19)Gg(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(He(Ze,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Dc(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),bd(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Dc(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}bd(e,!0,r,null,i);break;case"together":bd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),li|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,r=_s(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=_s(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Pk(t,e,r){switch(e.tag){case 3:sx(e),wo();break;case 5:Rw(e);break;case 1:ar(e.type)&&Nc(e);break;case 4:Rp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;He(Rc,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(He(Ze,Ze.current&1),e.flags|=128,null):r&e.child.childLanes?ix(t,e,r):(He(Ze,Ze.current&1),t=Mn(t,e,r),t!==null?t.sibling:null);He(Ze,Ze.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ox(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(Ze,Ze.current),n)break;return null;case 22:case 23:return e.lanes=0,rx(t,e,r)}return Mn(t,e,r)}var ax,Kf,lx,cx;ax=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kf=function(){};lx=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Gs(wn.current);var i=null;switch(r){case"input":s=mf(t,s),n=mf(t,n),i=[];break;case"select":s=tt({},s,{value:void 0}),n=tt({},n,{value:void 0}),i=[];break;case"textarea":s=yf(t,s),n=yf(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Tc)}xf(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ba.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ba.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};cx=function(t,e,r,n){r!==n&&(e.flags|=4)};function Go(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Rk(t,e,r){var n=e.pendingProps;switch(Cp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return ar(e.type)&&jc(),Ut(e),null;case 3:return n=e.stateNode,bo(),Ke(or),Ke(Wt),Ip(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yr!==null&&(th(Yr),Yr=null))),Kf(t,e),Ut(e),null;case 5:Ap(e);var s=Gs(Aa.current);if(r=e.type,t!==null&&e.stateNode!=null)lx(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(q(166));return Ut(e),null}if(t=Gs(wn.current),Nl(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[mn]=e,n[Pa]=i,t=(e.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(s=0;s<na.length;s++)qe(na[s],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":ng(n,i),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},qe("invalid",n);break;case"textarea":ig(n,i),qe("invalid",n)}xf(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&jl(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jl(n.textContent,a,t),s=["children",""+a]):ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",n)}switch(r){case"input":xl(n),sg(n,i,!0);break;case"textarea":xl(n),og(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Tc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=My(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[mn]=e,t[Pa]=n,ax(t,e,!1,!1),e.stateNode=t;e:{switch(o=bf(r,n),r){case"dialog":qe("cancel",t),qe("close",t),s=n;break;case"iframe":case"object":case"embed":qe("load",t),s=n;break;case"video":case"audio":for(s=0;s<na.length;s++)qe(na[s],t);s=n;break;case"source":qe("error",t),s=n;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=n;break;case"details":qe("toggle",t),s=n;break;case"input":ng(t,n),s=mf(t,n),qe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=tt({},n,{value:void 0}),qe("invalid",t);break;case"textarea":ig(t,n),s=yf(t,n),qe("invalid",t);break;default:s=n}xf(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Fy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$y(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_a(t,l):typeof l=="number"&&_a(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ba.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qe("scroll",t):l!=null&&up(t,i,l,o))}switch(r){case"input":xl(t),sg(t,n,!1);break;case"textarea":xl(t),og(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ks(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ji(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ji(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Tc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)cx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(q(166));if(r=Gs(Aa.current),Gs(wn.current),Nl(e)){if(n=e.stateNode,r=e.memoizedProps,n[mn]=e,(i=n.nodeValue!==r)&&(t=xr,t!==null))switch(t.tag){case 3:jl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jl(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mn]=e,e.stateNode=n}return Ut(e),null;case 13:if(Ke(Ze),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&wr!==null&&e.mode&1&&!(e.flags&128))Tw(),wo(),e.flags|=98560,i=!1;else if(i=Nl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[mn]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else Yr!==null&&(th(Yr),Yr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?vt===0&&(vt=3):qp())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return bo(),Kf(t,e),t===null&&Na(e.stateNode.containerInfo),Ut(e),null;case 10:return Np(e.type._context),Ut(e),null;case 17:return ar(e.type)&&jc(),Ut(e),null;case 19:if(Ke(Ze),i=e.memoizedState,i===null)return Ut(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Go(i,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dc(t),o!==null){for(e.flags|=128,Go(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return He(Ze,Ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&ot()>So&&(e.flags|=128,n=!0,Go(i,!1),e.lanes=4194304)}else{if(!n)if(t=Dc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Ut(e),null}else 2*ot()-i.renderingStartTime>So&&r!==1073741824&&(e.flags|=128,n=!0,Go(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,r=Ze.current,He(Ze,n?r&1|2:r&1),e):(Ut(e),null);case 22:case 23:return Vp(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?pr&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Ak(t,e){switch(Cp(e),e.tag){case 1:return ar(e.type)&&jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),Ke(or),Ke(Wt),Ip(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ap(e),null;case 13:if(Ke(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Ze),null;case 4:return bo(),null;case 10:return Np(e.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var Rl=!1,zt=!1,Ik=typeof WeakSet=="function"?WeakSet:Set,te=null;function Gi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(t,e,n)}else r.current=null}function Gf(t,e,r){try{r()}catch(n){st(t,e,n)}}var Qg=!1;function Dk(t,e){if(Pf=Ec,t=pw(),Sp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rf={focusedElem:t,selectionRange:r},Ec=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Wr(e.type,g),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(_){st(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return v=Qg,Qg=!1,v}function ha(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Gf(e,r,i)}s=s.next}while(s!==n)}}function mu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Qf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ux(t){var e=t.alternate;e!==null&&(t.alternate=null,ux(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[Pa],delete e[Df],delete e[vk],delete e[yk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dx(t){return t.tag===5||t.tag===3||t.tag===4}function Yg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Tc));else if(n!==4&&(t=t.child,t!==null))for(Yf(t,e,r),t=t.sibling;t!==null;)Yf(t,e,r),t=t.sibling}function Jf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Jf(t,e,r),t=t.sibling;t!==null;)Jf(t,e,r),t=t.sibling}var Pt=null,Gr=!1;function Kn(t,e,r){for(r=r.child;r!==null;)fx(t,e,r),r=r.sibling}function fx(t,e,r){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(au,r)}catch{}switch(r.tag){case 5:zt||Gi(r,e);case 6:var n=Pt,s=Gr;Pt=null,Kn(t,e,r),Pt=n,Gr=s,Pt!==null&&(Gr?(t=Pt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Pt.removeChild(r.stateNode));break;case 18:Pt!==null&&(Gr?(t=Pt,r=r.stateNode,t.nodeType===8?pd(t.parentNode,r):t.nodeType===1&&pd(t,r),ka(t)):pd(Pt,r.stateNode));break;case 4:n=Pt,s=Gr,Pt=r.stateNode.containerInfo,Gr=!0,Kn(t,e,r),Pt=n,Gr=s;break;case 0:case 11:case 14:case 15:if(!zt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Gf(r,e,o),s=s.next}while(s!==n)}Kn(t,e,r);break;case 1:if(!zt&&(Gi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){st(r,e,a)}Kn(t,e,r);break;case 21:Kn(t,e,r);break;case 22:r.mode&1?(zt=(n=zt)||r.memoizedState!==null,Kn(t,e,r),zt=n):Kn(t,e,r);break;default:Kn(t,e,r)}}function Jg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ik),e.forEach(function(n){var s=Hk.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ur(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Gr=!1;break e;case 3:Pt=a.stateNode.containerInfo,Gr=!0;break e;case 4:Pt=a.stateNode.containerInfo,Gr=!0;break e}a=a.return}if(Pt===null)throw Error(q(160));fx(i,o,s),Pt=null,Gr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){st(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hx(e,t),e=e.sibling}function hx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ur(e,t),cn(t),n&4){try{ha(3,t,t.return),mu(3,t)}catch(g){st(t,t.return,g)}try{ha(5,t,t.return)}catch(g){st(t,t.return,g)}}break;case 1:Ur(e,t),cn(t),n&512&&r!==null&&Gi(r,r.return);break;case 5:if(Ur(e,t),cn(t),n&512&&r!==null&&Gi(r,r.return),t.flags&32){var s=t.stateNode;try{_a(s,"")}catch(g){st(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Dy(s,i),bf(a,o);var u=bf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Fy(s,h):d==="dangerouslySetInnerHTML"?$y(s,h):d==="children"?_a(s,h):up(s,d,h,u)}switch(a){case"input":gf(s,i);break;case"textarea":Ly(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ji(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ji(s,!!i.multiple,i.defaultValue,!0):Ji(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pa]=i}catch(g){st(t,t.return,g)}}break;case 6:if(Ur(e,t),cn(t),n&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){st(t,t.return,g)}}break;case 3:if(Ur(e,t),cn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ka(e.containerInfo)}catch(g){st(t,t.return,g)}break;case 4:Ur(e,t),cn(t);break;case 13:Ur(e,t),cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wp=ot())),n&4&&Jg(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(zt=(u=zt)||d,Ur(e,t),zt=u):Ur(e,t),cn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(h=te=d;te!==null;){switch(f=te,m=f.child,f.tag){case 0:case 11:case 14:case 15:ha(4,f,f.return);break;case 1:Gi(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){st(n,r,g)}}break;case 5:Gi(f,f.return);break;case 22:if(f.memoizedState!==null){Zg(h);continue}}m!==null?(m.return=f,te=m):Zg(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uy("display",o))}catch(g){st(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){st(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ur(e,t),cn(t),n&4&&Jg(t);break;case 21:break;default:Ur(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(dx(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_a(s,""),n.flags&=-33);var i=Yg(t);Jf(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Yg(t);Yf(t,a,o);break;default:throw Error(q(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lk(t,e,r){te=t,px(t)}function px(t,e,r){for(var n=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Rl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Rl;var u=zt;if(Rl=o,(zt=l)&&!u)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?ev(s):l!==null?(l.return=o,te=l):ev(s);for(;i!==null;)te=i,px(i),i=i.sibling;te=s,Rl=a,zt=u}Xg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):Xg(t)}}function Xg(t){for(;te!==null;){var e=te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||mu(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!zt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Wr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lg(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Lg(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ka(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}zt||e.flags&512&&Qf(e)}catch(f){st(e,e.return,f)}}if(e===t){te=null;break}if(r=e.sibling,r!==null){r.return=e.return,te=r;break}te=e.return}}function Zg(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,te=r;break}te=e.return}}function ev(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{mu(4,e)}catch(l){st(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){st(e,s,l)}}var i=e.return;try{Qf(e)}catch(l){st(e,i,l)}break;case 5:var o=e.return;try{Qf(e)}catch(l){st(e,o,l)}}}catch(l){st(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var Mk=Math.ceil,$c=Bn.ReactCurrentDispatcher,Bp=Bn.ReactCurrentOwner,Ar=Bn.ReactCurrentBatchConfig,Ne=0,Ct=null,dt=null,At=0,pr=0,Qi=Ps(0),vt=0,Ma=null,li=0,gu=0,zp=0,pa=null,nr=null,Wp=0,So=1/0,kn=null,Uc=!1,Xf=null,xs=null,Al=!1,hs=null,Fc=0,ma=0,Zf=null,ac=-1,lc=0;function Yt(){return Ne&6?ot():ac!==-1?ac:ac=ot()}function bs(t){return t.mode&1?Ne&2&&At!==0?At&-At:xk.transition!==null?(lc===0&&(lc=Xy()),lc):(t=Me,t!==0||(t=window.event,t=t===void 0?16:iw(t.type)),t):1}function en(t,e,r,n){if(50<ma)throw ma=0,Zf=null,Error(q(185));nl(t,r,n),(!(Ne&2)||t!==Ct)&&(t===Ct&&(!(Ne&2)&&(gu|=r),vt===4&&is(t,At)),lr(t,n),r===1&&Ne===0&&!(e.mode&1)&&(So=ot()+500,fu&&Rs()))}function lr(t,e){var r=t.callbackNode;xC(t,e);var n=Sc(t,t===Ct?At:0);if(n===0)r!==null&&cg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&cg(r),e===1)t.tag===0?wk(tv.bind(null,t)):Ew(tv.bind(null,t)),mk(function(){!(Ne&6)&&Rs()}),r=null;else{switch(Zy(n)){case 1:r=mp;break;case 4:r=Yy;break;case 16:r=_c;break;case 536870912:r=Jy;break;default:r=_c}r=_x(r,mx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function mx(t,e){if(ac=-1,lc=0,Ne&6)throw Error(q(327));var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var n=Sc(t,t===Ct?At:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bc(t,n);else{e=n;var s=Ne;Ne|=2;var i=vx();(Ct!==t||At!==e)&&(kn=null,So=ot()+500,ri(t,e));do try{Fk();break}catch(a){gx(t,a)}while(!0);jp(),$c.current=i,Ne=s,dt!==null?e=0:(Ct=null,At=0,e=vt)}if(e!==0){if(e===2&&(s=kf(t),s!==0&&(n=s,e=eh(t,s))),e===1)throw r=Ma,ri(t,0),is(t,n),lr(t,ot()),r;if(e===6)is(t,n);else{if(s=t.current.alternate,!(n&30)&&!$k(s)&&(e=Bc(t,n),e===2&&(i=kf(t),i!==0&&(n=i,e=eh(t,i))),e===1))throw r=Ma,ri(t,0),is(t,n),lr(t,ot()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(q(345));case 2:zs(t,nr,kn);break;case 3:if(is(t,n),(n&130023424)===n&&(e=Wp+500-ot(),10<e)){if(Sc(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Yt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=If(zs.bind(null,t,nr,kn),e);break}zs(t,nr,kn);break;case 4:if(is(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Zr(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mk(n/1960))-n,10<n){t.timeoutHandle=If(zs.bind(null,t,nr,kn),n);break}zs(t,nr,kn);break;case 5:zs(t,nr,kn);break;default:throw Error(q(329))}}}return lr(t,ot()),t.callbackNode===r?mx.bind(null,t):null}function eh(t,e){var r=pa;return t.current.memoizedState.isDehydrated&&(ri(t,e).flags|=256),t=Bc(t,e),t!==2&&(e=nr,nr=r,e!==null&&th(e)),t}function th(t){nr===null?nr=t:nr.push.apply(nr,t)}function $k(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!tn(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function is(t,e){for(e&=~zp,e&=~gu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zr(e),n=1<<r;t[r]=-1,e&=~n}}function tv(t){if(Ne&6)throw Error(q(327));ro();var e=Sc(t,0);if(!(e&1))return lr(t,ot()),null;var r=Bc(t,e);if(t.tag!==0&&r===2){var n=kf(t);n!==0&&(e=n,r=eh(t,n))}if(r===1)throw r=Ma,ri(t,0),is(t,e),lr(t,ot()),r;if(r===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,nr,kn),lr(t,ot()),null}function Hp(t,e){var r=Ne;Ne|=1;try{return t(e)}finally{Ne=r,Ne===0&&(So=ot()+500,fu&&Rs())}}function ci(t){hs!==null&&hs.tag===0&&!(Ne&6)&&ro();var e=Ne;Ne|=1;var r=Ar.transition,n=Me;try{if(Ar.transition=null,Me=1,t)return t()}finally{Me=n,Ar.transition=r,Ne=e,!(Ne&6)&&Rs()}}function Vp(){pr=Qi.current,Ke(Qi)}function ri(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,pk(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(Cp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jc();break;case 3:bo(),Ke(or),Ke(Wt),Ip();break;case 5:Ap(n);break;case 4:bo();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Np(n.type._context);break;case 22:case 23:Vp()}r=r.return}if(Ct=t,dt=t=_s(t.current,null),At=pr=e,vt=0,Ma=null,zp=gu=li=0,nr=pa=null,Ks!==null){for(e=0;e<Ks.length;e++)if(r=Ks[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ks=null}return t}function gx(t,e){do{var r=dt;try{if(jp(),sc.current=Mc,Lc){for(var n=et.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lc=!1}if(ai=0,_t=gt=et=null,fa=!1,Ia=0,Bp.current=null,r===null||r.return===null){vt=1,Ma=e,dt=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=zg(o);if(m!==null){m.flags&=-257,Wg(m,o,a,i,e),m.mode&1&&Bg(i,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){Bg(i,u,e),qp();break e}l=Error(q(426))}}else if(Ye&&a.mode&1){var b=zg(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Wg(b,o,a,i,e),kp(_o(l,a));break e}}i=l=_o(l,a),vt!==4&&(vt=2),pa===null?pa=[i]:pa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=Zw(i,l,e);Dg(i,x);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xs===null||!xs.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=ex(i,a,e);Dg(i,_);break e}}i=i.return}while(i!==null)}wx(r)}catch(S){e=S,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function vx(){var t=$c.current;return $c.current=Mc,t===null?Mc:t}function qp(){(vt===0||vt===3||vt===2)&&(vt=4),Ct===null||!(li&268435455)&&!(gu&268435455)||is(Ct,At)}function Bc(t,e){var r=Ne;Ne|=2;var n=vx();(Ct!==t||At!==e)&&(kn=null,ri(t,e));do try{Uk();break}catch(s){gx(t,s)}while(!0);if(jp(),Ne=r,$c.current=n,dt!==null)throw Error(q(261));return Ct=null,At=0,vt}function Uk(){for(;dt!==null;)yx(dt)}function Fk(){for(;dt!==null&&!dC();)yx(dt)}function yx(t){var e=bx(t.alternate,t,pr);t.memoizedProps=t.pendingProps,e===null?wx(t):dt=e,Bp.current=null}function wx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ak(r,e),r!==null){r.flags&=32767,dt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,dt=null;return}}else if(r=Rk(r,e,pr),r!==null){dt=r;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);vt===0&&(vt=5)}function zs(t,e,r){var n=Me,s=Ar.transition;try{Ar.transition=null,Me=1,Bk(t,e,r,n)}finally{Ar.transition=s,Me=n}return null}function Bk(t,e,r,n){do ro();while(hs!==null);if(Ne&6)throw Error(q(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(bC(t,i),t===Ct&&(dt=Ct=null,At=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Al||(Al=!0,_x(_c,function(){return ro(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ar.transition,Ar.transition=null;var o=Me;Me=1;var a=Ne;Ne|=4,Bp.current=null,Dk(t,r),hx(r,t),ak(Rf),Ec=!!Pf,Rf=Pf=null,t.current=r,Lk(r),fC(),Ne=a,Me=o,Ar.transition=i}else t.current=r;if(Al&&(Al=!1,hs=t,Fc=s),i=t.pendingLanes,i===0&&(xs=null),mC(r.stateNode),lr(t,ot()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Uc)throw Uc=!1,t=Xf,Xf=null,t;return Fc&1&&t.tag!==0&&ro(),i=t.pendingLanes,i&1?t===Zf?ma++:(ma=0,Zf=t):ma=0,Rs(),null}function ro(){if(hs!==null){var t=Zy(Fc),e=Ar.transition,r=Me;try{if(Ar.transition=null,Me=16>t?16:t,hs===null)var n=!1;else{if(t=hs,hs=null,Fc=0,Ne&6)throw Error(q(331));var s=Ne;for(Ne|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:ha(8,d,i)}var h=d.child;if(h!==null)h.return=d,te=h;else for(;te!==null;){d=te;var f=d.sibling,m=d.return;if(ux(d),d===u){te=null;break}if(f!==null){f.return=m,te=f;break}te=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ha(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,te=x;break e}te=i.return}}var y=t.current;for(te=y;te!==null;){o=te;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,te=w;else e:for(o=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mu(9,a)}}catch(S){st(a,a.return,S)}if(a===o){te=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,te=_;break e}te=a.return}}if(Ne=s,Rs(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(au,t)}catch{}n=!0}return n}finally{Me=r,Ar.transition=e}}return!1}function rv(t,e,r){e=_o(r,e),e=Zw(t,e,1),t=ws(t,e,1),e=Yt(),t!==null&&(nl(t,1,e),lr(t,e))}function st(t,e,r){if(t.tag===3)rv(t,t,r);else for(;e!==null;){if(e.tag===3){rv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xs===null||!xs.has(n))){t=_o(r,t),t=ex(e,t,1),e=ws(e,t,1),t=Yt(),e!==null&&(nl(e,1,t),lr(e,t));break}}e=e.return}}function zk(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&r,Ct===t&&(At&r)===r&&(vt===4||vt===3&&(At&130023424)===At&&500>ot()-Wp?ri(t,0):zp|=r),lr(t,e)}function xx(t,e){e===0&&(t.mode&1?(e=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):e=1);var r=Yt();t=Ln(t,e),t!==null&&(nl(t,e,r),lr(t,r))}function Wk(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),xx(t,r)}function Hk(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(e),xx(t,r)}var bx;bx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||or.current)ir=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ir=!1,Pk(t,e,r);ir=!!(t.flags&131072)}else ir=!1,Ye&&e.flags&1048576&&Cw(e,Pc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;oc(t,e),t=e.pendingProps;var s=yo(e,Wt.current);to(e,r),s=Lp(null,e,n,t,s,r);var i=Mp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(n)?(i=!0,Nc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pp(e),s.updater=pu,e.stateNode=s,s._reactInternals=e,Bf(e,n,t,r),e=Hf(null,e,n,!0,i,r)):(e.tag=0,Ye&&i&&Ep(e),Gt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(oc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=qk(n),t=Wr(n,t),s){case 0:e=Wf(null,e,n,t,r);break e;case 1:e=qg(null,e,n,t,r);break e;case 11:e=Hg(null,e,n,t,r);break e;case 14:e=Vg(null,e,n,Wr(n.type,t),r);break e}throw Error(q(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Wr(n,s),Wf(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Wr(n,s),qg(t,e,n,s,r);case 3:e:{if(sx(e),t===null)throw Error(q(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Pw(t,e),Ic(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=_o(Error(q(423)),e),e=Kg(t,e,n,r,s);break e}else if(n!==s){s=_o(Error(q(424)),e),e=Kg(t,e,n,r,s);break e}else for(wr=ys(e.stateNode.containerInfo.firstChild),xr=e,Ye=!0,Yr=null,r=Nw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wo(),n===s){e=Mn(t,e,r);break e}Gt(t,e,n,r)}e=e.child}return e;case 5:return Rw(e),t===null&&$f(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Af(n,s)?o=null:i!==null&&Af(n,i)&&(e.flags|=32),nx(t,e),Gt(t,e,o,r),e.child;case 6:return t===null&&$f(e),null;case 13:return ix(t,e,r);case 4:return Rp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=xo(e,null,n,r):Gt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Wr(n,s),Hg(t,e,n,s,r);case 7:return Gt(t,e,e.pendingProps,r),e.child;case 8:return Gt(t,e,e.pendingProps.children,r),e.child;case 12:return Gt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(Rc,n._currentValue),n._currentValue=o,i!==null)if(tn(i.value,o)){if(i.children===s.children&&!or.current){e=Mn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Rn(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Uf(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Uf(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,to(e,r),s=Ir(s),n=n(s),e.flags|=1,Gt(t,e,n,r),e.child;case 14:return n=e.type,s=Wr(n,e.pendingProps),s=Wr(n.type,s),Vg(t,e,n,s,r);case 15:return tx(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Wr(n,s),oc(t,e),e.tag=1,ar(n)?(t=!0,Nc(e)):t=!1,to(e,r),Xw(e,n,s),Bf(e,n,s,r),Hf(null,e,n,!0,t,r);case 19:return ox(t,e,r);case 22:return rx(t,e,r)}throw Error(q(156,e.tag))};function _x(t,e){return Qy(t,e)}function Vk(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(t,e,r,n){return new Vk(t,e,r,n)}function Kp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qk(t){if(typeof t=="function")return Kp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fp)return 11;if(t===hp)return 14}return 2}function _s(t,e){var r=t.alternate;return r===null?(r=Rr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function cc(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Kp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ui:return ni(r.children,s,i,e);case dp:o=8,s|=8;break;case df:return t=Rr(12,r,e,s|2),t.elementType=df,t.lanes=i,t;case ff:return t=Rr(13,r,e,s),t.elementType=ff,t.lanes=i,t;case hf:return t=Rr(19,r,e,s),t.elementType=hf,t.lanes=i,t;case Ry:return vu(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Oy:o=10;break e;case Py:o=9;break e;case fp:o=11;break e;case hp:o=14;break e;case es:o=16,n=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Rr(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ni(t,e,r,n){return t=Rr(7,t,n,e),t.lanes=r,t}function vu(t,e,r,n){return t=Rr(22,t,n,e),t.elementType=Ry,t.lanes=r,t.stateNode={isHidden:!1},t}function _d(t,e,r){return t=Rr(6,t,null,e),t.lanes=r,t}function Sd(t,e,r){return e=Rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kk(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nd(0),this.expirationTimes=nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gp(t,e,r,n,s,i,o,a,l){return t=new Kk(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Rr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(i),t}function Gk(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Sx(t){if(!t)return Ts;t=t._reactInternals;e:{if(gi(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var r=t.type;if(ar(r))return Sw(t,r,e)}return e}function Ex(t,e,r,n,s,i,o,a,l){return t=Gp(r,n,!0,t,s,i,o,a,l),t.context=Sx(null),r=t.current,n=Yt(),s=bs(r),i=Rn(n,s),i.callback=e??null,ws(r,i,s),t.current.lanes=s,nl(t,s,n),lr(t,n),t}function yu(t,e,r,n){var s=e.current,i=Yt(),o=bs(s);return r=Sx(r),e.context===null?e.context=r:e.pendingContext=r,e=Rn(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ws(s,e,o),t!==null&&(en(t,s,o,i),nc(t,s,o)),o}function zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Qp(t,e){nv(t,e),(t=t.alternate)&&nv(t,e)}function Qk(){return null}var Cx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yp(t){this._internalRoot=t}wu.prototype.render=Yp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));yu(t,e,null,null)};wu.prototype.unmount=Yp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ci(function(){yu(null,t,null,null)}),e[Dn]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var e=rw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ss.length&&e!==0&&e<ss[r].priority;r++);ss.splice(r,0,t),r===0&&sw(t)}};function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sv(){}function Yk(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=zc(o);i.call(u)}}var o=Ex(e,n,t,0,null,!1,!1,"",sv);return t._reactRootContainer=o,t[Dn]=o.current,Na(t.nodeType===8?t.parentNode:t),ci(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=zc(l);a.call(u)}}var l=Gp(t,0,!1,null,null,!1,!1,"",sv);return t._reactRootContainer=l,t[Dn]=l.current,Na(t.nodeType===8?t.parentNode:t),ci(function(){yu(e,l,r,n)}),l}function bu(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zc(o);a.call(l)}}yu(e,o,t,s)}else o=Yk(r,e,t,s,n);return zc(o)}ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ra(e.pendingLanes);r!==0&&(gp(e,r|1),lr(e,ot()),!(Ne&6)&&(So=ot()+500,Rs()))}break;case 13:ci(function(){var n=Ln(t,1);if(n!==null){var s=Yt();en(n,t,1,s)}}),Qp(t,1)}};vp=function(t){if(t.tag===13){var e=Ln(t,134217728);if(e!==null){var r=Yt();en(e,t,134217728,r)}Qp(t,134217728)}};tw=function(t){if(t.tag===13){var e=bs(t),r=Ln(t,e);if(r!==null){var n=Yt();en(r,t,e,n)}Qp(t,e)}};rw=function(){return Me};nw=function(t,e){var r=Me;try{return Me=t,e()}finally{Me=r}};Sf=function(t,e,r){switch(e){case"input":if(gf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=du(n);if(!s)throw Error(q(90));Iy(n),gf(n,s)}}}break;case"textarea":Ly(t,r);break;case"select":e=r.value,e!=null&&Ji(t,!!r.multiple,e,!1)}};Wy=Hp;Hy=ci;var Jk={usingClientEntryPoint:!1,Events:[il,Wi,du,By,zy,Hp]},Qo={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xk={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ky(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||Qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{au=Il.inject(Xk),yn=Il}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jk;Sr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(e))throw Error(q(200));return Gk(t,e,null,r)};Sr.createRoot=function(t,e){if(!Jp(t))throw Error(q(299));var r=!1,n="",s=Cx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gp(t,1,!1,null,null,r,!1,n,s),t[Dn]=e.current,Na(t.nodeType===8?t.parentNode:t),new Yp(e)};Sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Ky(e),t=t===null?null:t.stateNode,t};Sr.flushSync=function(t){return ci(t)};Sr.hydrate=function(t,e,r){if(!xu(e))throw Error(q(200));return bu(null,t,e,!0,r)};Sr.hydrateRoot=function(t,e,r){if(!Jp(t))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Cx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Ex(e,null,t,1,r??null,s,!1,i,o),t[Dn]=e.current,Na(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new wu(e)};Sr.render=function(t,e,r){if(!xu(e))throw Error(q(200));return bu(null,t,e,!1,r)};Sr.unmountComponentAtNode=function(t){if(!xu(t))throw Error(q(40));return t._reactRootContainer?(ci(function(){bu(null,null,t,!1,function(){t._reactRootContainer=null,t[Dn]=null})}),!0):!1};Sr.unstable_batchedUpdates=Hp;Sr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!xu(r))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return bu(t,e,r,!1,n)};Sr.version="18.3.1-next-f1338f8080-20240426";function kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kx)}catch(t){console.error(t)}}kx(),ky.exports=Sr;var vi=ky.exports;const Tx=py(vi);var jx,iv=vi;jx=iv.createRoot,iv.hydrateRoot;const Zk=1,e2=1e6;let Ed=0;function t2(){return Ed=(Ed+1)%Number.MAX_SAFE_INTEGER,Ed.toString()}const Cd=new Map,ov=t=>{if(Cd.has(t))return;const e=setTimeout(()=>{Cd.delete(t),ga({type:"REMOVE_TOAST",toastId:t})},e2);Cd.set(t,e)},r2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Zk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?ov(r):t.toasts.forEach(n=>{ov(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},uc=[];let dc={toasts:[]};function ga(t){dc=r2(dc,t),uc.forEach(e=>{e(dc)})}function n2({...t}){const e=t2(),r=s=>ga({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>ga({type:"DISMISS_TOAST",toastId:e});return ga({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function yi(){const[t,e]=p.useState(dc);return p.useEffect(()=>(uc.push(e),()=>{const r=uc.indexOf(e);r>-1&&uc.splice(r,1)}),[t]),{...t,toast:n2,dismiss:r=>ga({type:"DISMISS_TOAST",toastId:r})}}function de(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function av(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nx(...t){return e=>{let r=!1;const n=t.map(s=>{const i=av(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():av(t[s],null)}}}}function Be(...t){return p.useCallback(Nx(...t),t)}function s2(t,e){const r=p.createContext(e),n=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function s(i){const o=p.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function zn(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const u=h=>{var x;const{scope:f,children:m,...v}=h,g=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,b=p.useMemo(()=>v,Object.values(v));return c.jsx(g.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,v=p.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,i2(s,...e)]}function i2(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Eo(t){const e=a2(t),r=p.forwardRef((n,s)=>{const{children:i,...o}=n,a=p.Children.toArray(i),l=a.find(l2);if(l){const u=l.props.children,d=a.map(h=>h===l?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var o2=Eo("Slot");function a2(t){const e=p.forwardRef((r,n)=>{const{children:s,...i}=r;if(p.isValidElement(s)){const o=u2(s),a=c2(i,s.props);return s.type!==p.Fragment&&(a.ref=n?Nx(n,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ox=Symbol("radix.slottable");function Px(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Ox,e}function l2(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ox}function c2(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function u2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Xp(t){const e=t+"CollectionProvider",[r,n]=zn(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:x}=g,y=Y.useRef(null),w=Y.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:w,collectionRef:y,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Eo(a),u=Y.forwardRef((g,b)=>{const{scope:x,children:y}=g,w=i(a,x),_=Be(b,w.collectionRef);return c.jsx(l,{ref:_,children:y})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Eo(d),m=Y.forwardRef((g,b)=>{const{scope:x,children:y,...w}=g,_=Y.useRef(null),S=Be(b,_),E=i(d,x);return Y.useEffect(()=>(E.itemMap.set(_,{ref:_,...w}),()=>void E.itemMap.delete(_))),c.jsx(f,{[h]:"",ref:S,children:y})});m.displayName=d;function v(g){const b=i(t+"CollectionConsumer",g);return Y.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((E,C)=>w.indexOf(E.ref.current)-w.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,n]}var d2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=d2.reduce((t,e)=>{const r=Eo(`Primitive.${e}`),n=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Rx(t,e){t&&vi.flushSync(()=>t.dispatchEvent(e))}function Lr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function f2(t,e=globalThis==null?void 0:globalThis.document){const r=Lr(t);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var h2="DismissableLayer",rh="dismissableLayer.update",p2="dismissableLayer.pointerDownOutside",m2="dismissableLayer.focusOutside",lv,Ax=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),al=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=p.useContext(Ax),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),v=Be(e,C=>h(C)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),y=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=x,S=v2(C=>{const j=C.target,L=[...u.branches].some(M=>M.contains(j));!_||L||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),E=y2(C=>{const j=C.target;[...u.branches].some(M=>M.contains(j))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return f2(C=>{y===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lv=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),cv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=lv)}},[d,f,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),cv())},[d,u]),p.useEffect(()=>{const C=()=>m({});return document.addEventListener(rh,C),()=>document.removeEventListener(rh,C)},[]),c.jsx(ke.div,{...l,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:de(t.onFocusCapture,E.onFocusCapture),onBlurCapture:de(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:de(t.onPointerDownCapture,S.onPointerDownCapture)})});al.displayName=h2;var g2="DismissableLayerBranch",Ix=p.forwardRef((t,e)=>{const r=p.useContext(Ax),n=p.useRef(null),s=Be(e,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(ke.div,{...t,ref:s})});Ix.displayName=g2;function v2(t,e=globalThis==null?void 0:globalThis.document){const r=Lr(t),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){Dx(p2,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function y2(t,e=globalThis==null?void 0:globalThis.document){const r=Lr(t),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&Dx(m2,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function cv(){const t=new CustomEvent(rh);document.dispatchEvent(t)}function Dx(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Rx(s,i):s.dispatchEvent(i)}var w2=al,x2=Ix,Dt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},b2="Portal",_u=p.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,i]=p.useState(!1);Dt(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tx.createPortal(c.jsx(ke.div,{...n,ref:e}),o):null});_u.displayName=b2;function _2(t,e){return p.useReducer((r,n)=>e[r][n]??r,t)}var wi=t=>{const{present:e,children:r}=t,n=S2(e),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=Be(n.ref,E2(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};wi.displayName="Presence";function S2(t){const[e,r]=p.useState(),n=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=_2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Dl(n.current);i.current=a==="mounted"?u:"none"},[a]),Dt(()=>{const u=n.current,d=s.current;if(d!==t){const f=i.current,m=Dl(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Dt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const g=Dl(n.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=m=>{m.target===e&&(i.current=Dl(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Dl(t){return(t==null?void 0:t.animationName)||"none"}function E2(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var C2=ap[" useInsertionEffect ".trim().toString()]||Dt;function Co({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,o]=k2({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:s;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=p.useCallback(d=>{var h;if(a){const f=T2(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,t,i,o]);return[l,u]}function k2({defaultProp:t,onChange:e}){const[r,n]=p.useState(t),s=p.useRef(r),i=p.useRef(e);return C2(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function T2(t){return typeof t=="function"}var Lx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),j2="VisuallyHidden",Su=p.forwardRef((t,e)=>c.jsx(ke.span,{...t,ref:e,style:{...Lx,...t.style}}));Su.displayName=j2;var N2=Su,Zp="ToastProvider",[em,O2,P2]=Xp("Toast"),[Mx,EM]=zn("Toast",[P2]),[R2,Eu]=Mx(Zp),$x=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Zp}\`. Expected non-empty \`string\`.`),c.jsx(em.Provider,{scope:e,children:c.jsx(R2,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};$x.displayName=Zp;var Ux="ToastViewport",A2=["F8"],nh="toast.viewportPause",sh="toast.viewportResume",Fx=p.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=A2,label:s="Notifications ({hotkey})",...i}=t,o=Eu(Ux,r),a=O2(r),l=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=Be(e,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;p.useEffect(()=>{const b=x=>{var w;n.length!==0&&n.every(_=>x[_]||x.code===_)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),p.useEffect(()=>{const b=l.current,x=h.current;if(v&&b&&x){const y=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(nh);x.dispatchEvent(E),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(sh);x.dispatchEvent(E),o.isClosePausedRef.current=!1}},_=E=>{!b.contains(E.relatedTarget)&&w()},S=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",_),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:b})=>{const y=a().map(w=>{const _=w.ref.current,S=[_,...q2(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?y.reverse():y).flat()},[a]);return p.useEffect(()=>{const b=h.current;if(b){const x=y=>{var S,E,C;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const j=document.activeElement,L=y.shiftKey;if(y.target===b&&L){(S=u.current)==null||S.focus();return}const U=g({tabbingDirection:L?"backwards":"forwards"}),K=U.findIndex(P=>P===j);kd(U.slice(K+1))?y.preventDefault():L?(E=u.current)==null||E.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[a,g]),c.jsxs(x2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(ih,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});kd(b)}}),c.jsx(em.Slot,{scope:r,children:c.jsx(ke.ol,{tabIndex:-1,...i,ref:f})}),v&&c.jsx(ih,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});kd(b)}})]})});Fx.displayName=Ux;var Bx="ToastFocusProxy",ih=p.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=Eu(Bx,r);return c.jsx(Su,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});ih.displayName=Bx;var ll="Toast",I2="toast.swipeStart",D2="toast.swipeMove",L2="toast.swipeCancel",M2="toast.swipeEnd",zx=p.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Co({prop:n,defaultProp:s??!0,onChange:i,caller:ll});return c.jsx(wi,{present:r||a,children:c.jsx(F2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Lr(t.onPause),onResume:Lr(t.onResume),onSwipeStart:de(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:de(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:de(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:de(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});zx.displayName=ll;var[$2,U2]=Mx(ll,{onClose(){}}),F2=p.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...v}=t,g=Eu(ll,r),[b,x]=p.useState(null),y=Be(e,P=>x(P)),w=p.useRef(null),_=p.useRef(null),S=s||g.duration,E=p.useRef(0),C=p.useRef(S),j=p.useRef(0),{onToastAdd:L,onToastRemove:M}=g,J=Lr(()=>{var H;(b==null?void 0:b.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),o()}),U=p.useCallback(P=>{!P||P===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(J,P))},[J]);p.useEffect(()=>{const P=g.viewport;if(P){const H=()=>{U(C.current),u==null||u()},$=()=>{const G=new Date().getTime()-E.current;C.current=C.current-G,window.clearTimeout(j.current),l==null||l()};return P.addEventListener(nh,$),P.addEventListener(sh,H),()=>{P.removeEventListener(nh,$),P.removeEventListener(sh,H)}}},[g.viewport,S,l,u,U]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&U(S)},[i,S,g.isClosePausedRef,U]),p.useEffect(()=>(L(),()=>M()),[L,M]);const K=p.useMemo(()=>b?Qx(b):null,[b]);return g.viewport?c.jsxs(c.Fragment,{children:[K&&c.jsx(B2,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),c.jsx($2,{scope:r,onClose:J,children:vi.createPortal(c.jsx(em.ItemSlot,{scope:r,children:c.jsx(w2,{asChild:!0,onEscapeKeyDown:de(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||J(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:de(t.onKeyDown,P=>{P.key==="Escape"&&(a==null||a(P.nativeEvent),P.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:de(t.onPointerDown,P=>{P.button===0&&(w.current={x:P.clientX,y:P.clientY})}),onPointerMove:de(t.onPointerMove,P=>{if(!w.current)return;const H=P.clientX-w.current.x,$=P.clientY-w.current.y,G=!!_.current,T=["left","right"].includes(g.swipeDirection),O=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,V=T?O(0,H):0,ee=T?0:O(0,$),k=P.pointerType==="touch"?10:2,W={x:V,y:ee},z={originalEvent:P,delta:W};G?(_.current=W,Ll(D2,h,z,{discrete:!1})):uv(W,g.swipeDirection,k)?(_.current=W,Ll(I2,d,z,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(H)>k||Math.abs($)>k)&&(w.current=null)}),onPointerUp:de(t.onPointerUp,P=>{const H=_.current,$=P.target;if($.hasPointerCapture(P.pointerId)&&$.releasePointerCapture(P.pointerId),_.current=null,w.current=null,H){const G=P.currentTarget,T={originalEvent:P,delta:H};uv(H,g.swipeDirection,g.swipeThreshold)?Ll(M2,m,T,{discrete:!0}):Ll(L2,f,T,{discrete:!0}),G.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),B2=t=>{const{__scopeToast:e,children:r,...n}=t,s=Eu(ll,e),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return H2(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(_u,{asChild:!0,children:c.jsx(Su,{...n,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",r]})})})},z2="ToastTitle",Wx=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(ke.div,{...n,ref:e})});Wx.displayName=z2;var W2="ToastDescription",Hx=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(ke.div,{...n,ref:e})});Hx.displayName=W2;var Vx="ToastAction",qx=p.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(Gx,{altText:r,asChild:!0,children:c.jsx(tm,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vx}\`. Expected non-empty \`string\`.`),null)});qx.displayName=Vx;var Kx="ToastClose",tm=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=U2(Kx,r);return c.jsx(Gx,{asChild:!0,children:c.jsx(ke.button,{type:"button",...n,ref:e,onClick:de(t.onClick,s.onClose)})})});tm.displayName=Kx;var Gx=p.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return c.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Qx(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),V2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Qx(n))}}),e}function Ll(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Rx(s,i):s.dispatchEvent(i)}var uv=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function H2(t=()=>{}){const e=Lr(t);Dt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function V2(t){return t.nodeType===t.ELEMENT_NODE}function q2(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function kd(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var K2=$x,Yx=Fx,Jx=zx,Xx=Wx,Zx=Hx,e1=qx,t1=tm;function r1(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=r1(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function n1(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=r1(t))&&(n&&(n+=" "),n+=e);return n}const dv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fv=n1,rm=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return fv(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const f=dv(d)||dv(h);return s[u][f]}),a=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...u,h,f]:u},[]);return fv(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s1=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...Q2,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:s1("lucide",s),...a},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const r=p.forwardRef(({className:n,...s},i)=>p.createElement(Y2,{ref:i,iconNode:e,className:s1(`lucide-${G2(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Ee("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Ee("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Ee("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Ee("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Ee("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Ee("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Ee("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),sm="-",gT=t=>{const e=yT(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(sm);return a[0]===""&&a.length!==1&&a.shift(),p1(a,e)||vT(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},p1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?p1(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(sm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},gv=/^\[(.+)\]$/,vT=t=>{if(gv.test(t)){const e=gv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},yT=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return xT(Object.entries(t.classGroups),r).forEach(([i,o])=>{ch(o,n,i,e)}),n},ch=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:vv(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(wT(s)){ch(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{ch(o,vv(e,i),r,n)})})},vv=(t,e)=>{let r=t;return e.split(sm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},wT=t=>t.isThemeGetter,xT=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,s]}):t,bT=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},m1="!",_T=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let b=0;b<a.length;b++){let x=a[b];if(u===0){if(x===s&&(n||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(x==="/"){h=b;continue}}x==="["?u++:x==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(m1),v=m?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:o}):o},ST=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},ET=t=>({cache:bT(t.cacheSize),parseClassName:_T(t),...gT(t)}),CT=/\s+/,kT=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(CT);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let v=!!m,g=n(v?f.substring(0,m):f);if(!g){if(!v){a=u+(a.length>0?" "+a:a);continue}if(g=n(f),!g){a=u+(a.length>0?" "+a:a);continue}v=!1}const b=ST(d).join(":"),x=h?b+m1:b,y=x+g;if(i.includes(y))continue;i.push(y);const w=s(g,v);for(let _=0;_<w.length;++_){const S=w[_];i.push(x+S)}a=u+(a.length>0?" "+a:a)}return a};function TT(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=g1(e))&&(n&&(n+=" "),n+=r);return n}const g1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=g1(t[n]))&&(r&&(r+=" "),r+=e);return r};function jT(t,...e){let r,n,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return r=ET(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=kT(l,r);return s(l,d),d}return function(){return i(TT.apply(null,arguments))}}const Ve=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},v1=/^\[(?:([a-z-]+):)?(.+)\]$/i,NT=/^\d+\/\d+$/,OT=new Set(["px","full","screen"]),PT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,En=t=>no(t)||OT.has(t)||NT.test(t),Gn=t=>Ao(t,"length",WT),no=t=>!!t&&!Number.isNaN(Number(t)),Td=t=>Ao(t,"number",no),Yo=t=>!!t&&Number.isInteger(Number(t)),LT=t=>t.endsWith("%")&&no(t.slice(0,-1)),Ce=t=>v1.test(t),Qn=t=>PT.test(t),MT=new Set(["length","size","percentage"]),$T=t=>Ao(t,MT,y1),UT=t=>Ao(t,"position",y1),FT=new Set(["image","url"]),BT=t=>Ao(t,FT,VT),zT=t=>Ao(t,"",HT),Jo=()=>!0,Ao=(t,e,r)=>{const n=v1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},WT=t=>RT.test(t)&&!AT.test(t),y1=()=>!1,HT=t=>IT.test(t),VT=t=>DT.test(t),qT=()=>{const t=Ve("colors"),e=Ve("spacing"),r=Ve("blur"),n=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),l=Ve("contrast"),u=Ve("grayscale"),d=Ve("hueRotate"),h=Ve("invert"),f=Ve("gap"),m=Ve("gradientColorStops"),v=Ve("gradientColorStopPositions"),g=Ve("inset"),b=Ve("margin"),x=Ve("opacity"),y=Ve("padding"),w=Ve("saturate"),_=Ve("scale"),S=Ve("sepia"),E=Ve("skew"),C=Ve("space"),j=Ve("translate"),L=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",Ce,e],U=()=>[Ce,e],K=()=>["",En,Gn],P=()=>["auto",no,Ce],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Ce],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[no,Ce];return{cacheSize:500,separator:":",theme:{colors:[Jo],spacing:[En,Gn],blur:["none","",Qn,Ce],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Qn,Ce],borderSpacing:U(),borderWidth:K(),contrast:ee(),grayscale:O(),hueRotate:ee(),invert:O(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[LT,Gn],inset:J(),margin:J(),opacity:ee(),padding:U(),saturate:ee(),scale:ee(),sepia:O(),skew:ee(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Qn]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Ce]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yo,Ce]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Yo,Ce]}],"grid-cols":[{"grid-cols":[Jo]}],"col-start-end":[{col:["auto",{span:["full",Yo,Ce]},Ce]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Jo]}],"row-start-end":[{row:["auto",{span:[Yo,Ce]},Ce]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[Qn]},Qn]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qn,Gn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Td]}],"font-family":[{font:[Jo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",no,Td]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",En,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",En,Gn]}],"underline-offset":[{"underline-offset":["auto",En,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),UT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$T]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[En,Ce]}],"outline-w":[{outline:[En,Gn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[En,Gn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qn,zT]}],"shadow-color":[{shadow:[Jo]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Qn,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Yo,Ce]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[En,Gn,Td]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KT=jT(qT);function Se(...t){return KT(n1(t))}const GT=K2,w1=p.forwardRef(({className:t,...e},r)=>c.jsx(Yx,{ref:r,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));w1.displayName=Yx.displayName;const QT=rm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),x1=p.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(Jx,{ref:n,className:Se(QT({variant:e}),t),...r}));x1.displayName=Jx.displayName;const YT=p.forwardRef(({className:t,...e},r)=>c.jsx(e1,{ref:r,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));YT.displayName=e1.displayName;const b1=p.forwardRef(({className:t,...e},r)=>c.jsx(t1,{ref:r,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(ku,{className:"h-4 w-4"})}));b1.displayName=t1.displayName;const _1=p.forwardRef(({className:t,...e},r)=>c.jsx(Xx,{ref:r,className:Se("text-sm font-semibold",t),...e}));_1.displayName=Xx.displayName;const S1=p.forwardRef(({className:t,...e},r)=>c.jsx(Zx,{ref:r,className:Se("text-sm opacity-90",t),...e}));S1.displayName=Zx.displayName;function JT(){const{toasts:t}=yi();return c.jsxs(GT,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return c.jsxs(x1,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(_1,{children:r}),n&&c.jsx(S1,{children:n})]}),s,c.jsx(b1,{})]},e)}),c.jsx(w1,{})]})}var yv=["light","dark"],XT="(prefers-color-scheme: dark)",ZT=p.createContext(void 0),ej={setTheme:t=>{},themes:[]},tj=()=>{var t;return(t=p.useContext(ZT))!=null?t:ej};p.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?yv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,g=!1,b=!0)=>{let x=o?o[v]:v,y=g?v+"|| ''":`'${x}'`,w="";return s&&b&&!g&&yv.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?g||x?w+=`c.add(${y})`:w+="null":x&&(w+=`d[s](n,${y})`),w},m=t?`!function(){${d}${f(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${XT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var rj=t=>{switch(t){case"success":return ij;case"info":return aj;case"warning":return oj;case"error":return lj;default:return null}},nj=Array(12).fill(0),sj=({visible:t,className:e})=>Y.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Y.createElement("div",{className:"sonner-spinner"},nj.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ij=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oj=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aj=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lj=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cj=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uj=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},uh=1,dj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:uh++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,i,o=n.then(async l=>{if(i=["resolve",l],Y.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(hj(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||uh++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rr=new dj,fj=(t,e)=>{let r=(e==null?void 0:e.id)||uh++;return rr.addToast({title:t,...e,id:r}),r},hj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",pj=fj,mj=()=>rr.toasts,gj=()=>rr.getActiveToasts();Object.assign(pj,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:mj,getToasts:gj});function vj(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}vj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ml(t){return t.label!==void 0}var yj=3,wj="32px",xj="16px",wv=4e3,bj=356,_j=14,Sj=20,Ej=200;function Fr(...t){return t.filter(Boolean).join(" ")}function Cj(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var kj=t=>{var e,r,n,s,i,o,a,l,u,d,h;let{invert:f,toast:m,unstyled:v,interacting:g,setHeights:b,visibleToasts:x,heights:y,index:w,toasts:_,expanded:S,removeToast:E,defaultRichColors:C,closeButton:j,style:L,cancelButtonStyle:M,actionButtonStyle:J,className:U="",descriptionClassName:K="",duration:P,position:H,gap:$,loadingIcon:G,expandByDefault:T,classNames:O,icons:V,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:k}=t,[W,z]=Y.useState(null),[X,se]=Y.useState(null),[A,re]=Y.useState(!1),[ye,oe]=Y.useState(!1),[ie,ce]=Y.useState(!1),[ze,yt]=Y.useState(!1),[Lt,ht]=Y.useState(!1),[ur,Ht]=Y.useState(0),[Q,fe]=Y.useState(0),he=Y.useRef(m.duration||P||wv),je=Y.useRef(null),Je=Y.useRef(null),Zt=w===0,at=w+1<=x,Ie=m.type,wt=m.dismissible!==!1,on=m.className||"",Sn=m.descriptionClassName||"",Vt=Y.useMemo(()=>y.findIndex(ge=>ge.toastId===m.id)||0,[y,m.id]),Mr=Y.useMemo(()=>{var ge;return(ge=m.closeButton)!=null?ge:j},[m.closeButton,j]),$r=Y.useMemo(()=>m.duration||P||wv,[m.duration,P]),er=Y.useRef(0),lt=Y.useRef(0),dr=Y.useRef(0),tr=Y.useRef(null),[an,Uo]=H.split("-"),Si=Y.useMemo(()=>y.reduce((ge,Oe,Re)=>Re>=Vt?ge:ge+Oe.height,0),[y,Vt]),qn=uj(),Fo=m.invert||f,Ls=Ie==="loading";lt.current=Y.useMemo(()=>Vt*$+Si,[Vt,Si]),Y.useEffect(()=>{he.current=$r},[$r]),Y.useEffect(()=>{re(!0)},[]),Y.useEffect(()=>{let ge=Je.current;if(ge){let Oe=ge.getBoundingClientRect().height;return fe(Oe),b(Re=>[{toastId:m.id,height:Oe,position:m.position},...Re]),()=>b(Re=>Re.filter(kt=>kt.toastId!==m.id))}},[b,m.id]),Y.useLayoutEffect(()=>{if(!A)return;let ge=Je.current,Oe=ge.style.height;ge.style.height="auto";let Re=ge.getBoundingClientRect().height;ge.style.height=Oe,fe(Re),b(kt=>kt.find(R=>R.toastId===m.id)?kt.map(R=>R.toastId===m.id?{...R,height:Re}:R):[{toastId:m.id,height:Re,position:m.position},...kt])},[A,m.title,m.description,b,m.id]);let Cr=Y.useCallback(()=>{oe(!0),Ht(lt.current),b(ge=>ge.filter(Oe=>Oe.toastId!==m.id)),setTimeout(()=>{E(m)},Ej)},[m,E,b,lt]);Y.useEffect(()=>{if(m.promise&&Ie==="loading"||m.duration===1/0||m.type==="loading")return;let ge;return S||g||k&&qn?(()=>{if(dr.current<er.current){let Oe=new Date().getTime()-er.current;he.current=he.current-Oe}dr.current=new Date().getTime()})():he.current!==1/0&&(er.current=new Date().getTime(),ge=setTimeout(()=>{var Oe;(Oe=m.onAutoClose)==null||Oe.call(m,m),Cr()},he.current)),()=>clearTimeout(ge)},[S,g,m,Ie,k,qn,Cr]),Y.useEffect(()=>{m.delete&&Cr()},[Cr,m.delete]);function Bo(){var ge,Oe,Re;return V!=null&&V.loading?Y.createElement("div",{className:Fr(O==null?void 0:O.loader,(ge=m==null?void 0:m.classNames)==null?void 0:ge.loader,"sonner-loader"),"data-visible":Ie==="loading"},V.loading):G?Y.createElement("div",{className:Fr(O==null?void 0:O.loader,(Oe=m==null?void 0:m.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":Ie==="loading"},G):Y.createElement(sj,{className:Fr(O==null?void 0:O.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader),visible:Ie==="loading"})}return Y.createElement("li",{tabIndex:0,ref:Je,className:Fr(U,on,O==null?void 0:O.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[Ie],(r=m==null?void 0:m.classNames)==null?void 0:r[Ie]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:C,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":A,"data-promise":!!m.promise,"data-swiped":Lt,"data-removed":ye,"data-visible":at,"data-y-position":an,"data-x-position":Uo,"data-index":w,"data-front":Zt,"data-swiping":ie,"data-dismissible":wt,"data-type":Ie,"data-invert":Fo,"data-swipe-out":ze,"data-swipe-direction":X,"data-expanded":!!(S||T&&A),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ye?ur:lt.current}px`,"--initial-height":T?"auto":`${Q}px`,...L,...m.style},onDragEnd:()=>{ce(!1),z(null),tr.current=null},onPointerDown:ge=>{Ls||!wt||(je.current=new Date,Ht(lt.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(ce(!0),tr.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,Oe,Re,kt;if(ze||!wt)return;tr.current=null;let R=Number(((ge=Je.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tt=Number(((Oe=Je.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),it=new Date().getTime()-((Re=je.current)==null?void 0:Re.getTime()),xt=W==="x"?R:Tt,B=Math.abs(xt)/it;if(Math.abs(xt)>=Sj||B>.11){Ht(lt.current),(kt=m.onDismiss)==null||kt.call(m,m),se(W==="x"?R>0?"right":"left":Tt>0?"down":"up"),Cr(),yt(!0),ht(!1);return}ce(!1),z(null)},onPointerMove:ge=>{var Oe,Re,kt,R;if(!tr.current||!wt||((Oe=window.getSelection())==null?void 0:Oe.toString().length)>0)return;let Tt=ge.clientY-tr.current.y,it=ge.clientX-tr.current.x,xt=(Re=t.swipeDirections)!=null?Re:Cj(H);!W&&(Math.abs(it)>1||Math.abs(Tt)>1)&&z(Math.abs(it)>Math.abs(Tt)?"x":"y");let B={x:0,y:0};W==="y"?(xt.includes("top")||xt.includes("bottom"))&&(xt.includes("top")&&Tt<0||xt.includes("bottom")&&Tt>0)&&(B.y=Tt):W==="x"&&(xt.includes("left")||xt.includes("right"))&&(xt.includes("left")&&it<0||xt.includes("right")&&it>0)&&(B.x=it),(Math.abs(B.x)>0||Math.abs(B.y)>0)&&ht(!0),(kt=Je.current)==null||kt.style.setProperty("--swipe-amount-x",`${B.x}px`),(R=Je.current)==null||R.style.setProperty("--swipe-amount-y",`${B.y}px`)}},Mr&&!m.jsx?Y.createElement("button",{"aria-label":ee,"data-disabled":Ls,"data-close-button":!0,onClick:Ls||!wt?()=>{}:()=>{var ge;Cr(),(ge=m.onDismiss)==null||ge.call(m,m)},className:Fr(O==null?void 0:O.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=V==null?void 0:V.close)!=null?i:cj):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Y.createElement(Y.Fragment,null,Ie||m.icon||m.promise?Y.createElement("div",{"data-icon":"",className:Fr(O==null?void 0:O.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Bo():null,m.type!=="loading"?m.icon||(V==null?void 0:V[Ie])||rj(Ie):null):null,Y.createElement("div",{"data-content":"",className:Fr(O==null?void 0:O.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:Fr(O==null?void 0:O.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?Y.createElement("div",{"data-description":"",className:Fr(K,Sn,O==null?void 0:O.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&Ml(m.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||M,onClick:ge=>{var Oe,Re;Ml(m.cancel)&&wt&&((Re=(Oe=m.cancel).onClick)==null||Re.call(Oe,ge),Cr())},className:Fr(O==null?void 0:O.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&Ml(m.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||J,onClick:ge=>{var Oe,Re;Ml(m.action)&&((Re=(Oe=m.action).onClick)==null||Re.call(Oe,ge),!ge.defaultPrevented&&Cr())},className:Fr(O==null?void 0:O.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function xv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Tj(t,e){let r={};return[t,e].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?xj:wj;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=a:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(a)}),r}var jj=p.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:v=yj,toastOptions:g,dir:b=xv(),gap:x=_j,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[E,C]=Y.useState([]),j=Y.useMemo(()=>Array.from(new Set([n].concat(E.filter(k=>k.position).map(k=>k.position)))),[E,n]),[L,M]=Y.useState([]),[J,U]=Y.useState(!1),[K,P]=Y.useState(!1),[H,$]=Y.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=Y.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=Y.useRef(null),V=Y.useRef(!1),ee=Y.useCallback(k=>{C(W=>{var z;return(z=W.find(X=>X.id===k.id))!=null&&z.delete||rr.dismiss(k.id),W.filter(({id:X})=>X!==k.id)})},[]);return Y.useEffect(()=>rr.subscribe(k=>{if(k.dismiss){C(W=>W.map(z=>z.id===k.id?{...z,delete:!0}:z));return}setTimeout(()=>{Tx.flushSync(()=>{C(W=>{let z=W.findIndex(X=>X.id===k.id);return z!==-1?[...W.slice(0,z),{...W[z],...k},...W.slice(z+1)]:[k,...W]})})})}),[]),Y.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:W})=>{$(W?"dark":"light")})}catch{k.addListener(({matches:z})=>{try{$(z?"dark":"light")}catch(X){console.error(X)}})}},[d]),Y.useEffect(()=>{E.length<=1&&U(!1)},[E]),Y.useEffect(()=>{let k=W=>{var z,X;s.every(se=>W[se]||W.code===se)&&(U(!0),(z=G.current)==null||z.focus()),W.code==="Escape"&&(document.activeElement===G.current||(X=G.current)!=null&&X.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[s]),Y.useEffect(()=>{if(G.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,V.current=!1)}},[G.current]),Y.createElement("section",{ref:e,"aria-label":`${_} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((k,W)=>{var z;let[X,se]=k.split("-");return E.length?Y.createElement("ol",{key:k,dir:b==="auto"?xv():b,tabIndex:-1,ref:G,className:a,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":X,"data-lifted":J&&E.length>1&&!i,"data-x-position":se,style:{"--front-toast-height":`${((z=L[0])==null?void 0:z.height)||0}px`,"--width":`${bj}px`,"--gap":`${x}px`,...m,...Tj(l,u)},onBlur:A=>{V.current&&!A.currentTarget.contains(A.relatedTarget)&&(V.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||V.current||(V.current=!0,O.current=A.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{K||U(!1)},onDragEnd:()=>U(!1),onPointerDown:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},E.filter(A=>!A.position&&W===0||A.position===k).map((A,re)=>{var ye,oe;return Y.createElement(kj,{key:A.id,icons:w,index:re,toast:A,defaultRichColors:h,duration:(ye=g==null?void 0:g.duration)!=null?ye:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(oe=g==null?void 0:g.closeButton)!=null?oe:o,interacting:K,position:k,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ee,toasts:E.filter(ie=>ie.position==A.position),heights:L.filter(ie=>ie.position==A.position),setHeights:M,expandByDefault:i,gap:x,loadingIcon:y,expanded:J,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const Nj=({...t})=>{const{theme:e="system"}=tj();return c.jsx(jj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Oj=ap[" useId ".trim().toString()]||(()=>{}),Pj=0;function Ss(t){const[e,r]=p.useState(Oj());return Dt(()=>{t||r(n=>n??String(Pj++))},[t]),t||(e?`radix-${e}`:"")}const Rj=["top","right","bottom","left"],js=Math.min,mr=Math.max,Hc=Math.round,$l=Math.floor,xn=t=>({x:t,y:t}),Aj={left:"right",right:"left",bottom:"top",top:"bottom"},Ij={start:"end",end:"start"};function dh(t,e,r){return mr(t,js(e,r))}function Un(t,e){return typeof t=="function"?t(e):t}function Fn(t){return t.split("-")[0]}function Io(t){return t.split("-")[1]}function im(t){return t==="x"?"y":"x"}function om(t){return t==="y"?"height":"width"}const Dj=new Set(["top","bottom"]);function vn(t){return Dj.has(Fn(t))?"y":"x"}function am(t){return im(vn(t))}function Lj(t,e,r){r===void 0&&(r=!1);const n=Io(t),s=am(t),i=om(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vc(o)),[o,Vc(o)]}function Mj(t){const e=Vc(t);return[fh(t),e,fh(e)]}function fh(t){return t.replace(/start|end/g,e=>Ij[e])}const bv=["left","right"],_v=["right","left"],$j=["top","bottom"],Uj=["bottom","top"];function Fj(t,e,r){switch(t){case"top":case"bottom":return r?e?_v:bv:e?bv:_v;case"left":case"right":return e?$j:Uj;default:return[]}}function Bj(t,e,r,n){const s=Io(t);let i=Fj(Fn(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(fh)))),i}function Vc(t){return t.replace(/left|right|bottom|top/g,e=>Aj[e])}function zj(t){return{top:0,right:0,bottom:0,left:0,...t}}function E1(t){return typeof t!="number"?zj(t):{top:t,right:t,bottom:t,left:t}}function qc(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Sv(t,e,r){let{reference:n,floating:s}=t;const i=vn(e),o=am(e),a=om(o),l=Fn(e),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Io(e)){case"start":m[o]-=f*(r&&u?-1:1);break;case"end":m[o]+=f*(r&&u?-1:1);break}return m}const Wj=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=Sv(u,n,l),f=n,m={},v=0;for(let g=0;g<a.length;g++){const{name:b,fn:x}=a[g],{x:y,y:w,data:_,reset:S}=await x({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,h=w??h,m={...m,[b]:{...m[b],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:h}=Sv(u,f,l)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Ua(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Un(e,t),v=E1(m),b=a[f?h==="floating"?"reference":"floating":h],x=qc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=qc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(x.top-S.top+v.top)/_.y,bottom:(S.bottom-x.bottom+v.bottom)/_.y,left:(x.left-S.left+v.left)/_.x,right:(S.right-x.right+v.right)/_.x}}const Hj=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Un(t,e)||{};if(u==null)return{};const h=E1(d),f={x:r,y:n},m=am(s),v=om(m),g=await o.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[m]-f[m]-i.floating[v],S=f[m]-i.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=E?E[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[w]||i.floating[v]);const j=_/2-S/2,L=C/2-g[v]/2-1,M=js(h[x],L),J=js(h[y],L),U=M,K=C-g[v]-J,P=C/2-g[v]/2+j,H=dh(U,P,K),$=!l.arrow&&Io(s)!=null&&P!==H&&i.reference[v]/2-(P<U?M:J)-g[v]/2<0,G=$?P<U?P-U:P-K:0;return{[m]:f[m]+G,data:{[m]:H,centerOffset:P-H-G,...$&&{alignmentOffset:G}},reset:$}}}),Vj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Un(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Fn(s),y=vn(a),w=Fn(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=f||(w||!g?[Vc(a)]:Mj(a)),E=v!=="none";!f&&E&&S.push(...Bj(a,g,v,_));const C=[a,...S],j=await Ua(e,b),L=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&L.push(j[x]),h){const P=Lj(s,o,_);L.push(j[P[0]],j[P[1]])}if(M=[...M,{placement:s,overflows:L}],!L.every(P=>P<=0)){var J,U;const P=(((J=i.flip)==null?void 0:J.index)||0)+1,H=C[P];if(H&&(!(h==="alignment"?y!==vn(H):!1)||M.every(T=>T.overflows[0]>0&&vn(T.placement)===y)))return{data:{index:P,overflows:M},reset:{placement:H}};let $=(U=M.filter(G=>G.overflows[0]<=0).sort((G,T)=>G.overflows[1]-T.overflows[1])[0])==null?void 0:U.placement;if(!$)switch(m){case"bestFit":{var K;const G=(K=M.filter(T=>{if(E){const O=vn(T.placement);return O===y||O==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(O=>O>0).reduce((O,V)=>O+V,0)]).sort((T,O)=>T[1]-O[1])[0])==null?void 0:K[0];G&&($=G);break}case"initialPlacement":$=a;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function Ev(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Cv(t){return Rj.some(e=>t[e]>=0)}const qj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Un(t,e);switch(n){case"referenceHidden":{const i=await Ua(e,{...s,elementContext:"reference"}),o=Ev(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Cv(o)}}}case"escaped":{const i=await Ua(e,{...s,altBoundary:!0}),o=Ev(i,r.floating);return{data:{escapedOffsets:o,escaped:Cv(o)}}}default:return{}}}}},C1=new Set(["left","top"]);async function Kj(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Fn(r),a=Io(r),l=vn(r)==="y",u=C1.has(o)?-1:1,d=i&&l?-1:1,h=Un(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const Gj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Kj(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Qj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x,y}=b;return{x,y}}},...l}=Un(t,e),u={x:r,y:n},d=await Ua(e,l),h=vn(Fn(s)),f=im(h);let m=u[f],v=u[h];if(i){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=m+d[b],w=m-d[x];m=dh(y,m,w)}if(o){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=v+d[b],w=v-d[x];v=dh(y,v,w)}const g=a.fn({...e,[f]:m,[h]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:i,[h]:o}}}}}},Yj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Un(t,e),d={x:r,y:n},h=vn(s),f=im(h);let m=d[f],v=d[h];const g=Un(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=f==="y"?"height":"width",_=i.reference[f]-i.floating[w]+b.mainAxis,S=i.reference[f]+i.reference[w]-b.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var x,y;const w=f==="y"?"width":"height",_=C1.has(Fn(s)),S=i.reference[h]-i.floating[w]+(_&&((x=o.offset)==null?void 0:x[h])||0)+(_?0:b.crossAxis),E=i.reference[h]+i.reference[w]+(_?0:((y=o.offset)==null?void 0:y[h])||0)-(_?b.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[f]:m,[h]:v}}}},Jj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Un(t,e),d=await Ua(e,u),h=Fn(s),f=Io(s),m=vn(s)==="y",{width:v,height:g}=i.floating;let b,x;h==="top"||h==="bottom"?(b=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,b=f==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=v-d.left-d.right,_=js(g-d[b],y),S=js(v-d[x],w),E=!e.middlewareData.shift;let C=_,j=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(j=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=y),E&&!f){const M=mr(d.left,0),J=mr(d.right,0),U=mr(d.top,0),K=mr(d.bottom,0);m?j=v-2*(M!==0||J!==0?M+J:mr(d.left,d.right)):C=g-2*(U!==0||K!==0?U+K:mr(d.top,d.bottom))}await l({...e,availableWidth:j,availableHeight:C});const L=await o.getDimensions(a.floating);return v!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function Tu(){return typeof window<"u"}function Do(t){return k1(t)?(t.nodeName||"").toLowerCase():"#document"}function br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _n(t){var e;return(e=(k1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function k1(t){return Tu()?t instanceof Node||t instanceof br(t).Node:!1}function rn(t){return Tu()?t instanceof Element||t instanceof br(t).Element:!1}function bn(t){return Tu()?t instanceof HTMLElement||t instanceof br(t).HTMLElement:!1}function kv(t){return!Tu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof br(t).ShadowRoot}const Xj=new Set(["inline","contents"]);function cl(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=nn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Xj.has(s)}const Zj=new Set(["table","td","th"]);function eN(t){return Zj.has(Do(t))}const tN=[":popover-open",":modal"];function ju(t){return tN.some(e=>{try{return t.matches(e)}catch{return!1}})}const rN=["transform","translate","scale","rotate","perspective"],nN=["transform","translate","scale","rotate","perspective","filter"],sN=["paint","layout","strict","content"];function lm(t){const e=cm(),r=rn(t)?nn(t):t;return rN.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||nN.some(n=>(r.willChange||"").includes(n))||sN.some(n=>(r.contain||"").includes(n))}function iN(t){let e=Ns(t);for(;bn(e)&&!To(e);){if(lm(e))return e;if(ju(e))return null;e=Ns(e)}return null}function cm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oN=new Set(["html","body","#document"]);function To(t){return oN.has(Do(t))}function nn(t){return br(t).getComputedStyle(t)}function Nu(t){return rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ns(t){if(Do(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kv(t)&&t.host||_n(t);return kv(e)?e.host:e}function T1(t){const e=Ns(t);return To(e)?t.ownerDocument?t.ownerDocument.body:t.body:bn(e)&&cl(e)?e:T1(e)}function Fa(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=T1(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=br(s);if(i){const a=hh(o);return e.concat(o,o.visualViewport||[],cl(s)?s:[],a&&r?Fa(a):[])}return e.concat(s,Fa(s,[],r))}function hh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function j1(t){const e=nn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=bn(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,a=Hc(r)!==i||Hc(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function um(t){return rn(t)?t:t.contextElement}function so(t){const e=um(t);if(!bn(e))return xn(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=j1(e);let o=(i?Hc(r.width):r.width)/n,a=(i?Hc(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const aN=xn(0);function N1(t){const e=br(t);return!cm()||!e.visualViewport?aN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lN(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==br(t)?!1:e}function ui(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=um(t);let o=xn(1);e&&(n?rn(n)&&(o=so(n)):o=so(t));const a=lN(i,r,n)?N1(i):xn(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=br(i),m=n&&rn(n)?br(n):n;let v=f,g=hh(v);for(;g&&n&&m!==v;){const b=so(g),x=g.getBoundingClientRect(),y=nn(g),w=x.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,_=x.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=w,u+=_,v=br(g),g=hh(v)}}return qc({width:d,height:h,x:l,y:u})}function dm(t,e){const r=Nu(t).scrollLeft;return e?e.left+r:ui(_n(t)).left+r}function O1(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:dm(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function cN(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=_n(n),a=e?ju(e.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=xn(1);const d=xn(0),h=bn(n);if((h||!h&&!i)&&((Do(n)!=="body"||cl(o))&&(l=Nu(n)),bn(n))){const m=ui(n);u=so(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const f=o&&!h&&!i?O1(o,l,!0):xn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:r.y*u.y-l.scrollTop*u.y+d.y+f.y}}function uN(t){return Array.from(t.getClientRects())}function dN(t){const e=_n(t),r=Nu(t),n=t.ownerDocument.body,s=mr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=mr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+dm(t);const a=-r.scrollTop;return nn(n).direction==="rtl"&&(o+=mr(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function fN(t,e){const r=br(t),n=_n(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=cm();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const hN=new Set(["absolute","fixed"]);function pN(t,e){const r=ui(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=bn(t)?so(t):xn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:a,x:l,y:u}}function Tv(t,e,r){let n;if(e==="viewport")n=fN(t,r);else if(e==="document")n=dN(_n(t));else if(rn(e))n=pN(e,r);else{const s=N1(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return qc(n)}function P1(t,e){const r=Ns(t);return r===e||!rn(r)||To(r)?!1:nn(r).position==="fixed"||P1(r,e)}function mN(t,e){const r=e.get(t);if(r)return r;let n=Fa(t,[],!1).filter(a=>rn(a)&&Do(a)!=="body"),s=null;const i=nn(t).position==="fixed";let o=i?Ns(t):t;for(;rn(o)&&!To(o);){const a=nn(o),l=lm(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&hN.has(s.position)||cl(o)&&!l&&P1(t,o))?n=n.filter(d=>d!==o):s=a,o=Ns(o)}return e.set(t,n),n}function gN(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?ju(e)?[]:mN(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,d)=>{const h=Tv(e,d,s);return u.top=mr(h.top,u.top),u.right=js(h.right,u.right),u.bottom=js(h.bottom,u.bottom),u.left=mr(h.left,u.left),u},Tv(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vN(t){const{width:e,height:r}=j1(t);return{width:e,height:r}}function yN(t,e,r){const n=bn(e),s=_n(e),i=r==="fixed",o=ui(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=xn(0);function u(){l.x=dm(s)}if(n||!n&&!i)if((Do(e)!=="body"||cl(s))&&(a=Nu(e)),n){const m=ui(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?O1(s,a):xn(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function jd(t){return nn(t).position==="static"}function jv(t,e){if(!bn(t)||nn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return _n(t)===r&&(r=r.ownerDocument.body),r}function R1(t,e){const r=br(t);if(ju(t))return r;if(!bn(t)){let s=Ns(t);for(;s&&!To(s);){if(rn(s)&&!jd(s))return s;s=Ns(s)}return r}let n=jv(t,e);for(;n&&eN(n)&&jd(n);)n=jv(n,e);return n&&To(n)&&jd(n)&&!lm(n)?r:n||iN(t)||r}const wN=async function(t){const e=this.getOffsetParent||R1,r=this.getDimensions,n=await r(t.floating);return{reference:yN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xN(t){return nn(t).direction==="rtl"}const bN={convertOffsetParentRelativeRectToViewportRelativeRect:cN,getDocumentElement:_n,getClippingRect:gN,getOffsetParent:R1,getElementRects:wN,getClientRects:uN,getDimensions:vN,getScale:so,isElement:rn,isRTL:xN};function A1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _N(t,e){let r=null,n;const s=_n(t);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(a||e(),!f||!m)return;const v=$l(h),g=$l(s.clientWidth-(d+f)),b=$l(s.clientHeight-(h+m)),x=$l(d),w={rootMargin:-v+"px "+-g+"px "+-b+"px "+-x+"px",threshold:mr(0,js(1,l))||1};let _=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!_)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!A1(u,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(t)}return o(!0),i}function SN(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=um(t),d=s||i?[...u?Fa(u):[],...Fa(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const h=u&&a?_N(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),r()}),u&&!l&&m.observe(u),m.observe(e));let v,g=l?ui(t):null;l&&b();function b(){const x=ui(t);g&&!A1(g,x)&&r(),g=x,v=requestAnimationFrame(b)}return r(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const EN=Gj,CN=Qj,kN=Vj,TN=Jj,jN=qj,Nv=Hj,NN=Yj,ON=(t,e,r)=>{const n=new Map,s={platform:bN,...r},i={...s.platform,_c:n};return Wj(t,e,{...s,platform:i})};var PN=typeof document<"u",RN=function(){},fc=PN?p.useLayoutEffect:RN;function Kc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Kc(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Kc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function I1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ov(t,e){const r=I1(t);return Math.round(e*r)/r}function Nd(t){const e=p.useRef(t);return fc(()=>{e.current=t}),e}function AN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=p.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(n);Kc(f,n)||m(n);const[v,g]=p.useState(null),[b,x]=p.useState(null),y=p.useCallback(T=>{T!==E.current&&(E.current=T,g(T))},[]),w=p.useCallback(T=>{T!==C.current&&(C.current=T,x(T))},[]),_=i||v,S=o||b,E=p.useRef(null),C=p.useRef(null),j=p.useRef(d),L=l!=null,M=Nd(l),J=Nd(s),U=Nd(u),K=p.useCallback(()=>{if(!E.current||!C.current)return;const T={placement:e,strategy:r,middleware:f};J.current&&(T.platform=J.current),ON(E.current,C.current,T).then(O=>{const V={...O,isPositioned:U.current!==!1};P.current&&!Kc(j.current,V)&&(j.current=V,vi.flushSync(()=>{h(V)}))})},[f,e,r,J,U]);fc(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(T=>({...T,isPositioned:!1})))},[u]);const P=p.useRef(!1);fc(()=>(P.current=!0,()=>{P.current=!1}),[]),fc(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(M.current)return M.current(_,S,K);K()}},[_,S,K,M,L]);const H=p.useMemo(()=>({reference:E,floating:C,setReference:y,setFloating:w}),[y,w]),$=p.useMemo(()=>({reference:_,floating:S}),[_,S]),G=p.useMemo(()=>{const T={position:r,left:0,top:0};if(!$.floating)return T;const O=Ov($.floating,d.x),V=Ov($.floating,d.y);return a?{...T,transform:"translate("+O+"px, "+V+"px)",...I1($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:V}},[r,a,$.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:K,refs:H,elements:$,floatingStyles:G}),[d,K,H,$,G])}const IN=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Nv({element:n.current,padding:s}).fn(r):{}:n?Nv({element:n,padding:s}).fn(r):{}}}},DN=(t,e)=>({...EN(t),options:[t,e]}),LN=(t,e)=>({...CN(t),options:[t,e]}),MN=(t,e)=>({...NN(t),options:[t,e]}),$N=(t,e)=>({...kN(t),options:[t,e]}),UN=(t,e)=>({...TN(t),options:[t,e]}),FN=(t,e)=>({...jN(t),options:[t,e]}),BN=(t,e)=>({...IN(t),options:[t,e]});var zN="Arrow",D1=p.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return c.jsx(ke.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});D1.displayName=zN;var WN=D1;function HN(t){const[e,r]=p.useState(void 0);return Dt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var fm="Popper",[L1,Ou]=zn(fm),[VN,M1]=L1(fm),$1=t=>{const{__scopePopper:e,children:r}=t,[n,s]=p.useState(null);return c.jsx(VN,{scope:e,anchor:n,onAnchorChange:s,children:r})};$1.displayName=fm;var U1="PopperAnchor",F1=p.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=M1(U1,r),o=p.useRef(null),a=Be(e,o);return p.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:c.jsx(ke.div,{...s,ref:a})});F1.displayName=U1;var hm="PopperContent",[qN,KN]=L1(hm),B1=p.forwardRef((t,e)=>{var A,re,ye,oe,ie,ce;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,b=M1(hm,r),[x,y]=p.useState(null),w=Be(e,ze=>y(ze)),[_,S]=p.useState(null),E=HN(_),C=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,L=n+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},J=Array.isArray(u)?u:[u],U=J.length>0,K={padding:M,boundary:J.filter(QN),altBoundary:U},{refs:P,floatingStyles:H,placement:$,isPositioned:G,middlewareData:T}=AN({strategy:"fixed",placement:L,whileElementsMounted:(...ze)=>SN(...ze,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[DN({mainAxis:s+j,alignmentAxis:o}),l&&LN({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?MN():void 0,...K}),l&&$N({...K}),UN({...K,apply:({elements:ze,rects:yt,availableWidth:Lt,availableHeight:ht})=>{const{width:ur,height:Ht}=yt.reference,Q=ze.floating.style;Q.setProperty("--radix-popper-available-width",`${Lt}px`),Q.setProperty("--radix-popper-available-height",`${ht}px`),Q.setProperty("--radix-popper-anchor-width",`${ur}px`),Q.setProperty("--radix-popper-anchor-height",`${Ht}px`)}}),_&&BN({element:_,padding:a}),YN({arrowWidth:C,arrowHeight:j}),f&&FN({strategy:"referenceHidden",...K})]}),[O,V]=H1($),ee=Lr(v);Dt(()=>{G&&(ee==null||ee())},[G,ee]);const k=(A=T.arrow)==null?void 0:A.x,W=(re=T.arrow)==null?void 0:re.y,z=((ye=T.arrow)==null?void 0:ye.centerOffset)!==0,[X,se]=p.useState();return Dt(()=>{x&&se(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:G?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(oe=T.transformOrigin)==null?void 0:oe.x,(ie=T.transformOrigin)==null?void 0:ie.y].join(" "),...((ce=T.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(qN,{scope:r,placedSide:O,onArrowChange:S,arrowX:k,arrowY:W,shouldHideArrow:z,children:c.jsx(ke.div,{"data-side":O,"data-align":V,...g,ref:w,style:{...g.style,animation:G?void 0:"none"}})})})});B1.displayName=hm;var z1="PopperArrow",GN={top:"bottom",right:"left",bottom:"top",left:"right"},W1=p.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=KN(z1,n),o=GN[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(WN,{...s,ref:r,style:{...s.style,display:"block"}})})});W1.displayName=z1;function QN(t){return t!==null}var YN=t=>({name:"transformOrigin",options:t,fn(e){var b,x,y;const{placement:r,rects:n,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=H1(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let v="",g="";return u==="bottom"?(v=o?h:`${f}px`,g=`${-l}px`):u==="top"?(v=o?h:`${f}px`,g=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,g=o?h:`${m}px`):u==="left"&&(v=`${n.floating.width+l}px`,g=o?h:`${m}px`),{data:{x:v,y:g}}}});function H1(t){const[e,r="center"]=t.split("-");return[e,r]}var JN=$1,V1=F1,q1=B1,K1=W1,[Pu,CM]=zn("Tooltip",[Ou]),pm=Ou(),G1="TooltipProvider",XN=700,Pv="tooltip.open",[ZN,Q1]=Pu(G1),Y1=t=>{const{__scopeTooltip:e,delayDuration:r=XN,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),a=p.useRef(!1),l=p.useRef(0);return p.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(ZN,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};Y1.displayName=G1;var J1="Tooltip",[kM,Ru]=Pu(J1),ph="TooltipTrigger",eO=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Ru(ph,r),i=Q1(ph,r),o=pm(r),a=p.useRef(null),l=Be(e,a,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(V1,{asChild:!0,...o,children:c.jsx(ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:de(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:de(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:de(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:de(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:de(t.onBlur,s.onClose),onClick:de(t.onClick,s.onClose)})})});eO.displayName=ph;var tO="TooltipPortal",[TM,rO]=Pu(tO,{forceMount:void 0}),jo="TooltipContent",X1=p.forwardRef((t,e)=>{const r=rO(jo,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=Ru(jo,t.__scopeTooltip);return c.jsx(wi,{present:n||o.open,children:o.disableHoverableContent?c.jsx(Z1,{side:s,...i,ref:e}):c.jsx(nO,{side:s,...i,ref:e})})}),nO=p.forwardRef((t,e)=>{const r=Ru(jo,t.__scopeTooltip),n=Q1(jo,t.__scopeTooltip),s=p.useRef(null),i=Be(e,s),[o,a]=p.useState(null),{trigger:l,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,f=p.useCallback(()=>{a(null),h(!1)},[h]),m=p.useCallback((v,g)=>{const b=v.currentTarget,x={x:v.clientX,y:v.clientY},y=lO(x,b.getBoundingClientRect()),w=cO(x,y),_=uO(g.getBoundingClientRect()),S=fO([...w,..._]);a(S),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(l&&d){const v=b=>m(b,d),g=b=>m(b,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[l,d,m,f]),p.useEffect(()=>{if(o){const v=g=>{const b=g.target,x={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),w=!dO(x,o);y?f():w&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,u,f]),c.jsx(Z1,{...t,ref:i})}),[sO,iO]=Pu(J1,{isInside:!1}),oO=Px("TooltipContent"),Z1=p.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Ru(jo,r),u=pm(r),{onClose:d}=l;return p.useEffect(()=>(document.addEventListener(Pv,d),()=>document.removeEventListener(Pv,d)),[d]),p.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(al,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(q1,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(oO,{children:n}),c.jsx(sO,{scope:r,isInside:!0,children:c.jsx(N2,{id:l.contentId,role:"tooltip",children:s||n})})]})})});X1.displayName=jo;var eb="TooltipArrow",aO=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=pm(r);return iO(eb,r).isInside?null:c.jsx(K1,{...s,...n,ref:e})});aO.displayName=eb;function lO(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cO(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function uO(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function dO(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>n!=f>n&&r<(h-u)*(n-d)/(f-d)+u&&(s=!s)}return s}function fO(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),hO(e)}function hO(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var pO=Y1,tb=X1;const mO=pO,gO=p.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(tb,{ref:n,sideOffset:e,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));gO.displayName=tb.displayName;var Au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Iu=typeof window>"u"||"Deno"in globalThis;function Hr(){}function vO(t,e){return typeof t=="function"?t(e):t}function yO(t){return typeof t=="number"&&t>=0&&t!==1/0}function wO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mh(t,e){return typeof t=="function"?t(e):t}function xO(t,e){return typeof t=="function"?t(e):t}function Rv(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==mm(o,e.options))return!1}else if(!za(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Av(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Ba(e.options.mutationKey)!==Ba(i))return!1}else if(!za(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function mm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ba)(t)}function Ba(t){return JSON.stringify(t,(e,r)=>gh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function za(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>za(t[r],e[r])):!1}function rb(t,e){if(t===e)return t;const r=Iv(t)&&Iv(e);if(r||gh(t)&&gh(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&l.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=rb(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Iv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gh(t){if(!Dv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Dv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Dv(t){return Object.prototype.toString.call(t)==="[object Object]"}function bO(t){return new Promise(e=>{setTimeout(e,t)})}function _O(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?rb(t,e):e}function SO(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function EO(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var gm=Symbol();function nb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===gm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ys,as,lo,oy,CO=(oy=class extends Au{constructor(){super();Pe(this,Ys);Pe(this,as);Pe(this,lo);xe(this,lo,e=>{if(!Iu&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,as)||this.setEventListener(F(this,lo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,as))==null||e.call(this),xe(this,as,void 0))}setEventListener(e){var r;xe(this,lo,e),(r=F(this,as))==null||r.call(this),xe(this,as,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){F(this,Ys)!==e&&(xe(this,Ys,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof F(this,Ys)=="boolean"?F(this,Ys):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ys=new WeakMap,as=new WeakMap,lo=new WeakMap,oy),sb=new CO,co,ls,uo,ay,kO=(ay=class extends Au{constructor(){super();Pe(this,co,!0);Pe(this,ls);Pe(this,uo);xe(this,uo,e=>{if(!Iu&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,ls)||this.setEventListener(F(this,uo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ls))==null||e.call(this),xe(this,ls,void 0))}setEventListener(e){var r;xe(this,uo,e),(r=F(this,ls))==null||r.call(this),xe(this,ls,e(this.setOnline.bind(this)))}setOnline(e){F(this,co)!==e&&(xe(this,co,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return F(this,co)}},co=new WeakMap,ls=new WeakMap,uo=new WeakMap,ay),Gc=new kO;function TO(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function jO(t){return Math.min(1e3*2**t,3e4)}function ib(t){return(t??"online")==="online"?Gc.isOnline():!0}var ob=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Od(t){return t instanceof ob}function ab(t){let e=!1,r=0,n=!1,s;const i=TO(),o=g=>{var b;n||(f(new ob(g)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>sb.isFocused()&&(t.networkMode==="always"||Gc.isOnline())&&t.canRun(),d=()=>ib(t.networkMode)&&t.canRun(),h=g=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var b;s=x=>{(n||u())&&g(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;s=void 0,n||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(n)return;let g;const b=r===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var E;if(n)return;const y=t.retry??(Iu?0:3),w=t.retryDelay??jO,_=typeof w=="function"?w(r,x):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(e||!S){f(x);return}r++,(E=t.onFail)==null||E.call(t,r,x),bO(_).then(()=>u()?void 0:m()).then(()=>{e?f(x):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),i)}}var NO=t=>setTimeout(t,0);function OO(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=NO;const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Qt=OO(),Js,ly,lb=(ly=class{constructor(){Pe(this,Js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yO(this.gcTime)&&xe(this,Js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Iu?1/0:5*60*1e3))}clearGcTimeout(){F(this,Js)&&(clearTimeout(F(this,Js)),xe(this,Js,void 0))}},Js=new WeakMap,ly),fo,Xs,jr,Zs,Bt,el,ei,qr,Cn,cy,PO=(cy=class extends lb{constructor(e){super();Pe(this,qr);Pe(this,fo);Pe(this,Xs);Pe(this,jr);Pe(this,Zs);Pe(this,Bt);Pe(this,el);Pe(this,ei);xe(this,ei,!1),xe(this,el,e.defaultOptions),this.setOptions(e.options),this.observers=[],xe(this,Zs,e.client),xe(this,jr,F(this,Zs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,xe(this,fo,AO(this.options)),this.state=e.state??F(this,fo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=F(this,Bt))==null?void 0:e.promise}setOptions(e){this.options={...F(this,el),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,jr).remove(this)}setData(e,r){const n=_O(this.state.data,e,this.options);return Mt(this,qr,Cn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Mt(this,qr,Cn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=F(this,Bt))==null?void 0:n.promise;return(s=F(this,Bt))==null||s.cancel(e),r?r.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,fo))}isActive(){return this.observers.some(e=>xO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>mh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wO(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=F(this,Bt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=F(this,Bt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),F(this,jr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(F(this,Bt)&&(F(this,ei)?F(this,Bt).cancel({revert:!0}):F(this,Bt).cancelRetry()),this.scheduleGc()),F(this,jr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mt(this,qr,Cn).call(this,{type:"invalidate"})}fetch(e,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Bt))return F(this,Bt).continueRetry(),F(this,Bt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(xe(this,ei,!0),n.signal)})},i=()=>{const f=nb(this.options,r),v=(()=>{const g={client:F(this,Zs),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return xe(this,ei,!1),this.options.persister?this.options.persister(f,v,this):f(v)},a=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Zs),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(a,this),xe(this,Xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Mt(this,qr,Cn).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,v,g,b;Od(f)&&f.silent||Mt(this,qr,Cn).call(this,{type:"error",error:f}),Od(f)||((v=(m=F(this,jr).config).onError)==null||v.call(m,f,this),(b=(g=F(this,jr).config).onSettled)==null||b.call(g,this.state.data,f,this)),this.scheduleGc()};return xe(this,Bt,ab({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var m,v,g,b;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(v=(m=F(this,jr).config).onSuccess)==null||v.call(m,f,this),(b=(g=F(this,jr).config).onSettled)==null||b.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Mt(this,qr,Cn).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Mt(this,qr,Cn).call(this,{type:"pause"})},onContinue:()=>{Mt(this,qr,Cn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),F(this,Bt).start()}},fo=new WeakMap,Xs=new WeakMap,jr=new WeakMap,Zs=new WeakMap,Bt=new WeakMap,el=new WeakMap,ei=new WeakMap,qr=new WeakSet,Cn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RO(n.data,this.options),fetchMeta:e.meta??null};case"success":return xe(this,Xs,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Od(s)&&s.revert&&F(this,Xs)?{...F(this,Xs),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Qt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,jr).notify({query:this,type:"updated",action:e})})},cy);function RO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ib(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var dn,uy,IO=(uy=class extends Au{constructor(e={}){super();Pe(this,dn);this.config=e,xe(this,dn,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??mm(s,r);let o=this.get(i);return o||(o=new PO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,dn).has(e.queryHash)||(F(this,dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=F(this,dn).get(e.queryHash);r&&(e.destroy(),r===e&&F(this,dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,dn).get(e)}getAll(){return[...F(this,dn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Rv(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Rv(e,n)):r}notify(e){Qt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dn=new WeakMap,uy),fn,Kt,ti,hn,Xn,dy,DO=(dy=class extends lb{constructor(e){super();Pe(this,hn);Pe(this,fn);Pe(this,Kt);Pe(this,ti);this.mutationId=e.mutationId,xe(this,Kt,e.mutationCache),xe(this,fn,[]),this.state=e.state||LO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,fn).includes(e)||(F(this,fn).push(e),this.clearGcTimeout(),F(this,Kt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){xe(this,fn,F(this,fn).filter(r=>r!==e)),this.scheduleGc(),F(this,Kt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,fn).length||(this.state.status==="pending"?this.scheduleGc():F(this,Kt).remove(this))}continue(){var e;return((e=F(this,ti))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,u,d,h,f,m,v,g,b,x,y,w,_,S,E,C,j;const r=()=>{Mt(this,hn,Xn).call(this,{type:"continue"})};xe(this,ti,ab({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,M)=>{Mt(this,hn,Xn).call(this,{type:"failed",failureCount:L,error:M})},onPause:()=>{Mt(this,hn,Xn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Kt).canRun(this)}));const n=this.state.status==="pending",s=!F(this,ti).canStart();try{if(n)r();else{Mt(this,hn,Xn).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=F(this,Kt).config).onMutate)==null?void 0:o.call(i,e,this));const M=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));M!==this.state.context&&Mt(this,hn,Xn).call(this,{type:"pending",context:M,variables:e,isPaused:s})}const L=await F(this,ti).start();return await((d=(u=F(this,Kt).config).onSuccess)==null?void 0:d.call(u,L,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,L,e,this.state.context)),await((v=(m=F(this,Kt).config).onSettled)==null?void 0:v.call(m,L,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,L,null,e,this.state.context)),Mt(this,hn,Xn).call(this,{type:"success",data:L}),L}catch(L){try{throw await((y=(x=F(this,Kt).config).onError)==null?void 0:y.call(x,L,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,L,e,this.state.context)),await((E=(S=F(this,Kt).config).onSettled)==null?void 0:E.call(S,void 0,L,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,L,e,this.state.context)),L}finally{Mt(this,hn,Xn).call(this,{type:"error",error:L})}}finally{F(this,Kt).runNext(this)}}},fn=new WeakMap,Kt=new WeakMap,ti=new WeakMap,hn=new WeakSet,Xn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qt.batch(()=>{F(this,fn).forEach(n=>{n.onMutationUpdate(e)}),F(this,Kt).notify({mutation:this,type:"updated",action:e})})},dy);function LO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nn,Kr,tl,fy,MO=(fy=class extends Au{constructor(e={}){super();Pe(this,Nn);Pe(this,Kr);Pe(this,tl);this.config=e,xe(this,Nn,new Set),xe(this,Kr,new Map),xe(this,tl,0)}build(e,r,n){const s=new DO({mutationCache:this,mutationId:++vl(this,tl)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){F(this,Nn).add(e);const r=Ul(e);if(typeof r=="string"){const n=F(this,Kr).get(r);n?n.push(e):F(this,Kr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,Nn).delete(e)){const r=Ul(e);if(typeof r=="string"){const n=F(this,Kr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&F(this,Kr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ul(e);if(typeof r=="string"){const n=F(this,Kr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Ul(e);if(typeof r=="string"){const s=(n=F(this,Kr).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qt.batch(()=>{F(this,Nn).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,Nn).clear(),F(this,Kr).clear()})}getAll(){return Array.from(F(this,Nn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Av(r,n))}findAll(e={}){return this.getAll().filter(r=>Av(e,r))}notify(e){Qt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Qt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Hr))))}},Nn=new WeakMap,Kr=new WeakMap,tl=new WeakMap,fy);function Ul(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Lv(t){return{onFetch:(e,r)=>{var d,h,f,m,v;const n=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=nb(e.options,e.fetchOptions),y=async(w,_,S)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const J={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return b(J),J})(),j=await x(C),{maxPages:L}=e.options,M=S?EO:SO;return{pages:M(w.pages,j,L),pageParams:M(w.pageParams,_,L)}};if(s&&i.length){const w=s==="backward",_=w?$O:Mv,S={pages:i,pageParams:o},E=_(n,S);a=await y(S,E,w)}else{const w=t??i.length;do{const _=l===0?o[0]??n.initialPageParam:Mv(n,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Mv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function $O(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var rt,cs,us,ho,po,ds,mo,go,hy,UO=(hy=class{constructor(t={}){Pe(this,rt);Pe(this,cs);Pe(this,us);Pe(this,ho);Pe(this,po);Pe(this,ds);Pe(this,mo);Pe(this,go);xe(this,rt,t.queryCache||new IO),xe(this,cs,t.mutationCache||new MO),xe(this,us,t.defaultOptions||{}),xe(this,ho,new Map),xe(this,po,new Map),xe(this,ds,0)}mount(){vl(this,ds)._++,F(this,ds)===1&&(xe(this,mo,sb.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,rt).onFocus())})),xe(this,go,Gc.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,rt).onOnline())})))}unmount(){var t,e;vl(this,ds)._--,F(this,ds)===0&&((t=F(this,mo))==null||t.call(this),xe(this,mo,void 0),(e=F(this,go))==null||e.call(this),xe(this,go,void 0))}isFetching(t){return F(this,rt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,cs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=F(this,rt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=F(this,rt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(mh(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return F(this,rt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=F(this,rt).get(n.queryHash),i=s==null?void 0:s.state.data,o=vO(e,i);if(o!==void 0)return F(this,rt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Qt.batch(()=>F(this,rt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=F(this,rt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=F(this,rt);Qt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=F(this,rt);return Qt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Qt.batch(()=>F(this,rt).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Hr).catch(Hr)}invalidateQueries(t,e={}){return Qt.batch(()=>(F(this,rt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Qt.batch(()=>F(this,rt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=F(this,rt).build(this,e);return r.isStaleByTime(mh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hr).catch(Hr)}fetchInfiniteQuery(t){return t.behavior=Lv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hr).catch(Hr)}ensureInfiniteQueryData(t){return t.behavior=Lv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gc.isOnline()?F(this,cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,rt)}getMutationCache(){return F(this,cs)}getDefaultOptions(){return F(this,us)}setDefaultOptions(t){xe(this,us,t)}setQueryDefaults(t,e){F(this,ho).set(Ba(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,ho).values()],r={};return e.forEach(n=>{za(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){F(this,po).set(Ba(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,po).values()],r={};return e.forEach(n=>{za(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,rt).clear(),F(this,cs).clear()}},rt=new WeakMap,cs=new WeakMap,us=new WeakMap,ho=new WeakMap,po=new WeakMap,ds=new WeakMap,mo=new WeakMap,go=new WeakMap,hy),FO=p.createContext(void 0),BO=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(FO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wa.apply(this,arguments)}var ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ps||(ps={}));const $v="popstate";function zO(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return vh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qc(s)}return HO(e,r,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WO(){return Math.random().toString(36).substr(2,8)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function vh(t,e,r,n){return r===void 0&&(r=null),Wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lo(e):e,{state:r,key:e&&e.key||n||WO()})}function Qc(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function HO(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ps.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Wa({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ps.Pop;let b=d(),x=b==null?null:b-u;u=b,l&&l({action:a,location:g.location,delta:x})}function f(b,x){a=ps.Push;let y=vh(g.location,b,x);u=d()+1;let w=Uv(y,u),_=g.createHref(y);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:g.location,delta:1})}function m(b,x){a=ps.Replace;let y=vh(g.location,b,x);u=d();let w=Uv(y,u),_=g.createHref(y);o.replaceState(w,"",_),i&&l&&l({action:a,location:g.location,delta:0})}function v(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:Qc(b);return y=y.replace(/ $/,"%20"),ft(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($v,h),l=b,()=>{s.removeEventListener($v,h),l=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(b){return o.go(b)}};return g}var Fv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fv||(Fv={}));function VO(t,e,r){return r===void 0&&(r="/"),qO(t,e,r,!1)}function qO(t,e,r,n){let s=typeof e=="string"?Lo(e):e,i=vm(s.pathname||"/",r);if(i==null)return null;let o=ub(t);KO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=sP(i);a=rP(o[l],u,n)}return a}function ub(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Es([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ub(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:eP(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of db(i.path))s(i,o,l)}),e}function db(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=db(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KO(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:tP(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GO=/^:[\w-]+$/,QO=3,YO=2,JO=1,XO=10,ZO=-2,Bv=t=>t==="*";function eP(t,e){let r=t.split("/"),n=r.length;return r.some(Bv)&&(n+=ZO),e&&(n+=YO),r.filter(s=>!Bv(s)).reduce((s,i)=>s+(GO.test(i)?QO:i===""?JO:XO),n)}function tP(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function rP(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=zv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=zv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Es([i,h.pathname]),pathnameBase:lP(Es([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Es([i,h.pathnameBase]))}return o}function zv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=nP(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function nP(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),cb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function sP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function iP(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Lo(t):t;return{pathname:r?r.startsWith("/")?r:oP(r,e):e,search:cP(n),hash:uP(s)}}function oP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Pd(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function fb(t,e){let r=aP(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hb(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Lo(t):(s=Wa({},t),ft(!s.pathname||!s.pathname.includes("?"),Pd("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),Pd("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),Pd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=iP(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Es=t=>t.join("/").replace(/\/\/+/g,"/"),lP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pb=["post","put","patch","delete"];new Set(pb);const fP=["get",...pb];new Set(fP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ha.apply(this,arguments)}const ym=p.createContext(null),hP=p.createContext(null),xi=p.createContext(null),Du=p.createContext(null),As=p.createContext({outlet:null,matches:[],isDataRoute:!1}),mb=p.createContext(null);function pP(t,e){let{relative:r}=e===void 0?{}:e;ul()||ft(!1);let{basename:n,navigator:s}=p.useContext(xi),{hash:i,pathname:o,search:a}=vb(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Es([n,o])),s.createHref({pathname:l,search:a,hash:i})}function ul(){return p.useContext(Du)!=null}function dl(){return ul()||ft(!1),p.useContext(Du).location}function gb(t){p.useContext(xi).static||p.useLayoutEffect(t)}function fl(){let{isDataRoute:t}=p.useContext(As);return t?jP():mP()}function mP(){ul()||ft(!1);let t=p.useContext(ym),{basename:e,future:r,navigator:n}=p.useContext(xi),{matches:s}=p.useContext(As),{pathname:i}=dl(),o=JSON.stringify(fb(s,r.v7_relativeSplatPath)),a=p.useRef(!1);return gb(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=hb(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Es([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}function gP(){let{matches:t}=p.useContext(As),e=t[t.length-1];return e?e.params:{}}function vb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=p.useContext(xi),{matches:s}=p.useContext(As),{pathname:i}=dl(),o=JSON.stringify(fb(s,n.v7_relativeSplatPath));return p.useMemo(()=>hb(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function vP(t,e){return yP(t,e)}function yP(t,e,r,n){ul()||ft(!1);let{navigator:s}=p.useContext(xi),{matches:i}=p.useContext(As),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=dl(),d;if(e){var h;let b=typeof e=="string"?Lo(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||ft(!1),d=b}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=VO(t,{pathname:m}),g=SP(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Es([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Es([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&g?p.createElement(Du.Provider,{value:{location:Ha({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ps.Pop}},g):g}function wP(){let t=TP(),e=dP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),r?p.createElement("pre",{style:s},r):null,null)}const xP=p.createElement(wP,null);class bP extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?p.createElement(As.Provider,{value:this.props.routeContext},p.createElement(mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _P(t){let{routeContext:e,match:r,children:n}=t,s=p.useContext(ym);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(As.Provider,{value:e},n)}function SP(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ft(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,v=!1,g=null,b=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||xP,l&&(u<0&&f===0?(v=!0,b=null):u===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),y=()=>{let w;return m?w=g:v?w=b:h.route.Component?w=p.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,p.createElement(_P,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(bP,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var yb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yb||{}),Yc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yc||{});function EP(t){let e=p.useContext(ym);return e||ft(!1),e}function CP(t){let e=p.useContext(hP);return e||ft(!1),e}function kP(t){let e=p.useContext(As);return e||ft(!1),e}function wb(t){let e=kP(),r=e.matches[e.matches.length-1];return r.route.id||ft(!1),r.route.id}function TP(){var t;let e=p.useContext(mb),r=CP(Yc.UseRouteError),n=wb(Yc.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function jP(){let{router:t}=EP(yb.UseNavigateStable),e=wb(Yc.UseNavigateStable),r=p.useRef(!1);return gb(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ha({fromRouteId:e},i)))},[t,e])}function NP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Tr(t){ft(!1)}function OP(t){let{basename:e="/",children:r=null,location:n,navigationType:s=ps.Pop,navigator:i,static:o=!1,future:a}=t;ul()&&ft(!1);let l=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:l,navigator:i,static:o,future:Ha({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Lo(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=n,g=p.useMemo(()=>{let b=vm(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:v},navigationType:s}},[l,d,h,f,m,v,s]);return g==null?null:p.createElement(xi.Provider,{value:u},p.createElement(Du.Provider,{children:r,value:g}))}function Wv(t){let{children:e,location:r}=t;return vP(yh(e),r)}new Promise(()=>{});function yh(t,e){e===void 0&&(e=[]);let r=[];return p.Children.forEach(t,(n,s)=>{if(!p.isValidElement(n))return;let i=[...e,s];if(n.type===p.Fragment){r.push.apply(r,yh(n.props.children,i));return}n.type!==Tr&&ft(!1),!n.props.index||!n.props.children||ft(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wh.apply(this,arguments)}function PP(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function RP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AP(t,e){return t.button===0&&(!e||e==="_self")&&!RP(t)}const IP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DP="6";try{window.__reactRouterVersion=DP}catch{}const LP="startTransition",Hv=ap[LP];function MP(t){let{basename:e,children:r,future:n,window:s}=t,i=p.useRef();i.current==null&&(i.current=zO({window:s,v5Compat:!0}));let o=i.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(h=>{u&&Hv?Hv(()=>l(h)):l(h)},[l,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>NP(n),[n]),p.createElement(OP,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const $P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jr=p.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=PP(e,IP),{basename:m}=p.useContext(xi),v,g=!1;if(typeof u=="string"&&UP.test(u)&&(v=u,$P))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=vm(_.pathname,m);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let b=pP(u,{relative:s}),x=FP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function y(w){n&&n(w),w.defaultPrevented||x(w)}return p.createElement("a",wh({},f,{href:v||b,onClick:g||i?n:y,ref:r,target:l}))});var Vv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vv||(Vv={}));var qv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qv||(qv={}));function FP(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=fl(),u=dl(),d=vb(t,{relative:o});return p.useCallback(h=>{if(AP(h,r)){h.preventDefault();let f=n!==void 0?n:Qc(u)===Qc(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,t,i,o,a])}var gn=function(){return gn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},gn.apply(this,arguments)};function Mo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function BP(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function zP(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}const WP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class wm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class HP extends wm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Kv extends wm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gv extends wm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xh||(xh={}));class VP{constructor(e,{headers:r={},customFetch:n,region:s=xh.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=WP(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return BP(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let b=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const x=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:g,signal:b}).catch(S=>{throw new HP(S)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new Kv(x);if(!x.ok)throw new Gv(x);let w=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield x.json():w==="application/octet-stream"||w==="application/pdf"?_=yield x.blob():w==="text/event-stream"?_=x:w==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(a){return{data:null,error:a,response:a instanceof Gv||a instanceof Kv?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var qP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},KP=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var m;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=x:a=JSON.parse(x))}const g=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");g&&b&&b.length>1&&(l=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const g=await i.text();try{o=JSON.parse(g),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,d="OK")}catch{i.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new qP(o)}return{error:o,data:a,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,d,h,f;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",g=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,g&&(a+=` (${g})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},GP=class extends KP{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Qv=new RegExp("[,()]");var Di=class extends GP{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Qv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},QP=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Di({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new Di({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Di({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Di({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Di({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},YP=class xb{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new QP(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Di({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class JP{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const XP="2.89.0",ZP=`realtime-js/${XP}`,bb="1.0.0",eR="2.0.0",Yv=bb,bh=1e4,tR=1e3,rR=100;var rs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(rs||(rs={}));var pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pt||(pt={}));var Qr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qr||(Qr={}));var _h;(function(t){t.websocket="websocket"})(_h||(_h={}));var Hs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Hs||(Hs={}));class nR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(m),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,l.length),v.setUint8(g++,a.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,h.length),v.setUint8(g++,r),Array.from(l,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(a,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(o,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(h,x=>v.setUint8(g++,x.charCodeAt(0)));var b=new Uint8Array(m.byteLength+n.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(n),m.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class _b{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const Jv=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=sR(o,t,e,s),i),{}):{}},sR=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Sb(i,o):Sh(o)},Sb=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return lR(e,r)}switch(t){case We.bool:return iR(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return oR(e);case We.json:case We.jsonb:return aR(e);case We.timestamp:return cR(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Sh(e);default:return Sh(e)}},Sh=t=>t,iR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},oR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},lR=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Sb(e,a))}return t},cR=t=>typeof t=="string"?t.replace(" ","T"):t,Eb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Rd{constructor(e,r,n={},s=bh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Xv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Xv||(Xv={}));class va{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=va.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=va.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=va.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),v=d.filter(b=>m.indexOf(b.presence_ref)<0),g=h.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(a[u]=v),g.length>0&&(l[u]=g)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zv||(Zv={}));var ya;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ya||(ya={}));var Tn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class Yi{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rd(this,Qr.join,this.params,this.timeout),this.rejoinTimer=new _b(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new va(this),this.broadcastEndpointURL=Eb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ya.PRESENCE]&&this.bindings[ya.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Tn.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Tn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,x=[];for(let y=0;y<b;y++){const w=g[y],{filter:{event:_,schema:S,table:E,filter:C}}=w,j=m&&m[y];if(j&&j.event===_&&Yi.isFilterValueEqual(j.schema,S)&&Yi.isFilterValueEqual(j.table,E)&&Yi.isFilterValueEqual(j.filter,C))x.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=pt.errored,e==null||e(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Tn.SUBSCRIBED);return}}).receive("error",m=>{this.state=pt.errored,e==null||e(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===pt.joined&&e===ya.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Rd(this,Qr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rd(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Qr;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,b;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,g,b,x,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,S=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:g,table:b,commit_timestamp:x,type:y,errors:w}=v;f=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(f,n)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Yi.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qr.close,{},e)}_onError(e){this._on(Qr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Jv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Jv(e.columns,e.old_record)),r}}const Ad=()=>{},Fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uR=[1e3,2e3,5e3,1e4],dR=1e4,fR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hR{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bh,this.transport=null,this.heartbeatIntervalMs=Fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ad,this.ref=0,this.reconnectTimer=null,this.vsn=Yv,this.logger=Ad,this.conn=null,this.sendBuffer=[],this.serializer=new nR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${_h.websocket}`,this.httpEndpoint=Eb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rs.connecting:return Hs.Connecting;case rs.open:return Hs.Open;case rs.closing:return Hs.Closing;default:return Hs.Closed}}isConnected(){return this.connectionState()===Hs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Yi(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===rs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===rs.open||this.conn.readyState===rs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([fR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:ZP};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Qr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _b(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,d,h,f,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:bh,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Fl.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ad,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Yv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>uR[v-1]||dR,this.vsn){case bb:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,g)=>g(JSON.parse(v));break;case eR:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Va=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pR(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function mR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function gR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=pR(t.baseUrl,n,s),l=await mR(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,v=m==null?void 0:m.error;throw new Va((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Bl(t){return t.join("")}var vR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Bl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bl(t.namespace)}`}),!0}catch(e){if(e instanceof Va&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Va&&r.status===409)return;throw r}}};function Ci(t){return t.join("")}var yR=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ci(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ci(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ci(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ci(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ci(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ci(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Va&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Va&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},wR=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=gR({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new vR(this.client,e),this.tableOps=new yR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Lu=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var xR=class extends Lu{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Eh=class extends Lu{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const xm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bR=()=>Response,Ch=t=>{if(Array.isArray(t))return t.map(r=>Ch(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ch(n)}),e},_R=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},SR=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function ER(t,e){if(qa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CR(t){var e=ER(t,"string");return qa(e)=="symbol"?e:e+""}function kR(t,e,r){return(e=CR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e0(Object(r),!0).forEach(function(n){kR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Id=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},TR=async(t,e,r)=>{t instanceof await bR()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new xR(Id(n),s,i))}).catch(n=>{e(new Eh(Id(n),n))}):e(new Eh(Id(t),t))},jR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(_R(n)?(s.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),me(me({},s),r))};async function hl(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,jR(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>TR(l,a,n))})}async function Ka(t,e,r,n){return hl(t,"GET",e,r,n)}async function Vr(t,e,r,n,s){return hl(t,"POST",e,n,s,r)}async function kh(t,e,r,n,s){return hl(t,"PUT",e,n,s,r)}async function NR(t,e,r,n){return hl(t,"HEAD",e,me(me({},r),{},{noResolveJson:!0}),n)}async function bm(t,e,r,n,s){return hl(t,"DELETE",e,n,s,r)}var OR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}}};let Cb;Cb=Symbol.toStringTag;var PR=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Cb]="BlobDownloadBuilder",this.promise=null}asStream(){return new OR(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}}};const RR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},t0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var AR=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=xm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const o=me(me({},t0),n);let a=me(me({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=me(me({},a),n.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),h=await(t=="PUT"?kh:Vr)(s.fetch,`${s.url}/object/${d}`,i,me({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=me({upsert:t0.upsert},n),d=me(me({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await kh(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=me({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Vr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Lu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Vr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await Vr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await Vr(n.fetch,`${n.url}/object/sign/${s}`,me({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await Vr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>me(me({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>Ka(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new PR(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Ch(await Ka(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await NR(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n)&&n instanceof Eh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await bm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=me(me(me({},RR),e),{},{prefix:t||""});return{data:await Vr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=me({},t);return{data:await Vr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const kb="2.89.0",Tb={"X-Client-Info":`storage-js/${kb}`};var IR=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=me(me({},Tb),e),this.fetch=xm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Ka(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ka(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Vr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await kh(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Vr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await bm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},DR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},Tb),e),this.fetch=xm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Vr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Ka(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await bm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!SR(t))throw new Lu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new wR({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const _m={"X-Client-Info":`storage-js/${kb}`,"Content-Type":"application/json"};var jb=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function vr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Dd=class extends jb{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},LR=class extends jb{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Sm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},r0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$R=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new Dd(r0(i),n,o))}).catch(()=>{const i=n+"";e(new Dd(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new Dd(s.statusText||`HTTP ${n} error`,n,i))}}else e(new LR(r0(t),t))},UR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(MR(n)?(s.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,me(me({},s),r)):s};async function FR(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,UR(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>$R(l,a,n))})}async function yr(t,e,r,n,s){return FR(t,"POST",e,n,s,r)}var BR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},_m),e),this.fetch=Sm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await yr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await yr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await yr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await yr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}}},zR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},_m),e),this.fetch=Sm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await yr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await yr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await yr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await yr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await yr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}},WR=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},_m),e),this.fetch=Sm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await yr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await yr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await yr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}}},HR=class extends WR{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new VR(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},VR=class extends BR{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new qR(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},qR=class extends zR{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,me(me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},KR=class extends IR{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new AR(this.url,this.headers,t,this.fetch)}get vectors(){return new HR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DR(this.url+"/iceberg",this.headers,this.fetch)}};const Nb="2.89.0",Li=30*1e3,Th=3,Ld=Th*Li,GR="http://localhost:9999",QR="supabase.auth.token",YR={"X-Client-Info":`gotrue-js/${Nb}`},jh="X-Supabase-Api-Version",Ob={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XR=10*60*1e3;class Ga extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ZR extends Ga{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function e5(t){return ne(t)&&t.name==="AuthApiError"}class Vs extends Ga{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wn extends Ga{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class fr extends Wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t5(t){return ne(t)&&t.name==="AuthSessionMissingError"}class ki extends Wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends Wn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wl extends Wn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r5(t){return ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class n0 extends Wn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class n5 extends Wn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nh extends Wn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Md(t){return ne(t)&&t.name==="AuthRetryableFetchError"}class s0 extends Wn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Oh extends Wn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i0=` 	
\r=`.split(""),s5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<i0.length;e+=1)t[i0[e].charCodeAt(0)]=-2;for(let e=0;e<Jc.length;e+=1)t[Jc[e].charCodeAt(0)]=e;return t})();function o0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Jc[n]),e.queuedBits-=6}}function Pb(t,e,r){const n=s5[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function a0(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{a5(o,n,r)};for(let o=0;o<t.length;o+=1)Pb(t.charCodeAt(o),s,i);return e.join("")}function i5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function o5(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}i5(n,e)}}function a5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function io(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Pb(t.charCodeAt(s),r,n);return new Uint8Array(e)}function l5(t){const e=[];return o5(t,r=>e.push(r)),new Uint8Array(e)}function Qs(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>o0(s,r,n)),o0(null,r,n),e.join("")}function c5(t){return Math.round(Date.now()/1e3)+t}function u5(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",$s={tested:!1,writable:!1},Rb=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($s.tested)return $s.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$s.tested=!0,$s.writable=!0}catch{$s.tested=!0,$s.writable=!1}return $s.writable};function d5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ab=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),f5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Us=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jt=async(t,e)=>{await t.removeItem(e)};class Mu{constructor(){this.promise=new Mu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Mu.promiseConstructor=Promise;function $d(t){const e=t.split(".");if(e.length!==3)throw new Oh("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!JR.test(e[n]))throw new Oh("JWT not in base64url format");return{header:JSON.parse(a0(e[0])),payload:JSON.parse(a0(e[1])),signature:io(e[2]),raw:{header:e[0],payload:e[1]}}}async function h5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function p5(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function m5(t){return("0"+t.toString(16)).substr(-2)}function g5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,m5).join("")}async function v5(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function y5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await v5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ti(t,e,r=!1){const n=g5();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Mi(t,`${e}-code-verifier`,s);const i=await y5(n);return[i,n===i?"plain":"s256"]}const w5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x5(t){const e=t.headers.get(jh);if(!e||!e.match(w5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function b5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const S5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(t){if(!S5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ud(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function E5(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function l0(t){return JSON.parse(JSON.stringify(t))}const Ws=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C5=[502,503,504];async function c0(t){var e;if(!f5(t))throw new Nh(Ws(t),0);if(C5.includes(t.status))throw new Nh(Ws(t),t.status);let r;try{r=await t.json()}catch(i){throw new Vs(Ws(i),i)}let n;const s=x5(t);if(s&&s.getTime()>=Ob["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new s0(Ws(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new fr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new s0(Ws(r),t.status,r.weak_password.reasons);throw new ZR(Ws(r),t.status||500,n)}const k5=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function pe(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[jh]||(i[jh]=Ob["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await T5(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function T5(t,e,r,n,s,i){const o=k5(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Nh(Ws(l),0)}if(a.ok||await c0(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await c0(l)}}function Br(t){var e;let r=null;O5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=c5(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function u0(t){const e=Br(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function os(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function j5(t){return{data:t,error:null}}function N5(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Mo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function d0(t){return t}function O5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fd=["global","local","others"];class P5{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ab(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Fd[0]){if(Fd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fd.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:os})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Mo(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:N5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:os})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:d0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ji(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:os})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ji(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:os})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ji(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:os})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ji(e.userId);try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ji(e.userId),ji(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:d0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function f0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ni={debug:!!(globalThis&&Rb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ib extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class R5 extends Ib{}async function A5(t,e,r){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new R5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ni.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function I5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Db(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function D5(t){return parseInt(t,16)}function L5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function M5(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Db(t.address),v=d?`${d}://${n}`:n,g=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${m}

${g}`;let x=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),a&&(x+=`
Not Before: ${a.toISOString()}`),l&&(x+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}x+=y}return`${b}
${x}`}class ut extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Xc extends ut{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function $5({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Lb(o)){if(i.rp.id!==o)return new ut({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function U5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Lb(n)){if(r.rpId!==n)return new ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class F5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const B5=new F5;function z5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Mo(t,["challenge","user","excludeCredentials"]),i=io(e).buffer,o=Object.assign(Object.assign({},r),{id:io(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:io(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function W5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Mo(t,["challenge","allowCredentials"]),s=io(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:io(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function H5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qs(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function V5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qs(new Uint8Array(s.authenticatorData)),clientDataJSON:Qs(new Uint8Array(s.clientDataJSON)),signature:Qs(new Uint8Array(s.signature)),userHandle:s.userHandle?Qs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function h0(){var t,e;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function q5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:$5({error:e,options:t})}}}async function K5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:U5({error:e,options:t})}}}const G5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Q5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zc(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Zc(a,o):n[i]=Zc(o)}else n[i]=o}return n}function Y5(t,e){return Zc(G5,t,e||{})}function J5(t,e){return Zc(Q5,t,e||{})}class X5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??B5.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Y5(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await q5({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=J5(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await K5(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return ne(o)?{data:null,error:o}:{data:null,error:new Vs("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ga("rpId is required for WebAuthn authentication")};try{if(!h0())return{data:null,error:new Vs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ne(o)?{data:null,error:o}:{data:null,error:new Vs("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ga("rpId is required for WebAuthn registration")};try{if(!h0())return{data:null,error:new Vs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ne(o)?{data:null,error:o}:{data:null,error:new Vs("Unexpected error in register",o)}}}}I5();const Z5={url:GR,storageKey:QR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function p0(t,e,r){return await r()}const Oi={};class Qa{get jwks(){var e,r;return(r=(e=Oi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Oi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Z5),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Qa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ot()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new P5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ab(i.fetch),this.lock=i.lock||p0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=A5:this.lock=p0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new X5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Rb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=f0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=f0(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ot()&&(r=d5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ot()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),r5(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?this._returnResult({error:r}):this._returnResult({error:new Vs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Br}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Ti(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:Br})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Br})}else throw new zl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:u0})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:u0})}else throw new zl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new ki;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,d,h,f;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:g,wallet:b,statement:x,options:y}=e;let w;if(Ot())if(typeof b=="object")w=b;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")w=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Db(S[0]);let C=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const L=await w.request({method:"eth_chainId"});C=D5(L)}const j={domain:_.host,address:E,statement:x,uri:_.href,version:"1",chainId:C,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=M5(j),v=await w.request({method:"personal_sign",params:[L5(m),E]})}try{const{data:g,error:b}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Br});if(b)throw b;if(!g||!g.session||!g.user){const x=new ki;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(ne(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,d,h,f,m;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:b,wallet:x,statement:y,options:w}=e;let _;if(Ot())if(typeof x=="object")_=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:b,error:x}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Qs(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Br});if(x)throw x;if(!b||!b.session||!b.user){const y=new ki;return this._returnResult({data:{user:null,session:null},error:y})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(ne(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Us(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new n5;const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Br});if(await jt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new ki;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Br}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new ki;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ti(this.storage,this.storageKey));const{error:h}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new zl("You must provide either an email or phone number.")}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Br});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Ti(this.storage,this.storageKey));const u=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:j5});return!((i=u.data)===null||i===void 0)&&i.url&&Ot()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new fr;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ne(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new zl("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ld:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Us(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ud()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=E5(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:os}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fr}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:os})})}catch(r){if(ne(r))return t5(r)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new fr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ti(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:os});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=$d(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new fr;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ot())throw new Wl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new n0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new n0("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Wl("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(n){if(ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Us(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(e5(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=u5(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ti(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ot()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ne(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,h=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Br}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new ki}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await p5(async s=>(s>0&&await h5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Br})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Md(i)&&Date.now()+o-n<Li})}catch(n){if(this._debug(r,"error",n),ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ot()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Us(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Mi(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ud()}else if(s&&!s.user&&!s.user){const o=await Us(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await jt(this.storage,this.storageKey+"-user"),await Mi(this.storage,this.storageKey,s)):s.user=Ud()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ld;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ld}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Md(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new fr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new fr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ne(i)){const o={data:null,error:i};return Md(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mi(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=l0(s);await Mi(this.storage,this.storageKey,i)}else{const s=l0(r);await Mi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Li);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Li}ms, refresh threshold is ${Th} ticks`),s<=Th&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ib)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ti(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?H5(e.webauthn.credential_response):V5(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:z5(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:W5(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=$d(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new fr})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new fr});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ot()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new fr});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ot()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new fr})})}catch(e){if(ne(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new fr})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+XR>s)return n;const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=$d(n);r!=null&&r.allowExpired||b5(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=_5(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,l5(`${a}.${l}`)))throw new Oh("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}}Qa.nextInstanceID={};const eA=Qa,tA="2.89.0";let sa="";typeof Deno<"u"?sa="deno":typeof document<"u"?sa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sa="react-native":sa="node";const rA={"X-Client-Info":`supabase-js-${sa}/${tA}`},nA={headers:rA},sA={schema:"public"},iA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oA={};function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function aA(t,e){if(Ya(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lA(t){var e=aA(t,"string");return Ya(e)=="symbol"?e:e+""}function cA(t,e,r){return(e=lA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m0(Object(r),!0).forEach(function(n){cA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const uA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dA=()=>Headers,fA=(t,e,r)=>{const n=uA(r),s=dA();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,nt(nt({},o),{},{headers:u}))}};function hA(t){return t.endsWith("/")?t:t+"/"}function pA(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:nt(nt({},l),s),auth:nt(nt({},u),i),realtime:nt(nt({},d),o),storage:{},global:nt(nt(nt({},h),a),{},{headers:nt(nt({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function mA(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gA=class extends eA{constructor(t){super(t)}},vA=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=mA(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:sA,realtime:oA,auth:nt(nt({},iA),{},{storageKey:o}),global:nA},l=pA(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=fA(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new YP(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new KR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new VP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gA({url:this.authUrl.href,headers:nt(nt({},f),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new hR(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yA=(t,e,r)=>new vA(t,e,r);function wA(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}wA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xA="https://nvuukgeobhrrwttbiaif.supabase.co",bA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52dXVrZ2VvYmhycnd0dGJpYWlmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzOTM0MDIsImV4cCI6MjA4MTk2OTQwMn0.XoAFIsxESUJVd8Zrjw0kMytmccJZV0Tn0x5YwjTKvNk",Z=yA(xA,bA,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Mb=p.createContext(void 0),_A=({children:t})=>{const[e,r]=p.useState(null),[n,s]=p.useState(null),[i,o]=p.useState(null),[a,l]=p.useState(!0),[u,d]=p.useState(!1);yi();const h=async x=>{const{data:y,error:w}=await Z.from("profiles").select("*").eq("user_id",x).single();y&&!w&&o(y)},f=async x=>{const{data:y,error:w}=await Z.from("user_roles").select("role").eq("user_id",x).eq("role","admin").single();d(!!y&&!w)};p.useEffect(()=>{const{data:{subscription:x}}=Z.auth.onAuthStateChange((y,w)=>{s(w),r((w==null?void 0:w.user)??null),w!=null&&w.user?setTimeout(()=>{h(w.user.id),f(w.user.id)},0):(o(null),d(!1))});return Z.auth.getSession().then(({data:{session:y}})=>{s(y),r((y==null?void 0:y.user)??null),y!=null&&y.user&&(h(y.user.id),f(y.user.id)),l(!1)}),()=>x.unsubscribe()},[]);const m=x=>{const y=x.trim().split(" ");return y.length>=2?(y[0][0]+y[y.length-1][0]).toUpperCase():y[0].substring(0,2).toUpperCase()},v=async(x,y,w,_)=>{const{data:S}=await Z.from("profiles").select("username").eq("username",x).single();if(S)return{error:{message:"Username already taken"}};const E=`${x.toLowerCase().replace(/[^a-z0-9]/g,"")}@chessgambit.local`,{data:C,error:j}=await Z.auth.signUp({email:E,password:y,options:{emailRedirectTo:`${window.location.origin}/`,data:{username:x,full_name:w}}});if(j)return{error:j};if(C.user){const L=m(w),{error:M}=await Z.from("profiles").insert({user_id:C.user.id,username:x,full_name:w,avatar_url:_||null,avatar_initials:L});if(M)return{error:M};await Z.from("user_roles").insert({user_id:C.user.id,role:"player"})}return{error:null}},g=async(x,y)=>{const{data:w}=await Z.from("profiles").select("user_id").eq("username",x).single();if(!w)return{error:{message:"Username not found"}};const _=`${x.toLowerCase().replace(/[^a-z0-9]/g,"")}@chessgambit.local`,{error:S}=await Z.auth.signInWithPassword({email:_,password:y});return{error:S}},b=async()=>{await Z.auth.signOut(),r(null),s(null),o(null),d(!1)};return c.jsx(Mb.Provider,{value:{user:e,session:n,profile:i,loading:a,signUp:v,signIn:g,signOut:b,isAdmin:u},children:t})},bi=()=>{const t=p.useContext(Mb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},eu=rm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=p.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,enableEffects:s=!0,onClick:i,...o},a)=>{const[l,u]=p.useState(!1),d=n?o2:"button",h=f=>{s&&!n&&(u(!0),setTimeout(()=>u(!1),500)),i==null||i(f)};return n?c.jsx(d,{className:Se(eu({variant:e,size:r,className:t})),ref:a,...o}):c.jsxs("button",{className:Se(eu({variant:e,size:r,className:t}),s&&"btn-electric btn-firecracker",l&&"sparking"),ref:a,onClick:h,...o,children:[o.children,s&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spark spark-1"}),c.jsx("span",{className:"spark spark-2"}),c.jsx("span",{className:"spark spark-3"}),c.jsx("span",{className:"spark spark-4"}),c.jsx("span",{className:"spark spark-5"}),c.jsx("span",{className:"spark spark-6"})]})]})});be.displayName="Button";const g0="christmas-gambit-theme",SA=()=>{const[t,e]=p.useState(()=>{const n=localStorage.getItem(g0);return n!==null?n==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});p.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem(g0,t?"dark":"light")},[t]);const r=()=>{e(n=>!n)};return c.jsx(be,{variant:"ghost",size:"icon",onClick:r,className:"relative overflow-hidden transition-all duration-300",children:t?c.jsx(aT,{className:"h-5 w-5 text-neon-cyan animate-scale-in"}):c.jsx(uT,{className:"h-5 w-5 text-accent animate-scale-in"})})},EA=()=>{const{user:t,profile:e,signOut:r}=bi(),n=fl(),s=async()=>{await r(),n("/")};return c.jsx("nav",{className:"sticky top-0 z-40 w-full border-b border-border bg-background/80 backdrop-blur-md",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex h-16 items-center justify-between",children:[c.jsxs(Jr,{to:"/",className:"flex items-center gap-3 group fire-hover",children:[c.jsxs("div",{className:"relative",children:[c.jsx(An,{className:"h-8 w-8 text-primary animate-float transition-all"}),c.jsx(c1,{className:"absolute -top-1 -right-1 h-4 w-4 text-secondary"})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-display text-lg font-bold tracking-wide text-foreground fire-text-hover",children:"Checkmate Cup"}),c.jsx("span",{className:"text-xs text-muted-foreground font-gamer-body",children:"DPSBE 2K25 "})]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[c.jsxs(Jr,{to:"/practice",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors font-gamer-body",children:[c.jsx(oh,{className:"h-4 w-4"}),"Practice"]}),c.jsxs(Jr,{to:"/standings",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors font-gamer-body",children:[c.jsx($n,{className:"h-4 w-4"}),"Standings"]}),c.jsxs(Jr,{to:"/champions",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors font-gamer-body",children:[c.jsx(An,{className:"h-4 w-4"}),"Champions"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(SA,{}),t?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Jr,{to:"/profile",children:c.jsxs(be,{variant:"ghost",size:"sm",className:"gap-2",children:[e!=null&&e.avatar_url?c.jsx("img",{src:e.avatar_url,alt:e.username,className:"h-6 w-6 rounded-full object-cover"}):e!=null&&e.avatar_initials?c.jsx("div",{className:"h-6 w-6 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xs font-bold",children:e.avatar_initials}):c.jsx(d1,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:e==null?void 0:e.username})]})}),c.jsxs(be,{variant:"outline",size:"sm",onClick:s,className:"gap-2",children:[c.jsx(sT,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]}):c.jsx(Jr,{to:"/auth",children:c.jsxs(be,{variant:"default",size:"sm",className:"gap-2",children:[c.jsx(nT,{className:"h-4 w-4"}),"Sign In"]})})]})]})})})},CA=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!1);return p.useEffect(()=>{const s=()=>{n(document.documentElement.classList.contains("dark"))};s();const i=new MutationObserver(s);return i.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>i.disconnect()},[]),p.useEffect(()=>{const s=Array.from({length:100},(i,o)=>({id:o,x:Math.random()*100,y:Math.random()*100,size:Math.random()*2+1,duration:Math.random()*3+2,delay:Math.random()*5}));e(s)},[]),c.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[r&&c.jsx("div",{className:"absolute inset-0 bg-nebula-gradient opacity-30"}),t.map(s=>c.jsx("div",{className:"absolute rounded-full animate-pulse-slow",style:{left:`${s.x}%`,top:`${s.y}%`,width:`${s.size}px`,height:`${s.size}px`,backgroundColor:r?"white":"hsl(250, 85%, 60%)",opacity:r?.6:.3,animationDuration:`${s.duration}s`,animationDelay:`${s.delay}s`,boxShadow:r?`0 0 ${s.size*2}px rgba(255,255,255,0.5)`:`0 0 ${s.size*2}px hsl(250, 85%, 60%, 0.3)`}},s.id)),r&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute w-96 h-96 rounded-full opacity-10 blur-3xl rgb-glow",style:{left:"10%",top:"20%",background:"hsl(185, 100%, 50%)"}}),c.jsx("div",{className:"absolute w-80 h-80 rounded-full opacity-10 blur-3xl rgb-glow",style:{right:"15%",top:"60%",background:"hsl(280, 80%, 60%)",animationDelay:"1.5s"}}),c.jsx("div",{className:"absolute w-64 h-64 rounded-full opacity-10 blur-3xl rgb-glow",style:{left:"50%",bottom:"10%",background:"hsl(320, 90%, 60%)",animationDelay:"3s"}})]})]})},Le=p.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Le.displayName="Card";const St=p.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",t),...e}));St.displayName="CardHeader";const Et=p.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",t),...e}));Et.displayName="CardTitle";const Ja=p.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));Ja.displayName="CardDescription";const Fe=p.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Se("p-6 pt-0",t),...e}));Fe.displayName="CardContent";const kA=p.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",t),...e}));kA.displayName="CardFooter";const TA=()=>{const{user:t}=bi();return c.jsxs("div",{className:"min-h-screen relative",children:[c.jsxs("section",{className:"relative py-20 md:py-32 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-secondary/10"}),c.jsx("div",{className:"container mx-auto px-4 relative z-10",children:c.jsxs("div",{className:"text-center max-w-4xl mx-auto animate-fade-in-up",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(An,{className:"h-24 w-24 text-primary trophy-shine"}),c.jsx(c1,{className:"absolute -top-4 -right-4 h-8 w-8 text-secondary animate-float"}),c.jsx(u1,{className:"absolute -bottom-2 -left-4 h-6 w-6 text-accent animate-float",style:{animationDelay:"0.5s"}})]})}),c.jsx("h1",{className:"font-display text-4xl md:text-6xl lg:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-neon-gradient dark:rgb-text",children:"Checkmate Cup"}),c.jsx("p",{className:"font-gamer text-2xl md:text-3xl text-secondary dark:text-neon-cyan mb-4",children:" DPSBE 2K25 "}),c.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 max-w-2xl mx-auto font-gamer-body",children:"The ultimate DPSBE chess tournament. Compete, strategize, and claim your place among champions."}),c.jsx("div",{className:"space-divider w-48 mx-auto mb-8"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t?c.jsx(Jr,{to:"/profile",children:c.jsxs(be,{size:"lg",className:"gap-2 text-lg px-8",children:[c.jsx(f1,{className:"h-5 w-5"}),"My Profile"]})}):c.jsx(Jr,{to:"/auth",children:c.jsxs(be,{size:"lg",className:"gap-2 text-lg px-8 animate-glow-pulse dark:rgb-glow",children:[c.jsx(ko,{className:"h-5 w-5"}),"Join Tournament"]})}),c.jsx(Jr,{to:"/standings",children:c.jsxs(be,{variant:"outline",size:"lg",className:"gap-2 text-lg px-8",children:[c.jsx($n,{className:"h-5 w-5"}),"View Standings"]})})]})]})})]}),c.jsx("section",{className:"py-16 bg-card/50",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx(Le,{className:"card-hover border-2 group dark:rgb-border",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx(ko,{className:"h-8 w-8 text-primary"})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Live Games"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Play real-time chess matches with automatic time controls and result tracking."})]})}),c.jsx(Le,{className:"card-hover border-2 group dark:rgb-border",style:{animationDelay:"0.1s"},children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-secondary/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx($n,{className:"h-8 w-8 text-secondary dark:text-neon-purple"})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Multiple Formats"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Swiss, Knockouts, Round Robin, Arena  choose your battle style."})]})}),c.jsx(Le,{className:"card-hover border-2 group dark:rgb-border",style:{animationDelay:"0.2s"},children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-accent/20 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:c.jsx(J2,{className:"h-8 w-8 text-accent dark:text-neon-magenta"})}),c.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Auto Pairings"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Automatic matchmaking, standings updates, and tournament progression."})]})})]})})}),c.jsx("section",{className:"py-20",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4",children:"Ready to Make Your Move?"}),c.jsx("p",{className:"text-muted-foreground mb-8 font-gamer-body text-lg",children:"Join the tournament and compete for the Checkmate Cup!"}),c.jsx(Jr,{to:t?"/profile":"/auth",children:c.jsxs(be,{size:"lg",className:"gap-2 dark:rgb-glow",children:["Get Started ",c.jsx(Z2,{className:"h-5 w-5"})]})})]})}),c.jsx("footer",{className:"py-8 border-t border-border",children:c.jsx("div",{className:"container mx-auto px-4 text-center text-muted-foreground font-gamer-body",children:c.jsx("p",{children:" Checkmate Cup  DPSBE 2K25 "})})})]})},Xr=p.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Xr.displayName="Input";var jA="Label",$b=p.forwardRef((t,e)=>c.jsx(ke.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$b.displayName=jA;var Ub=$b;const NA=rm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gr=p.forwardRef(({className:t,...e},r)=>c.jsx(Ub,{ref:r,className:Se(NA(),t),...e}));gr.displayName=Ub.displayName;var OA=p.createContext(void 0);function Em(t){const e=p.useContext(OA);return t||e||"ltr"}var Bd="rovingFocusGroup.onEntryFocus",PA={bubbles:!1,cancelable:!0},pl="RovingFocusGroup",[Ph,Fb,RA]=Xp(pl),[AA,Bb]=zn(pl,[RA]),[IA,DA]=AA(pl),zb=p.forwardRef((t,e)=>c.jsx(Ph.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Ph.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(LA,{...t,ref:e})})}));zb.displayName=pl;var LA=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=p.useRef(null),m=Be(e,f),v=Em(i),[g,b]=Co({prop:o,defaultProp:a??null,onChange:l,caller:pl}),[x,y]=p.useState(!1),w=Lr(u),_=Fb(r),S=p.useRef(!1),[E,C]=p.useState(0);return p.useEffect(()=>{const j=f.current;if(j)return j.addEventListener(Bd,w),()=>j.removeEventListener(Bd,w)},[w]),c.jsx(IA,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(j=>b(j),[b]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(j=>j+1),[]),onFocusableItemRemove:p.useCallback(()=>C(j=>j-1),[]),children:c.jsx(ke.div,{tabIndex:x||E===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:de(t.onMouseDown,()=>{S.current=!0}),onFocus:de(t.onFocus,j=>{const L=!S.current;if(j.target===j.currentTarget&&L&&!x){const M=new CustomEvent(Bd,PA);if(j.currentTarget.dispatchEvent(M),!M.defaultPrevented){const J=_().filter($=>$.focusable),U=J.find($=>$.active),K=J.find($=>$.id===g),H=[U,K,...J].filter(Boolean).map($=>$.ref.current);Vb(H,d)}}S.current=!1}),onBlur:de(t.onBlur,()=>y(!1))})})}),Wb="RovingFocusGroupItem",Hb=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Ss(),u=i||l,d=DA(Wb,r),h=d.currentTabStopId===u,f=Fb(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=d;return p.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),c.jsx(Ph.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:c.jsx(ke.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:de(t.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:de(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:de(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=UA(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=f().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const _=w.indexOf(b.currentTarget);w=d.loop?FA(w,_+1):w.slice(_+1)}setTimeout(()=>Vb(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});Hb.displayName=Wb;var MA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $A(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function UA(t,e,r){const n=$A(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return MA[n]}function Vb(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function FA(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var BA=zb,zA=Hb,$u="Tabs",[WA,jM]=zn($u,[Bb]),qb=Bb(),[HA,Cm]=WA($u),Kb=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=Em(a),[h,f]=Co({prop:n,onChange:s,defaultProp:i??"",caller:$u});return c.jsx(HA,{scope:r,baseId:Ss(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:c.jsx(ke.div,{dir:d,"data-orientation":o,...u,ref:e})})});Kb.displayName=$u;var Gb="TabsList",Qb=p.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=Cm(Gb,r),o=qb(r);return c.jsx(BA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:c.jsx(ke.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Qb.displayName=Gb;var Yb="TabsTrigger",Jb=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=Cm(Yb,r),a=qb(r),l=e_(o.baseId,n),u=t_(o.baseId,n),d=n===o.value;return c.jsx(zA,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(ke.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:de(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:de(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:de(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});Jb.displayName=Yb;var Xb="TabsContent",Zb=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,a=Cm(Xb,r),l=e_(a.baseId,n),u=t_(a.baseId,n),d=n===a.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(wi,{present:s||d,children:({present:f})=>c.jsx(ke.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});Zb.displayName=Xb;function e_(t,e){return`${t}-trigger-${e}`}function t_(t,e){return`${t}-content-${e}`}var VA=Kb,r_=Qb,n_=Jb,s_=Zb;const qA=VA,i_=p.forwardRef(({className:t,...e},r)=>c.jsx(r_,{ref:r,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));i_.displayName=r_.displayName;const Rh=p.forwardRef(({className:t,...e},r)=>c.jsx(n_,{ref:r,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Rh.displayName=n_.displayName;const Ah=p.forwardRef(({className:t,...e},r)=>c.jsx(s_,{ref:r,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ah.displayName=s_.displayName;const KA=()=>{const[t,e]=p.useState(!1),[r,n]=p.useState(!1),[s,i]=p.useState(null),[o,a]=p.useState(null),l=p.useRef(null),[u,d]=p.useState(""),[h,f]=p.useState(""),[m,v]=p.useState(""),[g,b]=p.useState(""),[x,y]=p.useState(""),[w,_]=p.useState(""),[S,E]=p.useState("idle"),[C,j]=p.useState(null),{signIn:L,signUp:M,user:J}=bi(),{toast:U}=yi(),K=fl();if(J)return K("/"),null;p.useEffect(()=>{if(m.length<3){E("idle"),j(m.length>0?"Username must be at least 3 characters":null);return}if(!/^[a-zA-Z0-9_]+$/.test(m)){E("idle"),j("Username can only contain letters, numbers, and underscores");return}j(null),E("checking");const O=setTimeout(async()=>{const{data:V}=await Z.from("profiles").select("username").eq("username",m).maybeSingle();V?(E("taken"),j("This username is already taken")):(E("available"),j(null))},500);return()=>clearTimeout(O)},[m]);const P=T=>{var V;const O=(V=T.target.files)==null?void 0:V[0];if(O){a(O);const ee=new FileReader;ee.onloadend=()=>{i(ee.result)},ee.readAsDataURL(O)}},H=async T=>{T.preventDefault(),e(!0);const{error:O}=await L(u,h);O?U({variant:"destructive",title:"Sign in failed",description:O.message||"Invalid username or password"}):(U({title:"Welcome back!",description:"You have successfully signed in."}),K("/")),e(!1)},$=async T=>{if(T.preventDefault(),x!==w){U({variant:"destructive",title:"Passwords don't match",description:"Please make sure your passwords match."});return}if(x.length<6){U({variant:"destructive",title:"Password too short",description:"Password must be at least 6 characters."});return}if(m.length<3||S==="taken"||C){U({variant:"destructive",title:"Invalid username",description:C||"Please choose a valid unique username."});return}e(!0);let O;if(o){const ee=`${Date.now()}`,k=o.name.split(".").pop(),W=`temp/${ee}.${k}`,{error:z}=await Z.storage.from("avatars").upload(W,o,{upsert:!0});if(!z){const{data:X}=Z.storage.from("avatars").getPublicUrl(W);O=X.publicUrl}}const{error:V}=await M(m,x,g,O);V?U({variant:"destructive",title:"Sign up failed",description:V.message||"Could not create account"}):(U({title:"Account created!",description:"Welcome to the Christmas Gambit Cup!"}),K("/")),e(!1)},G=T=>{var V;const O=T.trim().split(" ");return O.length>=2?(O[0][0]+O[O.length-1][0]).toUpperCase():((V=O[0])==null?void 0:V.substring(0,2).toUpperCase())||""};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(An,{className:"h-16 w-16 text-primary animate-float"}),c.jsx("span",{className:"absolute -top-2 -right-2 text-2xl",children:""})]})}),c.jsx("h1",{className:"font-display text-3xl font-bold text-foreground",children:"Christmas Gambit Cup"}),c.jsx("p",{className:"text-muted-foreground mt-2 font-gamer-body",children:"2K25 School Chess Tournament"})]}),c.jsx(Le,{className:"border-2 shadow-lg card-hover",children:c.jsxs(qA,{defaultValue:"signin",className:"w-full",children:[c.jsxs(i_,{className:"grid w-full grid-cols-2",children:[c.jsx(Rh,{value:"signin",children:"Sign In"}),c.jsx(Rh,{value:"signup",children:"Sign Up"})]}),c.jsxs(Ah,{value:"signin",children:[c.jsxs(St,{children:[c.jsx(Et,{className:"font-display",children:"Welcome Back"}),c.jsx(Ja,{children:"Enter your credentials to continue"})]}),c.jsx(Fe,{children:c.jsxs("form",{onSubmit:H,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{htmlFor:"signin-username",children:"Username"}),c.jsx(Xr,{id:"signin-username",placeholder:"Enter your username",value:u,onChange:T=>d(T.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{htmlFor:"signin-password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Xr,{id:"signin-password",type:r?"text":"password",placeholder:"Enter your password",value:h,onChange:T=>f(T.target.value),required:!0}),c.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>n(!r),children:r?c.jsx(lh,{className:"h-4 w-4"}):c.jsx($a,{className:"h-4 w-4"})})]})]}),c.jsx(be,{type:"submit",className:"w-full",disabled:t,children:t?"Signing in...":"Sign In"})]})})]}),c.jsxs(Ah,{value:"signup",children:[c.jsxs(St,{children:[c.jsx(Et,{className:"font-display",children:"Join the Tournament"}),c.jsx(Ja,{children:"Create your player account"})]}),c.jsx(Fe,{children:c.jsxs("form",{onSubmit:$,className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"relative h-24 w-24 rounded-full border-2 border-dashed border-border flex items-center justify-center cursor-pointer hover:border-primary transition-colors overflow-hidden bg-muted",onClick:()=>{var T;return(T=l.current)==null?void 0:T.click()},children:[s?c.jsx("img",{src:s,alt:"Avatar",className:"h-full w-full object-cover"}):g?c.jsx("span",{className:"text-2xl font-bold text-primary",children:G(g)}):c.jsx(d1,{className:"h-10 w-10 text-muted-foreground"}),c.jsx("div",{className:"absolute inset-0 bg-background/60 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:c.jsx(fT,{className:"h-6 w-6"})})]}),c.jsx("input",{ref:l,type:"file",accept:"image/*",className:"hidden",onChange:P}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Click to upload profile picture (optional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{htmlFor:"signup-username",children:"Username *"}),c.jsxs("div",{className:"relative",children:[c.jsx(Xr,{id:"signup-username",placeholder:"Choose a unique username",value:m,onChange:T=>v(T.target.value.replace(/[^a-zA-Z0-9_]/g,"")),required:!0,minLength:3,maxLength:20,className:S==="taken"?"border-destructive pr-10":S==="available"?"border-green-500 pr-10":"pr-10"}),c.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[S==="checking"&&c.jsx(sr,{className:"h-4 w-4 animate-spin text-muted-foreground"}),S==="available"&&c.jsx(i1,{className:"h-4 w-4 text-green-500"}),S==="taken"&&c.jsx(ku,{className:"h-4 w-4 text-destructive"})]})]}),C&&c.jsx("p",{className:"text-xs text-destructive",children:C}),S==="available"&&c.jsx("p",{className:"text-xs text-green-500",children:"Username is available!"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{htmlFor:"signup-fullname",children:"Full Name *"}),c.jsx(Xr,{id:"signup-fullname",placeholder:"Your real name",value:g,onChange:T=>b(T.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{htmlFor:"signup-password",children:"Password *"}),c.jsxs("div",{className:"relative",children:[c.jsx(Xr,{id:"signup-password",type:r?"text":"password",placeholder:"Create a password",value:x,onChange:T=>y(T.target.value),required:!0,minLength:6}),c.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>n(!r),children:r?c.jsx(lh,{className:"h-4 w-4"}):c.jsx($a,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{htmlFor:"signup-confirm",children:"Confirm Password *"}),c.jsx(Xr,{id:"signup-confirm",type:"password",placeholder:"Confirm your password",value:w,onChange:T=>_(T.target.value),required:!0})]}),c.jsx(be,{type:"submit",className:"w-full",disabled:t,children:t?"Creating account...":"Create Account"})]})})]})]})})]})})},GA={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-20 w-20 text-xl",xl:"h-32 w-32 text-3xl"},QA={sm:"h-2.5 w-2.5 right-0 bottom-0",md:"h-3 w-3 right-0 bottom-0",lg:"h-4 w-4 right-1 bottom-1",xl:"h-5 w-5 right-2 bottom-2"},cr=({avatarUrl:t,initials:e,name:r,size:n="md",className:s,isOnline:i,showOnlineIndicator:o=!1})=>{const a=e||(r?YA(r):"??");return c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:Se("rounded-full flex items-center justify-center font-bold bg-primary text-primary-foreground overflow-hidden ring-2 ring-border",GA[n],s),children:t?c.jsx("img",{src:t,alt:r||"Player",className:"h-full w-full object-cover"}):c.jsx("span",{children:a})}),o&&c.jsx("span",{className:Se("absolute rounded-full border-2 border-background",QA[n],i?"bg-green-500":"bg-muted-foreground/50")})]})};function YA(t){var r;const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():((r=e[0])==null?void 0:r.substring(0,2).toUpperCase())||"??"}const JA=()=>{const{user:t,profile:e,loading:r}=bi(),[n,s]=p.useState(!1),[i,o]=p.useState(""),[a,l]=p.useState(!1),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,v]=p.useState(null),[g,b]=p.useState(!1),[x,y]=p.useState(null),[w,_]=p.useState([]),S=p.useRef(null),{toast:E}=yi(),C=fl();p.useEffect(()=>{!r&&!t&&C("/auth")},[t,r,C]),p.useEffect(()=>{e&&(o(e.full_name),f(e.avatar_url))},[e]),p.useEffect(()=>{j()},[e]);const j=async()=>{const{data:P}=await Z.from("tournaments").select("*").in("status",["registration","in_progress"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(P&&(v(P),e)){const{data:H}=await Z.from("tournament_players").select("id").eq("tournament_id",P.id).eq("player_id",e.id).maybeSingle();if(b(!!H),P.status==="in_progress"){const{data:$}=await Z.from("games").select("id").eq("tournament_id",P.id).in("result",["pending","in_progress"]).or(`white_player_id.eq.${e.id},black_player_id.eq.${e.id}`).limit(1).maybeSingle();$&&y($.id)}}e&&L()},L=async()=>{if(!e)return;const{data:P}=await Z.from("games").select("id, result, round, white_player_id, black_player_id, ended_at").or(`white_player_id.eq.${e.id},black_player_id.eq.${e.id}`).not("result","in",'("pending","in_progress")').order("ended_at",{ascending:!1}).limit(10);if(P&&P.length>0){const H=await Promise.all(P.map(async $=>{const G=$.white_player_id===e.id?$.black_player_id:$.white_player_id,{data:T}=await Z.from("profiles").select("username, avatar_url, avatar_initials").eq("id",G).single();return{...$,opponent_username:(T==null?void 0:T.username)||"Unknown",opponent_avatar_url:(T==null?void 0:T.avatar_url)||null,opponent_avatar_initials:(T==null?void 0:T.avatar_initials)||null,played_as:$.white_player_id===e.id?"white":"black"}}));_(H)}},M=P=>{var $;const H=($=P.target.files)==null?void 0:$[0];if(H){d(H);const G=new FileReader;G.onloadend=()=>f(G.result),G.readAsDataURL(H)}},J=async()=>{if(!e||!t)return;l(!0);let P=e.avatar_url;if(u){const $=u.name.split(".").pop(),G=`${t.id}/${Date.now()}.${$}`,{error:T}=await Z.storage.from("avatars").upload(G,u,{upsert:!0});if(!T){const{data:O}=Z.storage.from("avatars").getPublicUrl(G);P=O.publicUrl}}const{error:H}=await Z.from("profiles").update({full_name:i,avatar_url:P,avatar_initials:K(i)}).eq("id",e.id);H?E({variant:"destructive",title:"Failed to update profile",description:H.message}):(E({title:"Profile updated!"}),s(!1),window.location.reload()),l(!1)},U=async()=>{if(!m||!e)return;l(!0);const{error:P}=await Z.from("tournament_players").insert({tournament_id:m.id,player_id:e.id});P?E({variant:"destructive",title:"Registration failed",description:P.message}):(E({title:"Registered!",description:"You're in the tournament!"}),b(!0)),l(!1)},K=P=>{var $;const H=P.trim().split(" ");return H.length>=2?(H[0][0]+H[H.length-1][0]).toUpperCase():(($=H[0])==null?void 0:$.substring(0,2).toUpperCase())||""};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(sr,{className:"h-8 w-8 animate-spin text-primary"})}):e?c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs(Le,{className:"border-2",children:[c.jsx(St,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Et,{className:"font-display",children:"Player Profile"}),c.jsxs(be,{variant:"outline",size:"sm",onClick:()=>s(!n),children:[c.jsx(lT,{className:"h-4 w-4 mr-2"}),n?"Cancel":"Edit"]})]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cr,{avatarUrl:h,initials:e.avatar_initials,name:e.full_name,size:"xl"}),n&&c.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-primary text-primary-foreground rounded-full hover:bg-primary/90 transition-colors",onClick:()=>{var P;return(P=S.current)==null?void 0:P.click()},children:c.jsx(X2,{className:"h-4 w-4"})})]}),c.jsx("input",{ref:S,type:"file",accept:"image/*",className:"hidden",onChange:M})]}),c.jsx("div",{className:"flex-1 space-y-4",children:n?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{children:"Full Name"}),c.jsx(Xr,{value:i,onChange:P=>o(P.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{children:"Username"}),c.jsx(Xr,{value:e.username,disabled:!0,className:"bg-muted"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Username cannot be changed"})]}),c.jsxs(be,{onClick:J,disabled:a,children:[a?c.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),c.jsx("p",{className:"font-bold text-xl",children:e.username})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),c.jsx("p",{className:"font-medium",children:e.full_name})]})]})})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(Le,{className:"card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx(ko,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),c.jsx("p",{className:"text-2xl font-bold",children:e.games_played}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"})]})}),c.jsx(Le,{className:"card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx($n,{className:"h-8 w-8 mx-auto mb-2 text-accent"}),c.jsx("p",{className:"text-2xl font-bold",children:e.games_won}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Wins"})]})}),c.jsx(Le,{className:"card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx(mv,{className:"h-8 w-8 mx-auto mb-2 text-secondary"}),c.jsx("p",{className:"text-2xl font-bold",children:e.games_drawn}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Draws"})]})}),c.jsx(Le,{className:"card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsx(Cu,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),c.jsx("p",{className:"text-2xl font-bold",children:Number(e.score).toFixed(1)}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Score"})]})})]}),m&&c.jsxs(Le,{className:"border-2 border-primary/20",children:[c.jsxs(St,{children:[c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx($n,{className:"h-5 w-5 text-primary"}),m.name]}),c.jsxs(Ja,{children:["Format: ",m.format.replace(/_/g," "),"  Time Control: ",m.time_control]})]}),c.jsx(Fe,{children:m.status==="registration"?g?c.jsxs("div",{className:"bg-secondary/20 p-4 rounded-lg text-center",children:[c.jsx("p",{className:"text-secondary dark:text-neon-cyan font-bold",children:" You are registered!"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Waiting for tournament to start..."})]}):c.jsxs(be,{onClick:U,disabled:a,className:"w-full",children:[a?c.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(ko,{className:"h-4 w-4 mr-2"}),"Register for Tournament"]}):c.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg text-center space-y-3",children:[c.jsx("p",{className:"font-bold",children:"Tournament in progress"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Round Active"}),x?c.jsxs(be,{onClick:()=>C(`/game/${x}`),className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",children:[c.jsx(nm,{className:"h-4 w-4 mr-2"}),"Play Now"]}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"No active game found"})]})})]}),w.length>0&&c.jsxs(Le,{className:"border-2",children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(rT,{className:"h-5 w-5 text-primary"}),"Recent Games"]})}),c.jsx(Fe,{children:c.jsx("div",{className:"space-y-2",children:w.map(P=>{const H=P.played_as==="white"&&P.result==="white_wins"||P.played_as==="black"&&P.result==="black_wins",$=P.played_as==="white"&&P.result==="black_wins"||P.played_as==="black"&&P.result==="white_wins",G=P.result==="draw";return c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer hover:scale-[1.01] transition-all ${H?"bg-green-500/10 border-green-500/30":$?"bg-red-500/10 border-red-500/30":"bg-muted border-muted-foreground/20"}`,onClick:()=>C(`/game/${P.id}`),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(cr,{avatarUrl:P.opponent_avatar_url,initials:P.opponent_avatar_initials,name:P.opponent_username,size:"sm"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["vs ",P.opponent_username]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Round ",P.round,"  ",P.played_as==="white"?" White":" Black"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[H&&c.jsx(An,{className:"h-5 w-5 text-green-500"}),$&&c.jsx(mv,{className:"h-5 w-5 text-red-500"}),G&&c.jsx(oT,{className:"h-5 w-5 text-muted-foreground"}),c.jsx("span",{className:`font-bold ${H?"text-green-500":$?"text-red-500":"text-muted-foreground"}`,children:H?"Won":$?"Lost":"Draw"})]})]},P.id)})})})]})]})}):null},XA=(t="online-users")=>{const{profile:e}=bi(),[r,n]=p.useState([]);return p.useEffect(()=>{if(!e)return;const i=Z.channel(t,{config:{presence:{key:e.id}}});return i.on("presence",{event:"sync"},()=>{const o=i.presenceState(),a=[];Object.values(o).forEach(l=>{l&&l[0]&&a.push(l[0])}),n(a)}).subscribe(async o=>{o==="SUBSCRIBED"&&await i.track({id:e.id,username:e.username,online_at:new Date().toISOString()})}),()=>{i.unsubscribe()}},[e,t]),{onlineUsers:r,isUserOnline:i=>r.some(o=>o.id===i)}},ZA=()=>{const[t,e]=p.useState([]),[r,n]=p.useState([]),[s,i]=p.useState(!0),[o,a]=p.useState("Checkmate Cup 2K25"),[l,u]=p.useState(!1),{isUserOnline:d}=XA();p.useEffect(()=>{h();const v=Z.channel("standings").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{h()}).on("postgres_changes",{event:"*",schema:"public",table:"games"},()=>{h()}).subscribe();return()=>{Z.removeChannel(v)}},[]);const h=async()=>{const{data:v}=await Z.from("tournaments").select("id, name, format, current_round, total_rounds").in("status",["registration","in_progress","completed"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(v&&(a(v.name),(v.format==="swiss_super_league"||v.format==="swiss_playoffs")&&v.current_round&&v.total_rounds)){const{data:x}=await Z.from("games").select(`
            id,
            white_player_id,
            black_player_id,
            result,
            round
          `).eq("tournament_id",v.id).gte("round",v.current_round);if(x&&x.length>0){const y=new Set;x.forEach(S=>{y.add(S.white_player_id),y.add(S.black_player_id)});const w={};x.forEach(S=>{w[S.white_player_id]||(w[S.white_player_id]=0),w[S.black_player_id]||(w[S.black_player_id]=0),S.result==="white_wins"?w[S.white_player_id]+=1:S.result==="black_wins"?w[S.black_player_id]+=1:S.result==="draw"&&(w[S.white_player_id]+=.5,w[S.black_player_id]+=.5)});const{data:_}=await Z.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, score, games_played, games_won, rating").in("id",Array.from(y));if(_&&_.length>0){const S=_.map(E=>({...E,super_league_score:w[E.id]||0})).sort((E,C)=>C.super_league_score-E.super_league_score);n(S),u(!0)}}}const{data:g}=await Z.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, score, games_played, games_won, rating").order("score",{ascending:!1,nullsFirst:!1}).order("games_won",{ascending:!1,nullsFirst:!1});g&&e(g),i(!1)},f=v=>v===0?c.jsx($n,{className:"h-6 w-6 text-yellow-500 trophy-shine"}):v===1?c.jsx(l1,{className:"h-6 w-6 text-gray-400"}):v===2?c.jsx(Cu,{className:"h-6 w-6 text-amber-700"}):c.jsx("span",{className:"w-6 h-6 flex items-center justify-center font-bold text-muted-foreground",children:v+1}),m=v=>v===0?"bg-gradient-to-r from-yellow-500/20 to-amber-500/20 border-yellow-500/30":v===1?"bg-gradient-to-r from-gray-400/20 to-slate-400/20 border-gray-400/30":v===2?"bg-gradient-to-r from-amber-700/20 to-orange-700/20 border-amber-700/30":"";return c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"font-display text-3xl md:text-4xl font-bold mb-2",children:"Tournament Standings"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:o})]}),l&&r.length>0&&c.jsxs(Le,{className:"border-2 dark:rgb-border",children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(h1,{className:"h-5 w-5 text-accent dark:rgb-text"}),c.jsx("span",{className:"dark:rgb-text",children:"Super League Standings"})]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-2 px-4 py-2 text-sm font-medium text-muted-foreground border-b",children:[c.jsx("div",{className:"col-span-1",children:"#"}),c.jsx("div",{className:"col-span-5",children:"Player"}),c.jsx("div",{className:"col-span-2 text-center",children:"Rating"}),c.jsx("div",{className:"col-span-2 text-center",children:"SL Score"}),c.jsx("div",{className:"col-span-2 text-center",children:"Total"})]}),r.map((v,g)=>c.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center px-4 py-3 rounded-lg border transition-all hover:scale-[1.01] ${m(g)} dark:rgb-glow`,style:{animationDelay:`${g*.5}s`},children:[c.jsx("div",{className:"col-span-1",children:f(g)}),c.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[c.jsx(cr,{avatarUrl:v.avatar_url,initials:v.avatar_initials,name:v.full_name,size:"sm",showOnlineIndicator:!0,isOnline:d(v.id)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:v.username}),c.jsx("p",{className:"text-xs text-muted-foreground",children:v.full_name})]})]}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-primary",children:v.rating||1200})}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-lg text-accent",children:v.super_league_score.toFixed(1)})}),c.jsx("div",{className:"col-span-2 text-center text-sm text-muted-foreground",children:Number(v.score||0).toFixed(1)})]},v.id))]})})]}),c.jsxs(Le,{className:"border-2",children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx($n,{className:"h-5 w-5 text-primary"}),l?"Swiss Round Rankings":"Current Rankings"]})}),c.jsx(Fe,{children:s?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading standings..."}):t.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No players yet."}):c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-2 px-4 py-2 text-sm font-medium text-muted-foreground border-b",children:[c.jsx("div",{className:"col-span-1",children:"#"}),c.jsx("div",{className:"col-span-5",children:"Player"}),c.jsx("div",{className:"col-span-2 text-center",children:"Rating"}),c.jsx("div",{className:"col-span-2 text-center",children:"Score"}),c.jsx("div",{className:"col-span-2 text-center",children:"W/L"})]}),t.map((v,g)=>c.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center px-4 py-3 rounded-lg border transition-all hover:scale-[1.01] ${m(g)}`,children:[c.jsx("div",{className:"col-span-1",children:f(g)}),c.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[c.jsx(cr,{avatarUrl:v.avatar_url,initials:v.avatar_initials,name:v.full_name,size:"sm",showOnlineIndicator:!0,isOnline:d(v.id)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:v.username}),c.jsx("p",{className:"text-xs text-muted-foreground",children:v.full_name})]})]}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-primary",children:v.rating||1200})}),c.jsx("div",{className:"col-span-2 text-center",children:c.jsx("span",{className:"font-bold text-lg",children:Number(v.score||0).toFixed(1)})}),c.jsxs("div",{className:"col-span-2 text-center text-sm",children:[c.jsx("span",{className:"text-green-500",children:v.games_won||0}),c.jsx("span",{className:"text-muted-foreground",children:"/"}),c.jsx("span",{className:"text-red-500",children:(v.games_played||0)-(v.games_won||0)})]})]},v.id))]})})]})]})})},eI=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0);p.useEffect(()=>{s()},[]);const s=async()=>{const{data:i}=await Z.from("champions").select(`
        id,
        published,
        first_place:first_place_id (id, username, full_name, avatar_url, avatar_initials),
        second_place:second_place_id (id, username, full_name, avatar_url, avatar_initials),
        third_place:third_place_id (id, username, full_name, avatar_url, avatar_initials),
        tournament:tournament_id (name)
      `).eq("published",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();i&&e(i),n(!1)};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center",children:[c.jsx(An,{className:"h-16 w-16 mx-auto text-primary animate-float"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading champions..."})]})}):t?c.jsxs("div",{className:"min-h-screen bg-background py-12 px-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/5"}),c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:50}).map((i,o)=>c.jsx("div",{className:"absolute w-3 h-3 rounded-full",style:{left:`${Math.random()*100}%`,top:`-${Math.random()*20}%`,backgroundColor:["#FFD700","#C41E3A","#228B22","#00D4FF","#8B5CF6"][Math.floor(Math.random()*5)],animation:`confetti-fall ${5+Math.random()*5}s linear infinite`,animationDelay:`${Math.random()*5}s`}},o))}),c.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[c.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(An,{className:"h-20 w-20 text-accent trophy-shine"})}),c.jsx("h1",{className:"font-display text-4xl md:text-5xl font-bold mb-2 bg-clip-text text-transparent bg-christmas-gradient dark:bg-neon-gradient",children:"Christmas Gambit Cup 2K25"}),c.jsx("p",{className:"text-xl text-muted-foreground font-gamer-body",children:"Champions"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-end",children:[c.jsx("div",{className:"order-2 md:order-1 animate-fade-in-up",style:{animationDelay:"0.2s"},children:t.second_place&&c.jsx(Le,{className:"border-2 border-gray-400/30 card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsxs("div",{className:"relative inline-block mb-4",children:[c.jsx(cr,{avatarUrl:t.second_place.avatar_url,initials:t.second_place.avatar_initials,name:t.second_place.full_name,size:"lg",className:"ring-4 ring-gray-400"}),c.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gray-400 rounded-full p-2",children:c.jsx(l1,{className:"h-5 w-5 text-white"})})]}),c.jsx("h3",{className:"font-display text-xl font-bold",children:t.second_place.username}),c.jsx("p",{className:"text-muted-foreground",children:t.second_place.full_name}),c.jsxs("div",{className:"mt-4 py-2 bg-gray-400/20 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-400",children:""}),c.jsx("p",{className:"text-sm font-medium",children:"Runner-up"})]})]})})}),c.jsx("div",{className:"order-1 md:order-2 animate-fade-in-up",children:t.first_place&&c.jsxs(Le,{className:"border-4 border-yellow-500/50 shadow-xl relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/10 via-transparent to-amber-500/10"}),c.jsxs(Fe,{className:"pt-8 pb-6 text-center relative",children:[c.jsxs("div",{className:"relative inline-block mb-4",children:[c.jsx(cr,{avatarUrl:t.first_place.avatar_url,initials:t.first_place.avatar_initials,name:t.first_place.full_name,size:"xl",className:"ring-4 ring-yellow-500 trophy-shine"}),c.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:c.jsx(An,{className:"h-10 w-10 text-yellow-500 trophy-shine"})})]}),c.jsx("h3",{className:"font-display text-2xl font-bold",children:t.first_place.username}),c.jsx("p",{className:"text-muted-foreground",children:t.first_place.full_name}),c.jsxs("div",{className:"mt-4 py-3 bg-yellow-500/20 rounded-lg",children:[c.jsx("p",{className:"text-3xl font-bold",children:""}),c.jsx("p",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400",children:"CHAMPION"})]})]})]})}),c.jsx("div",{className:"order-3 animate-fade-in-up",style:{animationDelay:"0.4s"},children:t.third_place&&c.jsx(Le,{className:"border-2 border-amber-700/30 card-hover",children:c.jsxs(Fe,{className:"pt-6 text-center",children:[c.jsxs("div",{className:"relative inline-block mb-4",children:[c.jsx(cr,{avatarUrl:t.third_place.avatar_url,initials:t.third_place.avatar_initials,name:t.third_place.full_name,size:"lg",className:"ring-4 ring-amber-700"}),c.jsx("div",{className:"absolute -bottom-2 -right-2 bg-amber-700 rounded-full p-2",children:c.jsx(Cu,{className:"h-5 w-5 text-white"})})]}),c.jsx("h3",{className:"font-display text-xl font-bold",children:t.third_place.username}),c.jsx("p",{className:"text-muted-foreground",children:t.third_place.full_name}),c.jsxs("div",{className:"mt-4 py-2 bg-amber-700/20 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-amber-700",children:""}),c.jsx("p",{className:"text-sm font-medium",children:"Third Place"})]})]})})})]}),c.jsxs("div",{className:"text-center mt-12",children:[c.jsx("div",{className:"candy-divider w-48 mx-auto mb-4 dark:hidden"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:" Congratulations to all participants! "})]})]})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx($n,{className:"h-20 w-20 mx-auto text-muted-foreground mb-4"}),c.jsx("h1",{className:"font-display text-2xl font-bold mb-2",children:"No Champions Yet"}),c.jsx("p",{className:"text-muted-foreground",children:"The tournament hasn't concluded yet. Check back after the final games!"})]})})},tI=()=>{const{profile:t}=bi(),[e,r]=p.useState([]),[n,s]=p.useState(!0);p.useEffect(()=>{i();const a=Z.channel("games-list").on("postgres_changes",{event:"*",schema:"public",table:"games"},()=>{i()}).subscribe();return()=>{Z.removeChannel(a)}},[]);const i=async()=>{const{data:a}=await Z.from("tournaments").select("id").in("status",["in_progress","completed"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(a){const{data:l}=await Z.from("games").select(`
          id,
          round,
          result,
          white_player_id,
          black_player_id,
          white_player:white_player_id (username, avatar_url, avatar_initials),
          black_player:black_player_id (username, avatar_url, avatar_initials)
        `).eq("tournament_id",a.id).order("round",{ascending:!1}).order("created_at",{ascending:!1});l&&r(l)}s(!1)},o=(a,l,u)=>a==="pending"?c.jsx("span",{className:"text-muted-foreground",children:"Pending"}):a==="in_progress"?c.jsx("span",{className:"text-primary",children:"Live"}):a==="draw"?c.jsx("span",{className:"text-muted-foreground",children:"Draw"}):a==="white_wins"&&l?c.jsx("span",{className:"text-green-500",children:"Won"}):a==="black_wins"&&u?c.jsx("span",{className:"text-green-500",children:"Won"}):a==="white_wins"&&u?c.jsx("span",{className:"text-destructive",children:"Lost"}):a==="black_wins"&&l?c.jsx("span",{className:"text-destructive",children:"Lost"}):c.jsx("span",{className:"capitalize",children:a.replace(/_/g," ")});return c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"font-display text-3xl md:text-4xl font-bold mb-2",children:"Games"}),c.jsx("p",{className:"text-muted-foreground font-gamer-body",children:"Active and completed matches"})]}),c.jsxs(Le,{className:"border-2",children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(ko,{className:"h-5 w-5 text-primary"}),"Match List"]})}),c.jsx(Fe,{children:n?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading games..."}):e.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No games yet. The tournament hasn't started."}):c.jsx("div",{className:"space-y-3",children:e.map(a=>{var h,f,m,v,g,b;const l=(t==null?void 0:t.id)===a.white_player_id,u=(t==null?void 0:t.id)===a.black_player_id,d=l||u;return c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-all ${d?"border-primary/30 bg-primary/5":""} ${a.result==="in_progress"?"ring-2 ring-primary":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:"Round"}),c.jsx("p",{className:"font-bold",children:a.round})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cr,{avatarUrl:(h=a.white_player)==null?void 0:h.avatar_url,initials:(f=a.white_player)==null?void 0:f.avatar_initials,size:"sm"}),c.jsx("span",{className:`font-medium ${l?"text-primary font-bold":""}`,children:(m=a.white_player)==null?void 0:m.username})]}),c.jsx("span",{className:"text-muted-foreground",children:"vs"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cr,{avatarUrl:(v=a.black_player)==null?void 0:v.avatar_url,initials:(g=a.black_player)==null?void 0:g.avatar_initials,size:"sm"}),c.jsx("span",{className:`font-medium ${u?"text-primary font-bold":""}`,children:(b=a.black_player)==null?void 0:b.username})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-right",children:o(a.result,l,u)}),c.jsx(Jr,{to:`/game/${a.id}`,children:c.jsx(be,{size:"sm",variant:a.result==="in_progress"&&d?"default":"outline",children:a.result==="in_progress"?d?c.jsxs(c.Fragment,{children:[c.jsx(ah,{className:"h-4 w-4 mr-1"})," Play"]}):c.jsxs(c.Fragment,{children:[c.jsx($a,{className:"h-4 w-4 mr-1"})," Watch"]}):c.jsxs(c.Fragment,{children:[c.jsx($a,{className:"h-4 w-4 mr-1"})," View"]})})})]})]},a.id)})})})]})]})})};function rI(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function nI(t,e,r,n,s){const i={move:t,variations:s};return e&&(i.suffix=e),r&&(i.nag=r),n!==null&&(i.comment=n),i}function sI(...t){const[e,...r]=t;let n=e;for(const s of r)s!==null&&(n.variations=[s,...s.variations],s.variations=[],n=s);return e}function iI(t,e){if(e.marker&&e.marker.comment){let r=e.root;for(;;){const n=r.variations[0];if(!n){r.comment=e.marker.comment;break}r=n}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function oI(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function No(t,e,r,n){var s=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(s,No.prototype),s.expected=e,s.found=r,s.location=n,s.name="SyntaxError",s}oI(No,Error);function zd(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,r+=r.repeat(e),t+r.slice(0,e))}No.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){r=t[n].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,i=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,o=this.location.source+":"+i.line+":"+i.column;if(r){var a=this.location.end,l=zd("",i.line.toString().length," "),u=r[s.line-1],d=s.line===a.line?a.column:u.length+1,h=d-s.column||1;e+=`
 --> `+o+`
`+l+` |
`+i.line+" | "+u+`
`+l+" | "+zd("",s.column-1," ")+zd("",h,"^")}else e+=`
 at `+o}return e};No.buildMessage=function(t,e){var r={literal:function(u){return'"'+s(u.text)+'"'},class:function(u){var d=u.parts.map(function(h){return Array.isArray(h)?i(h[0])+"-"+i(h[1]):i(h)});return"["+(u.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function n(u){return u.charCodeAt(0).toString(16).toUpperCase()}function s(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+n(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+n(d)})}function i(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+n(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+n(d)})}function o(u){return r[u.type](u)}function a(u){var d=u.map(o),h,f;if(d.sort(),d.length>0){for(h=1,f=1;h<d.length;h++)d[h-1]!==d[h]&&(d[f]=d[h],f++);d.length=f}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function l(u){return u?'"'+s(u)+'"':"end of input"}return"Expected "+a(t)+" but "+l(e)+" found."};function aI(t,e){e=e!==void 0?e:{};var r={},n=e.grammarSource,s={pgn:Hm},i=Hm,o="[",a='"',l="]",u=".",d="O-O-O",h="O-O",f="0-0-0",m="0-0",v="$",g="{",b="}",x=";",y="(",w=")",_="1-0",S="0-1",E="1/2-1/2",C="*",j=/^[a-zA-Z]/,L=/^[^"]/,M=/^[0-9]/,J=/^[.]/,U=/^[a-zA-Z1-8\-=]/,K=/^[+#]/,P=/^[!?]/,H=/^[^}]/,$=/^[^\r\n]/,G=/^[ \t\r\n]/,T=Ge("tag pair"),O=Ae("[",!1),V=Ae('"',!1),ee=Ae("]",!1),k=Ge("tag name"),W=Ue([["a","z"],["A","Z"]],!1,!1),z=Ge("tag value"),X=Ue(['"'],!0,!1),se=Ge("move number"),A=Ue([["0","9"]],!1,!1),re=Ae(".",!1),ye=Ue(["."],!1,!1),oe=Ge("standard algebraic notation"),ie=Ae("O-O-O",!1),ce=Ae("O-O",!1),ze=Ae("0-0-0",!1),yt=Ae("0-0",!1),Lt=Ue([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),ht=Ue(["+","#"],!1,!1),ur=Ge("suffix annotation"),Ht=Ue(["!","?"],!1,!1),Q=Ge("NAG"),fe=Ae("$",!1),he=Ge("brace comment"),je=Ae("{",!1),Je=Ue(["}"],!0,!1),Zt=Ae("}",!1),at=Ge("rest of line comment"),Ie=Ae(";",!1),wt=Ue(["\r",`
`],!0,!1),on=Ge("variation"),Sn=Ae("(",!1),Vt=Ae(")",!1),Mr=Ge("game termination marker"),$r=Ae("1-0",!1),er=Ae("0-1",!1),lt=Ae("1/2-1/2",!1),dr=Ae("*",!1),tr=Ge("whitespace"),an=Ue([" ","	","\r",`
`],!1,!1),Uo=function(N,I){return iI(N,I)},Si=function(N){return Object.fromEntries(N)},qn=function(N,I){return[N,I]},Fo=function(N,I){return{root:N,marker:I}},Ls=function(N,I){return sI(rI(N),...I.flat())},Cr=function(N,I,D,le,ue){return nI(N,I,D,le,ue)},Bo=function(N){return N},ge=function(N){return N.replace(/[\r\n]+/g," ")},Oe=function(N){return N.trim()},Re=function(N){return N},kt=function(N,I){return{result:N,comment:I}},R=e.peg$currPos|0,Tt=[{line:1,column:1}],it=R,xt=e.peg$maxFailExpected||[],B=e.peg$silentFails|0,$e;if(e.startRule){if(!(e.startRule in s))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=s[e.startRule]}function Ae(N,I){return{type:"literal",text:N,ignoreCase:I}}function Ue(N,I,D){return{type:"class",parts:N,inverted:I,ignoreCase:D}}function ln(){return{type:"end"}}function Ge(N){return{type:"other",description:N}}function ml(N){var I=Tt[N],D;if(I)return I;if(N>=Tt.length)D=Tt.length-1;else for(D=N;!Tt[--D];);for(I=Tt[D],I={line:I.line,column:I.column};D<N;)t.charCodeAt(D)===10?(I.line++,I.column=1):I.column++,D++;return Tt[N]=I,I}function Wm(N,I,D){var le=ml(N),ue=ml(I),De={source:n,start:{offset:N,line:le.line,column:le.column},end:{offset:I,line:ue.line,column:ue.column}};return De}function ae(N){R<it||(R>it&&(it=R,xt=[]),xt.push(N))}function pE(N,I,D){return new No(No.buildMessage(N,I),N,I,D)}function Hm(){var N,I,D;return N=R,I=mE(),D=yE(),N=Uo(I,D),N}function mE(){var N,I,D;for(N=R,I=[],D=Vm();D!==r;)I.push(D),D=Vm();return D=qt(),N=Si(I),N}function Vm(){var N,I,D,le,ue,De,Ms;return B++,N=R,qt(),t.charCodeAt(R)===91?(I=o,R++):(I=r,B===0&&ae(O)),I!==r?(qt(),D=gE(),D!==r?(qt(),t.charCodeAt(R)===34?(le=a,R++):(le=r,B===0&&ae(V)),le!==r?(ue=vE(),t.charCodeAt(R)===34?(De=a,R++):(De=r,B===0&&ae(V)),De!==r?(qt(),t.charCodeAt(R)===93?(Ms=l,R++):(Ms=r,B===0&&ae(ee)),Ms!==r?N=qn(D,ue):(R=N,N=r)):(R=N,N=r)):(R=N,N=r)):(R=N,N=r)):(R=N,N=r),B--,N===r&&B===0&&ae(T),N}function gE(){var N,I,D;if(B++,N=R,I=[],D=t.charAt(R),j.test(D)?R++:(D=r,B===0&&ae(W)),D!==r)for(;D!==r;)I.push(D),D=t.charAt(R),j.test(D)?R++:(D=r,B===0&&ae(W));else I=r;return I!==r?N=t.substring(N,R):N=I,B--,N===r&&(I=r,B===0&&ae(k)),N}function vE(){var N,I,D;for(B++,N=R,I=[],D=t.charAt(R),L.test(D)?R++:(D=r,B===0&&ae(X));D!==r;)I.push(D),D=t.charAt(R),L.test(D)?R++:(D=r,B===0&&ae(X));return N=t.substring(N,R),B--,I=r,B===0&&ae(z),N}function yE(){var N,I,D;return N=R,I=qm(),qt(),D=EE(),D===r&&(D=null),qt(),N=Fo(I,D),N}function qm(){var N,I,D,le;for(N=R,I=Yu(),I===r&&(I=null),D=[],le=Km();le!==r;)D.push(le),le=Km();return N=Ls(I,D),N}function Km(){var N,I,D,le,ue,De,Ms,gl;if(N=R,qt(),wE(),qt(),I=xE(),I!==r){for(D=bE(),D===r&&(D=null),le=[],ue=Gm();ue!==r;)le.push(ue),ue=Gm();for(ue=qt(),De=Yu(),De===r&&(De=null),Ms=[],gl=Qm();gl!==r;)Ms.push(gl),gl=Qm();N=Cr(I,D,le,De,Ms)}else R=N,N=r;return N}function wE(){var N,I,D,le,ue,De;for(B++,N=R,I=[],D=t.charAt(R),M.test(D)?R++:(D=r,B===0&&ae(A));D!==r;)I.push(D),D=t.charAt(R),M.test(D)?R++:(D=r,B===0&&ae(A));if(t.charCodeAt(R)===46?(D=u,R++):(D=r,B===0&&ae(re)),D!==r){for(le=qt(),ue=[],De=t.charAt(R),J.test(De)?R++:(De=r,B===0&&ae(ye));De!==r;)ue.push(De),De=t.charAt(R),J.test(De)?R++:(De=r,B===0&&ae(ye));I=[I,D,le,ue],N=I}else R=N,N=r;return B--,N===r&&(I=r,B===0&&ae(se)),N}function xE(){var N,I,D,le,ue,De;if(B++,N=R,I=R,t.substr(R,5)===d?(D=d,R+=5):(D=r,B===0&&ae(ie)),D===r&&(t.substr(R,3)===h?(D=h,R+=3):(D=r,B===0&&ae(ce)),D===r&&(t.substr(R,5)===f?(D=f,R+=5):(D=r,B===0&&ae(ze)),D===r&&(t.substr(R,3)===m?(D=m,R+=3):(D=r,B===0&&ae(yt)),D===r))))if(D=R,le=t.charAt(R),j.test(le)?R++:(le=r,B===0&&ae(W)),le!==r){if(ue=[],De=t.charAt(R),U.test(De)?R++:(De=r,B===0&&ae(Lt)),De!==r)for(;De!==r;)ue.push(De),De=t.charAt(R),U.test(De)?R++:(De=r,B===0&&ae(Lt));else ue=r;ue!==r?(le=[le,ue],D=le):(R=D,D=r)}else R=D,D=r;return D!==r?(le=t.charAt(R),K.test(le)?R++:(le=r,B===0&&ae(ht)),le===r&&(le=null),D=[D,le],I=D):(R=I,I=r),I!==r?N=t.substring(N,R):N=I,B--,N===r&&(I=r,B===0&&ae(oe)),N}function bE(){var N,I,D;for(B++,N=R,I=[],D=t.charAt(R),P.test(D)?R++:(D=r,B===0&&ae(Ht));D!==r;)I.push(D),I.length>=2?D=r:(D=t.charAt(R),P.test(D)?R++:(D=r,B===0&&ae(Ht)));return I.length<1?(R=N,N=r):N=I,B--,N===r&&(I=r,B===0&&ae(ur)),N}function Gm(){var N,I,D,le,ue;if(B++,N=R,qt(),t.charCodeAt(R)===36?(I=v,R++):(I=r,B===0&&ae(fe)),I!==r){if(D=R,le=[],ue=t.charAt(R),M.test(ue)?R++:(ue=r,B===0&&ae(A)),ue!==r)for(;ue!==r;)le.push(ue),ue=t.charAt(R),M.test(ue)?R++:(ue=r,B===0&&ae(A));else le=r;le!==r?D=t.substring(D,R):D=le,D!==r?N=Bo(D):(R=N,N=r)}else R=N,N=r;return B--,N===r&&B===0&&ae(Q),N}function Yu(){var N;return N=_E(),N===r&&(N=SE()),N}function _E(){var N,I,D,le,ue;if(B++,N=R,t.charCodeAt(R)===123?(I=g,R++):(I=r,B===0&&ae(je)),I!==r){for(D=R,le=[],ue=t.charAt(R),H.test(ue)?R++:(ue=r,B===0&&ae(Je));ue!==r;)le.push(ue),ue=t.charAt(R),H.test(ue)?R++:(ue=r,B===0&&ae(Je));D=t.substring(D,R),t.charCodeAt(R)===125?(le=b,R++):(le=r,B===0&&ae(Zt)),le!==r?N=ge(D):(R=N,N=r)}else R=N,N=r;return B--,N===r&&(I=r,B===0&&ae(he)),N}function SE(){var N,I,D,le,ue;if(B++,N=R,t.charCodeAt(R)===59?(I=x,R++):(I=r,B===0&&ae(Ie)),I!==r){for(D=R,le=[],ue=t.charAt(R),$.test(ue)?R++:(ue=r,B===0&&ae(wt));ue!==r;)le.push(ue),ue=t.charAt(R),$.test(ue)?R++:(ue=r,B===0&&ae(wt));D=t.substring(D,R),N=Oe(D)}else R=N,N=r;return B--,N===r&&(I=r,B===0&&ae(at)),N}function Qm(){var N,I,D,le;return B++,N=R,qt(),t.charCodeAt(R)===40?(I=y,R++):(I=r,B===0&&ae(Sn)),I!==r?(D=qm(),D!==r?(qt(),t.charCodeAt(R)===41?(le=w,R++):(le=r,B===0&&ae(Vt)),le!==r?N=Re(D):(R=N,N=r)):(R=N,N=r)):(R=N,N=r),B--,N===r&&B===0&&ae(on),N}function EE(){var N,I,D;return B++,N=R,t.substr(R,3)===_?(I=_,R+=3):(I=r,B===0&&ae($r)),I===r&&(t.substr(R,3)===S?(I=S,R+=3):(I=r,B===0&&ae(er)),I===r&&(t.substr(R,7)===E?(I=E,R+=7):(I=r,B===0&&ae(lt)),I===r&&(t.charCodeAt(R)===42?(I=C,R++):(I=r,B===0&&ae(dr))))),I!==r?(qt(),D=Yu(),D===r&&(D=null),N=kt(I,D)):(R=N,N=r),B--,N===r&&(I=r,B===0&&ae(Mr)),N}function qt(){var N,I;for(B++,N=[],I=t.charAt(R),G.test(I)?R++:(I=r,B===0&&ae(an));I!==r;)N.push(I),I=t.charAt(R),G.test(I)?R++:(I=r,B===0&&ae(an));return B--,I=r,B===0&&ae(tr),N}if($e=i(),e.peg$library)return{peg$result:$e,peg$currPos:R,peg$FAILED:r,peg$maxFailExpected:xt,peg$maxFailPos:it};if($e!==r&&R===t.length)return $e;throw $e!==r&&R<t.length&&ae(ln()),pE(xt,it<t.length?t.charAt(it):null,it<t.length?Wm(it,it+1):Wm(it,it))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const hc=0xffffffffffffffffn;function Wd(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function v0(t,e){return t*e&hc}function lI(t){return function(){let e=BigInt(t&hc),r=BigInt(t>>64n&hc);const n=v0(Wd(v0(e,5n),7n),9n);return r^=e,e=(Wd(e,24n)^r^r<<16n)&hc,r=Wd(r,37n),t=r<<64n|e,n}}const Uu=lI(0xa187eb39cdcaed8f31c4b365b102e01en),cI=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Uu()))),uI=Array.from({length:8},()=>Uu()),dI=Array.from({length:16},()=>Uu()),Hd=Uu(),Ft="w",hr="b",ct="p",Ih="n",pc="b",ia="r",ns="q",mt="k",Vd="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Hl{constructor(e,r){Qe(this,"color");Qe(this,"from");Qe(this,"to");Qe(this,"piece");Qe(this,"captured");Qe(this,"promotion");Qe(this,"flags");Qe(this,"san");Qe(this,"lan");Qe(this,"before");Qe(this,"after");const{color:n,piece:s,from:i,to:o,flags:a,captured:l,promotion:u}=r,d=bt(i),h=bt(o);this.color=n,this.piece=s,this.from=d,this.to=h,this.san=e._moveToSan(r,e._moves({legal:!0})),this.lan=d+h,this.before=e.fen(),e._makeMove(r),this.after=e.fen(),e._undoMove(),this.flags="";for(const f in we)we[f]&a&&(this.flags+=Fs[f]);l&&(this.captured=l),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(Fs.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Fs.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Fs.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Fs.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Fs.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Fs.BIG_PAWN)>-1}}const Nt=-1,Fs={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},we={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Dh={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},fI={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},hI={...Dh,...fI},ve={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},qd={b:[16,32,17,15],w:[-16,-32,-17,-15]},y0={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},pI=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],mI=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],gI={p:1,n:2,b:4,r:8,q:16,k:32},vI="pnbrqkPNBRQK",w0=[Ih,pc,ia,ns],yI=7,wI=6,xI=1,bI=0,Vl={[mt]:we.KSIDE_CASTLE,[ns]:we.QSIDE_CASTLE},Yn={w:[{square:ve.a1,flag:we.QSIDE_CASTLE},{square:ve.h1,flag:we.KSIDE_CASTLE}],b:[{square:ve.a8,flag:we.QSIDE_CASTLE},{square:ve.h8,flag:we.KSIDE_CASTLE}]},_I={b:xI,w:wI},Kd="--";function si(t){return t>>4}function Xa(t){return t&15}function o_(t){return"0123456789".indexOf(t)!==-1}function bt(t){const e=Xa(t),r=si(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function Xo(t){return t===Ft?hr:Ft}function SI(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const s=e[0].split("/");if(s.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<s.length;o++){let a=0,l=!1;for(let u=0;u<s[o].length;u++)if(o_(s[o][u])){if(l)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};a+=parseInt(s[o][u],10),l=!0}else{if(!/^[prnbqkPRNBQK]$/.test(s[o][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};a+=1,l=!1}if(a!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:a}of i){if(!a.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(a)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(s[0]+s[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function EI(t,e){const r=t.from,n=t.to,s=t.piece;let i=0,o=0,a=0;for(let l=0,u=e.length;l<u;l++){const d=e[l].from,h=e[l].to,f=e[l].piece;s===f&&r!==d&&n===h&&(i++,si(r)===si(d)&&o++,Xa(r)===Xa(d)&&a++)}return i>0?o>0&&a>0?bt(r):a>0?bt(r).charAt(1):bt(r).charAt(0):""}function Jn(t,e,r,n,s,i=void 0,o=we.NORMAL){const a=si(n);if(s===ct&&(a===yI||a===bI))for(let l=0;l<w0.length;l++){const u=w0[l];t.push({color:e,from:r,to:n,piece:s,captured:i,promotion:u,flags:o|we.PROMOTION})}else t.push({color:e,from:r,to:n,piece:s,captured:i,flags:o})}function x0(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:ct:(e=e.toLowerCase(),e==="o"?mt:e)}function Gd(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class pn{constructor(e=Vd,{skipValidation:r=!1}={}){Qe(this,"_board",new Array(128));Qe(this,"_turn",Ft);Qe(this,"_header",{});Qe(this,"_kings",{w:Nt,b:Nt});Qe(this,"_epSquare",-1);Qe(this,"_halfMoves",0);Qe(this,"_moveNumber",0);Qe(this,"_history",[]);Qe(this,"_comments",{});Qe(this,"_castling",{w:0,b:0});Qe(this,"_hash",0n);Qe(this,"_positionCount",new Map);this.load(e,{skipValidation:r})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:Nt,b:Nt},this._turn=Ft,this._castling={w:0,b:0},this._epSquare=Nt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...hI},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:r=!1,preserveHeaders:n=!1}={}){let s=e.split(/\s+/);if(s.length>=2&&s.length<6){const a=["-","-","0","1"];e=s.concat(a.slice(-(6-s.length))).join(" ")}if(s=e.split(/\s+/),!r){const{ok:a,error:l}=SI(e);if(!a)throw new Error(l)}const i=s[0];let o=0;this.clear({preserveHeaders:n});for(let a=0;a<i.length;a++){const l=i.charAt(a);if(l==="/")o+=8;else if(o_(l))o+=parseInt(l,10);else{const u=l<"a"?Ft:hr;this._put({type:l.toLowerCase(),color:u},bt(o)),o++}}this._turn=s[1],s[2].indexOf("K")>-1&&(this._castling.w|=we.KSIDE_CASTLE),s[2].indexOf("Q")>-1&&(this._castling.w|=we.QSIDE_CASTLE),s[2].indexOf("k")>-1&&(this._castling.b|=we.KSIDE_CASTLE),s[2].indexOf("q")>-1&&(this._castling.b|=we.QSIDE_CASTLE),this._epSquare=s[3]==="-"?Nt:ve[s[3]],this._halfMoves=parseInt(s[4],10),this._moveNumber=parseInt(s[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){var o,a;let r=0,n="";for(let l=ve.a8;l<=ve.h1;l++){if(this._board[l]){r>0&&(n+=r,r=0);const{color:u,type:d}=this._board[l];n+=u===Ft?d.toUpperCase():d.toLowerCase()}else r++;l+1&136&&(r>0&&(n+=r),l!==ve.h1&&(n+="/"),r=0,l+=8)}let s="";this._castling[Ft]&we.KSIDE_CASTLE&&(s+="K"),this._castling[Ft]&we.QSIDE_CASTLE&&(s+="Q"),this._castling[hr]&we.KSIDE_CASTLE&&(s+="k"),this._castling[hr]&we.QSIDE_CASTLE&&(s+="q"),s=s||"-";let i="-";if(this._epSquare!==Nt)if(e)i=bt(this._epSquare);else{const l=this._epSquare+(this._turn===Ft?16:-16),u=[l+1,l-1];for(const d of u){if(d&136)continue;const h=this._turn;if(((o=this._board[d])==null?void 0:o.color)===h&&((a=this._board[d])==null?void 0:a.type)===ct){this._makeMove({color:h,from:d,to:this._epSquare,piece:ct,captured:ct,flags:we.EP_CAPTURE});const f=!this._isKingAttacked(h);if(this._undoMove(),f){i=bt(this._epSquare);break}}}}return[n,this._turn,s,i,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:r,type:n}=this._board[e],s={w:0,b:1}[r],i={p:0,n:1,b:2,r:3,q:4,k:5}[n];return cI[s][i][e]}_epKey(){return this._epSquare===Nt?0n:uI[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return dI[e]}_computeHash(){let e=0n;for(let r=ve.a8;r<=ve.h1;r++){if(r&136){r+=7;continue}this._board[r]&&(e^=this._pieceKey(r))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=Hd),e}_updateSetup(e){this._history.length>0||(e!==Vd?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Vd)}get(e){return this._board[ve[e]]}findPiece(e){var n;const r=[];for(let s=ve.a8;s<=ve.h1;s++){if(s&136){s+=7;continue}!this._board[s]||((n=this._board[s])==null?void 0:n.color)!==e.color||this._board[s].color===e.color&&this._board[s].type===e.type&&r.push(bt(s))}return r}put({type:e,color:r},n){return this._put({type:e,color:r},n)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,r){this._hash^=this._pieceKey(e),this._board[e]=r,this._hash^=this._pieceKey(e)}_put({type:e,color:r},n){if(vI.indexOf(e.toLowerCase())===-1||!(n in ve))return!1;const s=ve[n];if(e==mt&&!(this._kings[r]==Nt||this._kings[r]==s))return!1;const i=this._board[s];return i&&i.type===mt&&(this._kings[i.color]=Nt),this._set(s,{type:e,color:r}),e===mt&&(this._kings[r]=s),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const r=this.get(e);return this._clear(ve[e]),r&&r.type===mt&&(this._kings[r.color]=Nt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){var n,s,i,o,a,l,u,d,h,f,m,v;this._hash^=this._castlingKey();const e=((n=this._board[ve.e1])==null?void 0:n.type)===mt&&((s=this._board[ve.e1])==null?void 0:s.color)===Ft,r=((i=this._board[ve.e8])==null?void 0:i.type)===mt&&((o=this._board[ve.e8])==null?void 0:o.color)===hr;(!e||((a=this._board[ve.a1])==null?void 0:a.type)!==ia||((l=this._board[ve.a1])==null?void 0:l.color)!==Ft)&&(this._castling.w&=-65),(!e||((u=this._board[ve.h1])==null?void 0:u.type)!==ia||((d=this._board[ve.h1])==null?void 0:d.color)!==Ft)&&(this._castling.w&=-33),(!r||((h=this._board[ve.a8])==null?void 0:h.type)!==ia||((f=this._board[ve.a8])==null?void 0:f.color)!==hr)&&(this._castling.b&=-65),(!r||((m=this._board[ve.h8])==null?void 0:m.type)!==ia||((v=this._board[ve.h8])==null?void 0:v.color)!==hr)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var i,o;if(this._epSquare===Nt)return;const e=this._epSquare+(this._turn===Ft?-16:16),r=this._epSquare+(this._turn===Ft?16:-16),n=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((i=this._board[r])==null?void 0:i.color)!==Xo(this._turn)||((o=this._board[r])==null?void 0:o.type)!==ct){this._hash^=this._epKey(),this._epSquare=Nt;return}const s=a=>{var l,u;return!(a&136)&&((l=this._board[a])==null?void 0:l.color)===this._turn&&((u=this._board[a])==null?void 0:u.type)===ct};n.some(s)||(this._hash^=this._epKey(),this._epSquare=Nt)}_attacked(e,r,n){const s=[];for(let i=ve.a8;i<=ve.h1;i++){if(i&136){i+=7;continue}if(this._board[i]===void 0||this._board[i].color!==e)continue;const o=this._board[i],a=i-r;if(a===0)continue;const l=a+119;if(pI[l]&gI[o.type]){if(o.type===ct){if(a>0&&o.color===Ft||a<=0&&o.color===hr)if(n)s.push(bt(i));else return!0;continue}if(o.type==="n"||o.type==="k")if(n){s.push(bt(i));continue}else return!0;const u=mI[l];let d=i+u,h=!1;for(;d!==r;){if(this._board[d]!=null){h=!0;break}d+=u}if(!h)if(n){s.push(bt(i));continue}else return!0}}return n?s:!1}attackers(e,r){return r?this._attacked(r,ve[e],!0):this._attacked(this._turn,ve[e],!0)}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(Xo(e),r)}hash(){return this._hash.toString(16)}isAttacked(e,r){return this._attacked(r,ve[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let n=0,s=0;for(let i=ve.a8;i<=ve.h1;i++){if(s=(s+1)%2,i&136){i+=7;continue}const o=this._board[i];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===pc&&r.push(s),n++)}if(n===2)return!0;if(n===3&&(e[pc]===1||e[Ih]===1))return!0;if(n===e[pc]+2){let i=0;const o=r.length;for(let a=0;a<o;a++)i+=r[a];if(i===0||i===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:n=void 0}={}){const s=this._moves({square:r,piece:n});return e?s.map(i=>new Hl(this,i)):s.map(i=>this._moveToSan(i,s))}_moves({legal:e=!0,piece:r=void 0,square:n=void 0}={}){var m;const s=n?n.toLowerCase():void 0,i=r==null?void 0:r.toLowerCase(),o=[],a=this._turn,l=Xo(a);let u=ve.a8,d=ve.h1,h=!1;if(s)if(s in ve)u=d=ve[s],h=!0;else return[];for(let v=u;v<=d;v++){if(v&136){v+=7;continue}if(!this._board[v]||this._board[v].color===l)continue;const{type:g}=this._board[v];let b;if(g===ct){if(i&&i!==g)continue;b=v+qd[a][0],this._board[b]||(Jn(o,a,v,b,ct),b=v+qd[a][1],_I[a]===si(v)&&!this._board[b]&&Jn(o,a,v,b,ct,void 0,we.BIG_PAWN));for(let x=2;x<4;x++)b=v+qd[a][x],!(b&136)&&(((m=this._board[b])==null?void 0:m.color)===l?Jn(o,a,v,b,ct,this._board[b].type,we.CAPTURE):b===this._epSquare&&Jn(o,a,v,b,ct,ct,we.EP_CAPTURE))}else{if(i&&i!==g)continue;for(let x=0,y=y0[g].length;x<y;x++){const w=y0[g][x];for(b=v;b+=w,!(b&136);){if(!this._board[b])Jn(o,a,v,b,g);else{if(this._board[b].color===a)break;Jn(o,a,v,b,g,this._board[b].type,we.CAPTURE);break}if(g===Ih||g===mt)break}}}}if((i===void 0||i===mt)&&(!h||d===this._kings[a])){if(this._castling[a]&we.KSIDE_CASTLE){const v=this._kings[a],g=v+2;!this._board[v+1]&&!this._board[g]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v+1)&&!this._attacked(l,g)&&Jn(o,a,this._kings[a],g,mt,void 0,we.KSIDE_CASTLE)}if(this._castling[a]&we.QSIDE_CASTLE){const v=this._kings[a],g=v-2;!this._board[v-1]&&!this._board[v-2]&&!this._board[v-3]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v-1)&&!this._attacked(l,g)&&Jn(o,a,this._kings[a],g,mt,void 0,we.QSIDE_CASTLE)}}if(!e||this._kings[a]===-1)return o;const f=[];for(let v=0,g=o.length;v<g;v++)this._makeMove(o[v]),this._isKingAttacked(a)||f.push(o[v]),this._undoMove();return f}move(e,{strict:r=!1}={}){let n=null;if(typeof e=="string")n=this._moveFromSan(e,r);else if(e===null)n=this._moveFromSan(Kd,r);else if(typeof e=="object"){const i=this._moves();for(let o=0,a=i.length;o<a;o++)if(e.from===bt(i[o].from)&&e.to===bt(i[o].to)&&(!("promotion"in i[o])||e.promotion===i[o].promotion)){n=i[o];break}}if(!n)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&n.flags&we.NULL_MOVE)throw new Error("Null move not allowed when in check");const s=new Hl(this,n);return this._makeMove(n),this._incPositionCount(),s}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,r){this._hash^=this._pieceKey(e),this._board[r]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(r)}_makeMove(e){var s,i,o,a;const r=this._turn,n=Xo(r);if(this._push(e),e.flags&we.NULL_MOVE){r===hr&&this._moveNumber++,this._halfMoves++,this._turn=n,this._epSquare=Nt;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&we.EP_CAPTURE&&(this._turn===hr?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:r})),this._board[e.to].type===mt){if(this._kings[r]=e.to,e.flags&we.KSIDE_CASTLE){const l=e.to-1,u=e.to+1;this._movePiece(u,l)}else if(e.flags&we.QSIDE_CASTLE){const l=e.to+1,u=e.to-2;this._movePiece(u,l)}this._castling[r]=0}if(this._castling[r]){for(let l=0,u=Yn[r].length;l<u;l++)if(e.from===Yn[r][l].square&&this._castling[r]&Yn[r][l].flag){this._castling[r]^=Yn[r][l].flag;break}}if(this._castling[n]){for(let l=0,u=Yn[n].length;l<u;l++)if(e.to===Yn[n][l].square&&this._castling[n]&Yn[n][l].flag){this._castling[n]^=Yn[n][l].flag;break}}if(this._hash^=this._castlingKey(),e.flags&we.BIG_PAWN){let l;r===hr?l=e.to-16:l=e.to+16,!(e.to-1&136)&&((s=this._board[e.to-1])==null?void 0:s.type)===ct&&((i=this._board[e.to-1])==null?void 0:i.color)===n||!(e.to+1&136)&&((o=this._board[e.to+1])==null?void 0:o.type)===ct&&((a=this._board[e.to+1])==null?void 0:a.color)===n?(this._epSquare=l,this._hash^=this._epKey()):this._epSquare=Nt}else this._epSquare=Nt;e.piece===ct?this._halfMoves=0:e.flags&(we.CAPTURE|we.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===hr&&this._moveNumber++,this._turn=n,this._hash^=Hd}undo(){const e=this._hash,r=this._undoMove();if(r){const n=new Hl(this,r);return this._decPositionCount(e),n}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Hd;const n=this._turn,s=Xo(n);if(r.flags&we.NULL_MOVE)return r;if(this._movePiece(r.to,r.from),r.piece&&(this._clear(r.from),this._set(r.from,{type:r.piece,color:n})),r.captured)if(r.flags&we.EP_CAPTURE){let i;n===hr?i=r.to-16:i=r.to+16,this._set(i,{type:ct,color:s})}else this._set(r.to,{type:r.captured,color:s});if(r.flags&(we.KSIDE_CASTLE|we.QSIDE_CASTLE)){let i,o;r.flags&we.KSIDE_CASTLE?(i=r.to+1,o=r.to-1):(i=r.to-2,o=r.to+1),this._movePiece(o,i)}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const n=[];let s=!1;for(const f in this._header)this._header[f]&&n.push(`[${f} "${this._header[f]}"]`+e),s=!0;s&&this._history.length&&n.push(e);const i=f=>{const m=this._comments[this.fen()];if(typeof m<"u"){const v=f.length>0?" ":"";f=`${f}${v}{${m}}`}return f},o=[];for(;this._history.length>0;)o.push(this._undoMove());const a=[];let l="";for(o.length===0&&a.push(i(""));o.length>0;){l=i(l);const f=o.pop();if(!f)break;if(!this._history.length&&f.color==="b"){const m=`${this._moveNumber}. ...`;l=l?`${l} ${m}`:m}else f.color==="w"&&(l.length&&a.push(l),l=this._moveNumber+".");l=l+" "+this._moveToSan(f,this._moves({legal:!0})),this._makeMove(f)}if(l.length&&a.push(i(l)),a.push(this._header.Result||"*"),r===0)return n.join("")+a.join(" ");const u=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},d=function(f,m){for(const v of m.split(" "))if(v){if(f+v.length>r){for(;u();)f--;n.push(e),f=0}n.push(v),f+=v.length,n.push(" "),f++}return u()&&f--,f};let h=0;for(let f=0;f<a.length;f++){if(h+a[f].length>r&&a[f].includes("{")){h=d(h,a[f]);continue}h+a[f].length>r&&f!==0?(n[n.length-1]===" "&&n.pop(),n.push(e),h=0):f!==0&&(n.push(" "),h++),n.push(a[f]),h+=a[f].length}return n.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}setHeader(e,r){return this._header[e]=r??Dh[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Dh[e]||null,!0):!1}getHeaders(){const e={};for(const[r,n]of Object.entries(this._header))n!==null&&(e[r]=n);return e}loadPgn(e,{strict:r=!1,newlineChar:n=`\r?
`}={}){n!==`\r?
`&&(e=e.replace(new RegExp(n,"g"),`
`));const s=aI(e);this.reset();const i=s.headers;let o="";for(const u in i)u.toLowerCase()==="fen"&&(o=i[u]),this.header(u,i[u]);if(!r)o&&this.load(o,{preserveHeaders:!0});else if(i.SetUp==="1"){if(!("FEN"in i))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(i.FEN,{preserveHeaders:!0})}let a=s.root;for(;a;){if(a.move){const u=this._moveFromSan(a.move,r);if(u==null)throw new Error(`Invalid move in PGN: ${a.move}`);this._makeMove(u),this._incPositionCount()}a.comment!==void 0&&(this._comments[this.fen()]=a.comment),a=a.variations[0]}const l=s.result;l&&Object.keys(this._header).length&&this._header.Result!==l&&this.setHeader("Result",l)}_moveToSan(e,r){let n="";if(e.flags&we.KSIDE_CASTLE)n="O-O";else if(e.flags&we.QSIDE_CASTLE)n="O-O-O";else{if(e.flags&we.NULL_MOVE)return Kd;if(e.piece!==ct){const s=EI(e,r);n+=e.piece.toUpperCase()+s}e.flags&(we.CAPTURE|we.EP_CAPTURE)&&(e.piece===ct&&(n+=bt(e.from)[0]),n+="x"),n+=bt(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,r=!1){let n=Gd(e);if(r||(n==="0-0"?n="O-O":n==="0-0-0"&&(n="O-O-O")),n==Kd)return{color:this._turn,from:0,to:0,piece:"k",flags:we.NULL_MOVE};let s=x0(n),i=this._moves({legal:!0,piece:s});for(let f=0,m=i.length;f<m;f++)if(n===Gd(this._moveToSan(i[f],i)))return i[f];if(r)return null;let o,a,l,u,d,h=!1;if(a=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),a?(o=a[1],l=a[2],u=a[3],d=a[4],l.length==1&&(h=!0)):(a=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),a&&(o=a[1],l=a[2],u=a[3],d=a[4],l.length==1&&(h=!0))),s=x0(n),i=this._moves({legal:!0,piece:o||s}),!u)return null;for(let f=0,m=i.length;f<m;f++)if(l){if((!o||o.toLowerCase()==i[f].piece)&&ve[l]==i[f].from&&ve[u]==i[f].to&&(!d||d.toLowerCase()==i[f].promotion))return i[f];if(h){const v=bt(i[f].from);if((!o||o.toLowerCase()==i[f].piece)&&ve[u]==i[f].to&&(l==v[0]||l==v[1])&&(!d||d.toLowerCase()==i[f].promotion))return i[f]}}else if(n===Gd(this._moveToSan(i[f],i)).replace("x",""))return i[f];return null}ascii(){let e=`   +------------------------+
`;for(let r=ve.a8;r<=ve.h1;r++){if(Xa(r)===0&&(e+=" "+"87654321"[si(r)]+" |"),this._board[r]){const n=this._board[r].type,i=this._board[r].color===Ft?n.toUpperCase():n.toLowerCase();e+=" "+i+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let n=0;const s=this._turn;for(let i=0,o=r.length;i<o;i++)this._makeMove(r[i]),this._isKingAttacked(s)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let r=[];for(let n=ve.a8;n<=ve.h1;n++)this._board[n]==null?r.push(null):r.push({square:bt(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e}squareColor(e){if(e in ve){const r=ve[e];return(si(r)+Xa(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],n=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const s=r.pop();if(!s)break;e?n.push(new Hl(this,s)):n.push(this._moveToSan(s,this._moves())),this._makeMove(s)}return n}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const r=this._positionCount.get(e)??0;r===1?this._positionCount.delete(e):this._positionCount.set(e,r-1)}_pruneComments(){const e=[],r={},n=s=>{s in this._comments&&(r[s]=this._comments[s])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const s=e.pop();if(!s)break;this._makeMove(s),n(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const s of[mt,ns])r[s]!==void 0&&(r[s]?this._castling[e]|=Vl[s]:this._castling[e]&=~Vl[s]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(r[mt]===void 0||r[mt]===n[mt])&&(r[ns]===void 0||r[ns]===n[ns])}getCastlingRights(e){return{[mt]:(this._castling[e]&Vl[mt])!==0,[ns]:(this._castling[e]&Vl[ns])!==0}}moveNumber(){return this._moveNumber}}function CI(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}const Za="abcdefgh".split(""),mc={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},kI={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},TI={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},jI=[7,6,5,4,3,2,1,0],NI=[0,1,2,3,4,5,6,7],b0={wP:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),c.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),c.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[c.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),c.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),c.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),c.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[c.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),c.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),c.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),c.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),c.jsx("circle",{cx:"6",cy:"12",r:"2"}),c.jsx("circle",{cx:"14",cy:"9",r:"2"}),c.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),c.jsx("circle",{cx:"31",cy:"9",r:"2"}),c.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),c.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),c.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),c.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),c.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[c.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),c.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),c.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),c.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[c.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),c.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),c.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),c.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),c.jsx("circle",{cx:"6",cy:"12",r:"2"}),c.jsx("circle",{cx:"14",cy:"9",r:"2"}),c.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),c.jsx("circle",{cx:"31",cy:"9",r:"2"}),c.jsx("circle",{cx:"39",cy:"12",r:"2"}),c.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),c.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[c.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),c.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),c.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),c.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:c.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[c.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),c.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),c.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),c.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),c.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Lh(t,e,r){const n=e/8,s=t==="white"?kI:TI,i=t==="white"?jI:NI,o=s[r[0]]*n+n/2,a=i[parseInt(r[1],10)-1]*n+n/2;return{x:o,y:a}}function _0(t){let e=!1;return Object.keys(mc).forEach(r=>{t[r]!==mc[r]&&(e=!0)}),Object.keys(t).forEach(r=>{mc[r]!==t[r]&&(e=!0)}),e}function OI(t,e){const r={removed:{},added:{}};return Object.keys(t).forEach(n=>{e[n]!==t[n]&&(r.removed[n]=t[n])}),Object.keys(e).forEach(n=>{t[n]!==e[n]&&(r.added[n]=e[n])}),r}function S0(t){return t==="start"?mc:typeof t=="string"?PI(t):t}function PI(t){if(!RI(t))return{};t=t.replace(/ .+$/,"");const e=t.split("/"),r={};let n=8;for(let s=0;s<8;s++){const i=e[s].split("");let o=0;for(let a=0;a<i.length;a++)if(i[a].search(/[1-8]/)!==-1){const l=parseInt(i[a],10);o=o+l}else{const l=Za[o]+n;r[l]=II(i[a]),o=o+1}n=n-1}return r}function RI(t){t=t.replace(/ .+$/,""),t=AI(t);const e=t.split("/");if(e.length!==8)return!1;for(let r=0;r<8;r++)if(e[r].length!==8||e[r].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function AI(t){return t.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function II(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const DI=(t,e=!0,r,n)=>{const[s,i]=p.useState([]),[o,a]=p.useState([]),[l,u]=p.useState();p.useEffect(()=>{Array.isArray(t)&&(d(),i(t==null?void 0:t.filter(v=>v[0]!==v[1])))},[t]),p.useEffect(()=>{r==null||r(o)},[o]);function d(){a([]),u(void 0)}const h=(v,g)=>{e&&u([v,g,n])},f=[...o,...s];return{arrows:f,newArrow:l,clearArrows:d,drawNewArrow:h,setArrows:a,onArrowDrawEnd:(v,g)=>{if(v===g||!e)return;let b;const x=[v,g,n];f.every(([w,_])=>!(w===v&&_===g))?b=[...o,x]:b=o.filter(([w,_])=>!(w===v&&_===g)),u(void 0),a(b)}}},a_=p.createContext({}),Hn=()=>p.useContext(a_),LI=p.forwardRef(({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:r=!0,arePiecesDraggable:n=!0,arePremovesAllowed:s=!1,autoPromoteToQueen:i=!1,boardOrientation:o="white",boardWidth:a,children:l,clearPremovesOnRightClick:u=!0,customArrows:d,customArrowColor:h="rgb(255,170,0)",customBoardStyle:f,customNotationStyle:m,customDarkSquareStyle:v={backgroundColor:"#B58863"},customDropSquareStyle:g={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:b={backgroundColor:"#F0D9B5"},customPieces:x,customPremoveDarkSquareStyle:y={backgroundColor:"#A42323"},customPremoveLightSquareStyle:w={backgroundColor:"#BD2828"},customSquare:_="div",customSquareStyles:S,dropOffBoardAction:E="snapback",id:C=0,isDraggablePiece:j=()=>!0,getPositionObject:L=()=>{},onArrowsChange:M=()=>{},onDragOverSquare:J=()=>{},onMouseOutSquare:U=()=>{},onMouseOverSquare:K=()=>{},onPieceClick:P=()=>{},onPieceDragBegin:H=()=>{},onPieceDragEnd:$=()=>{},onPieceDrop:G=()=>!0,onPieceDropOffBoard:T=()=>{},onPromotionCheck:O=(ie,ce,ze)=>(ze==="wP"&&ie[1]==="7"&&ce[1]==="8"||ze==="bP"&&ie[1]==="2"&&ce[1]==="1")&&Math.abs(ie.charCodeAt(0)-ce.charCodeAt(0))<=1,onPromotionPieceSelect:V=()=>!0,onSparePieceDrop:ee=()=>!0,onSquareClick:k=()=>{},onSquareRightClick:W=()=>{},position:z="start",promotionDialogVariant:X="default",promotionToSquare:se=null,showBoardNotation:A=!0,showPromotionDialog:re=!1,snapToCursor:ye=!0},oe)=>{const[ie,ce]=p.useState(S0(z)),[ze,yt]=p.useState({removed:{},added:{}}),[Lt,ht]=p.useState(void 0),[ur,Ht]=p.useState(re&&!i),[Q,fe]=p.useState(null),[he,je]=p.useState(se),[Je,Zt]=p.useState([]),at=p.useRef(Je),[Ie,wt]=p.useState(),[on,Sn]=p.useState(Object.assign(Object.assign({},b0),x)),[Vt,Mr]=p.useState(!1),[$r,er]=p.useState(),[lt,dr]=p.useState(!1),[tr,an]=p.useState(null);p.useImperativeHandle(oe,()=>({clearPremoves(B=!0){Re(B)}})),p.useEffect(()=>{Sn(Object.assign(Object.assign({},b0),x))},[x]),p.useEffect(()=>{Ht(re),je(se)},[se,re]),p.useEffect(()=>{var B,$e,Ae;kt();const Ue=S0(z),ln=OI(ie,Ue),Ge=((B=Object.keys(ln.added))===null||B===void 0?void 0:B.length)<=2?(Ae=($e=Object.entries(ln.added))===null||$e===void 0?void 0:$e[0])===null||Ae===void 0?void 0:Ae[1][0]:void 0;if(lt)ce(Ue),dr(!1),s&&ge(Ge),$r&&clearTimeout($r);else if(Vt)ce(Ue),dr(!1),s&&ge(Ge);else{_0(Ue)&&Lt!==void 0?ht(Ge):_0(Ue)?ht(void 0):ht("b"),yt(ln),dr(!0);const ml=setTimeout(()=>{ce(Ue),dr(!1),s&&ge(Ge)},e);er(ml)}return Mr(!1),L(Ue),qn(),()=>{clearTimeout($r)}},[z]);const{arrows:Uo,newArrow:Si,clearArrows:qn,drawNewArrow:Fo,onArrowDrawEnd:Ls}=DI(d,r,M,h);function Cr(B,$e,Ae,Ue){if(B===$e)return;if(qn(),s&&lt||s&&(Lt===Ae[0]||at.current.filter(Ge=>Ge.piece[0]===Ae[0]).length>0)){const Ge=[...at.current];Ge.push({sourceSq:B,targetSq:$e,piece:Ae}),at.current=Ge,Zt([...Ge]),kt();return}if(!s&&lt)return;const ln=Object.assign({},ie);Mr(!!Ue),ht(Ae[0]),G.length?G(B,$e,Ae)||(Re(),Mr(!1)):(delete ln[B],ln[$e]=Ae,ce(ln)),kt(),L(ln)}function Bo(B){const $e=Object.assign({},ie);delete $e[B],ce($e),L($e)}function ge(B){if(at.current.length===0)return;const $e=at.current[0];if($e.piece[0]!==void 0&&$e.piece[0]!==B&&G.length)if(ht($e.piece[0]),Mr(!0),G($e.sourceSq,$e.targetSq,$e.piece)){const Ue=[...at.current];Ue.shift(),at.current=Ue,Zt([...Ue])}else Re()}function Oe(B,$e){if(!ee(B,$e))return;const Ue=Object.assign({},ie);Ue[$e]=B,ce(Ue),L(Ue)}function Re(B=!0){B&&ht(void 0),at.current=[],Zt([])}function kt(){fe(null),je(null),Ht(!1)}function R(B){wt(B)}function Tt(B){if(Ie){if(Ie===B){wt(void 0),u&&Re(!1),W(B);return}}else wt(void 0)}function it(){wt(void 0)}const xt={allowDragOutsideBoard:t,animationDuration:e,arePiecesDraggable:n,arePremovesAllowed:s,arrows:Uo,autoPromoteToQueen:i,boardOrientation:o,boardWidth:a,chessPieces:on,clearArrows:qn,clearCurrentRightClickDown:it,currentPosition:ie,currentRightClickDown:Ie,customArrowColor:h,customBoardStyle:f,customDarkSquareStyle:v,customDropSquareStyle:g,customLightSquareStyle:b,customNotationStyle:m,customPremoveDarkSquareStyle:y,customPremoveLightSquareStyle:w,customSquare:_,customSquareStyles:S,deletePieceFromSquare:Bo,drawNewArrow:Fo,dropOffBoardAction:E,handleSetPosition:Cr,handleSparePieceDrop:Oe,id:C,isDraggablePiece:j,isWaitingForAnimation:lt,lastPieceColour:Lt,lastSquareDraggedOver:tr,newArrow:Si,onArrowDrawEnd:Ls,onDragOverSquare:J,onMouseOutSquare:U,onMouseOverSquare:K,onPieceClick:P,onPieceDragBegin:H,onPieceDragEnd:$,onPieceDrop:G,onPieceDropOffBoard:T,onPromotionCheck:O,onPromotionPieceSelect:V,onRightClickDown:R,onRightClickUp:Tt,onSparePieceDrop:ee,onSquareClick:k,positionDifferences:ze,premoves:Je,promoteFromSquare:Q,promoteToSquare:he,promotionDialogVariant:X,setLastSquareDraggedOver:an,setPromoteFromSquare:fe,setPromoteToSquare:je,setShowPromoteDialog:Ht,showBoardNotation:A,showPromoteDialog:ur,snapToCursor:ye};return c.jsx(a_.Provider,Object.assign({value:xt},{children:l}))});function MI({row:t,col:e}){const{boardOrientation:r,boardWidth:n,customDarkSquareStyle:s,customLightSquareStyle:i,customNotationStyle:o}=Hn(),a=i.backgroundColor,l=s.backgroundColor,u=e===0,d=t===7,h=u&&d;function f(){return r==="white"?8-t:t+1}function m(){return r==="black"?Za[7-e]:Za[e]}function v(){return c.jsxs(c.Fragment,{children:[c.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),C0(n,o))},{children:f()})),c.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),E0(n,o))},{children:m()}))]})}function g(){return c.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!==0?l:a}),E0(n,o))},{children:m()}))}function b(){return c.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},r==="black"?{color:t%2===0?l:a}:{color:t%2===0?l:a}),C0(n,o))},{children:f()}))}return h?v():d?g():u?b():null}const E0=(t,e)=>Object.assign({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48},e),C0=(t,e)=>Object.assign({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48},e),l_=p.createContext({dragDropManager:void 0});function kr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var k0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Qd=function(){return Math.random().toString(36).substring(7).split("").join(".")},T0={INIT:"@@redux/INIT"+Qd(),REPLACE:"@@redux/REPLACE"+Qd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Qd()}};function $I(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function c_(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(kr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(kr(1));return r(c_)(t,e)}if(typeof t!="function")throw new Error(kr(2));var s=t,i=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(kr(3));return i}function h(g){if(typeof g!="function")throw new Error(kr(4));if(l)throw new Error(kr(5));var b=!0;return u(),a.push(g),function(){if(b){if(l)throw new Error(kr(6));b=!1,u();var y=a.indexOf(g);a.splice(y,1),o=null}}}function f(g){if(!$I(g))throw new Error(kr(7));if(typeof g.type>"u")throw new Error(kr(8));if(l)throw new Error(kr(9));try{l=!0,i=s(i,g)}finally{l=!1}for(var b=o=a,x=0;x<b.length;x++){var y=b[x];y()}return g}function m(g){if(typeof g!="function")throw new Error(kr(10));s=g,f({type:T0.REPLACE})}function v(){var g,b=h;return g={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(kr(11));function w(){y.next&&y.next(d())}w();var _=b(w);return{unsubscribe:_}}},g[k0]=function(){return this},g}return f({type:T0.INIT}),n={dispatch:f,subscribe:h,getState:d,replaceReducer:m},n[k0]=v,n}function _e(t,e,...r){if(UI()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(e.replace(/%s/g,function(){return r[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function UI(){return typeof process<"u"&&!0}function FI(t,e,r){return e.split(".").reduce((n,s)=>n&&n[s]?n[s]:r||null,t)}function BI(t,e){return t.filter(r=>r!==e)}function u_(t){return typeof t=="object"}function zI(t,e){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};t.forEach(n),e.forEach(n);const s=[];return r.forEach((i,o)=>{i===1&&s.push(o)}),s}function WI(t,e){return t.filter(r=>e.indexOf(r)>-1)}const km="dnd-core/INIT_COORDS",Fu="dnd-core/BEGIN_DRAG",Tm="dnd-core/PUBLISH_DRAG_SOURCE",Bu="dnd-core/HOVER",zu="dnd-core/DROP",Wu="dnd-core/END_DRAG";function j0(t,e){return{type:km,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const HI={type:km,payload:{clientOffset:null,sourceClientOffset:null}};function VI(t){return function(r=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:o}=n,a=t.getMonitor(),l=t.getRegistry();t.dispatch(j0(i)),qI(r,a,l);const u=QI(r,a);if(u==null){t.dispatch(HI);return}let d=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");KI(o),d=o(u)}t.dispatch(j0(i,d));const f=l.getSource(u).beginDrag(a,u);if(f==null)return;GI(f),l.pinSource(u);const m=l.getSourceType(u);return{type:Fu,payload:{itemType:m,item:f,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!s}}}}function qI(t,e,r){_e(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){_e(r.getSource(n),"Expected sourceIds to be registered.")})}function KI(t){_e(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function GI(t){_e(u_(t),"Item must be an object.")}function QI(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function YI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){YI(t,s,r[s])})}return t}function XI(t){return function(r={}){const n=t.getMonitor(),s=t.getRegistry();ZI(n),rD(n).forEach((o,a)=>{const l=eD(o,a,s,n),u={type:zu,payload:{dropResult:JI({},r,l)}};t.dispatch(u)})}}function ZI(t){_e(t.isDragging(),"Cannot call drop while not dragging."),_e(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function eD(t,e,r,n){const s=r.getTarget(t);let i=s?s.drop(n,t):void 0;return tD(i),typeof i>"u"&&(i=e===0?{}:n.getDropResult()),i}function tD(t){_e(typeof t>"u"||u_(t),"Drop result must either be an object or undefined.")}function rD(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function nD(t){return function(){const r=t.getMonitor(),n=t.getRegistry();sD(r);const s=r.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(r,s),n.unpinSource()),{type:Wu}}}function sD(t){_e(t.isDragging(),"Cannot call endDrag while not dragging.")}function Mh(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function iD(t){return function(r,{clientOffset:n}={}){oD(r);const s=r.slice(0),i=t.getMonitor(),o=t.getRegistry(),a=i.getItemType();return lD(s,o,a),aD(s,i,o),cD(s,i,o),{type:Bu,payload:{targetIds:s,clientOffset:n||null}}}}function oD(t){_e(Array.isArray(t),"Expected targetIds to be an array.")}function aD(t,e,r){_e(e.isDragging(),"Cannot call hover while not dragging."),_e(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const s=t[n];_e(t.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(s);_e(i,"Expected targetIds to be registered.")}}function lD(t,e,r){for(let n=t.length-1;n>=0;n--){const s=t[n],i=e.getTargetType(s);Mh(i,r)||t.splice(n,1)}}function cD(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function uD(t){return function(){if(t.getMonitor().isDragging())return{type:Tm}}}function dD(t){return{beginDrag:VI(t),publishDragSource:uD(t),hover:iD(t),drop:XI(t),endDrag:nD(t)}}class fD{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(i){return(...o)=>{const a=i.apply(e,o);typeof a<"u"&&r(a)}}const s=dD(this);return Object.keys(s).reduce((i,o)=>{const a=s[o];return i[o]=n(a),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function hD(t,e){return{x:t.x+e.x,y:t.y+e.y}}function d_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pD(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:d_(hD(e,n),r)}function mD(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:d_(e,r)}const wa=[],jm=[];wa.__IS_NONE__=!0;jm.__IS_ALL__=!0;function gD(t,e){return t===wa?!1:t===jm||typeof e>"u"?!0:WI(e,t).length>0}class vD{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;_e(typeof e=="function","listener must be a function."),_e(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),a=o.stateId;try{a===s||a===s+1&&!gD(o.dirtyHandlerIds,n)||e()}finally{s=a}};return this.store.subscribe(i)}subscribeToOffsetChange(e){_e(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return _e(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(_e(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),s=this.getItemType();return Mh(n,s)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(_e(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),s=this.getItemType();return n!==s?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),i=this.getItemType();if(i&&!Mh(s,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return pD(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return mD(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const N0=typeof global<"u"?global:self,f_=N0.MutationObserver||N0.WebKitMutationObserver;function h_(t){return function(){const r=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(r),clearInterval(n),t()}}}function yD(t){let e=1;const r=new f_(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const wD=typeof f_=="function"?yD:h_;class xD{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,s=e.length-this.index;n<s;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=wD(this.flush),this.requestErrorThrow=h_(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class bD{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class _D{create(e){const r=this.freeTasks,n=r.length?r.pop():new bD(this.onError,s=>r[r.length]=s);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const p_=new xD,SD=new _D(p_.registerPendingError);function ED(t){p_.enqueueTask(SD.create(t))}const Nm="dnd-core/ADD_SOURCE",Om="dnd-core/ADD_TARGET",Pm="dnd-core/REMOVE_SOURCE",Hu="dnd-core/REMOVE_TARGET";function CD(t){return{type:Nm,payload:{sourceId:t}}}function kD(t){return{type:Om,payload:{targetId:t}}}function TD(t){return{type:Pm,payload:{sourceId:t}}}function jD(t){return{type:Hu,payload:{targetId:t}}}function ND(t){_e(typeof t.canDrag=="function","Expected canDrag to be a function."),_e(typeof t.beginDrag=="function","Expected beginDrag to be a function."),_e(typeof t.endDrag=="function","Expected endDrag to be a function.")}function OD(t){_e(typeof t.canDrop=="function","Expected canDrop to be a function."),_e(typeof t.hover=="function","Expected hover to be a function."),_e(typeof t.drop=="function","Expected beginDrag to be a function.")}function $h(t,e){if(e&&Array.isArray(t)){t.forEach(r=>$h(r,!1));return}_e(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Pr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Pr||(Pr={}));let PD=0;function RD(){return PD++}function AD(t){const e=RD().toString();switch(t){case Pr.SOURCE:return`S${e}`;case Pr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function O0(t){switch(t[0]){case"S":return Pr.SOURCE;case"T":return Pr.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function P0(t,e){const r=t.entries();let n=!1;do{const{done:s,value:[,i]}=r.next();if(i===e)return!0;n=!!s}while(!n);return!1}class ID{addSource(e,r){$h(e),ND(r);const n=this.addHandler(Pr.SOURCE,e,r);return this.store.dispatch(CD(n)),n}addTarget(e,r){$h(e,!0),OD(r);const n=this.addHandler(Pr.TARGET,e,r);return this.store.dispatch(kD(n)),n}containsHandler(e){return P0(this.dragSources,e)||P0(this.dropTargets,e)}getSource(e,r=!1){return _e(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return _e(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return _e(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return _e(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return O0(e)===Pr.SOURCE}isTargetId(e){return O0(e)===Pr.TARGET}removeSource(e){_e(this.getSource(e),"Expected an existing source."),this.store.dispatch(TD(e)),ED(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){_e(this.getTarget(e),"Expected an existing target."),this.store.dispatch(jD(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);_e(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){_e(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const s=AD(e);return this.types.set(s,r),e===Pr.SOURCE?this.dragSources.set(s,n):e===Pr.TARGET&&this.dropTargets.set(s,n),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const DD=(t,e)=>t===e;function LD(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function MD(t,e,r=DD){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function $D(t=wa,e){switch(e.type){case Bu:break;case Nm:case Om:case Hu:case Pm:return wa;case Fu:case Tm:case Wu:case zu:default:return jm}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,s=zI(r,n);if(!(s.length>0||!MD(r,n)))return wa;const o=n[n.length-1],a=r[r.length-1];return o!==a&&(o&&s.push(o),a&&s.push(a)),s}function UD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){UD(t,s,r[s])})}return t}const R0={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function BD(t=R0,e){const{payload:r}=e;switch(e.type){case km:case Fu:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Bu:return LD(t.clientOffset,r.clientOffset)?t:FD({},t,{clientOffset:r.clientOffset});case Wu:case zu:return R0;default:return t}}function zD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){zD(t,s,r[s])})}return t}const WD={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function HD(t=WD,e){const{payload:r}=e;switch(e.type){case Fu:return Pi({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Tm:return Pi({},t,{isSourcePublic:!0});case Bu:return Pi({},t,{targetIds:r.targetIds});case Hu:return t.targetIds.indexOf(r.targetId)===-1?t:Pi({},t,{targetIds:BI(t.targetIds,r.targetId)});case zu:return Pi({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Wu:return Pi({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function VD(t=0,e){switch(e.type){case Nm:case Om:return t+1;case Pm:case Hu:return t-1;default:return t}}function qD(t=0){return t+1}function KD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){KD(t,s,r[s])})}return t}function QD(t={},e){return{dirtyHandlerIds:$D(t.dirtyHandlerIds,{type:e.type,payload:GD({},e.payload,{prevTargetIds:FI(t,"dragOperation.targetIds",[])})}),dragOffset:BD(t.dragOffset,e),refCount:VD(t.refCount,e),dragOperation:HD(t.dragOperation,e),stateId:qD(t.stateId)}}function YD(t,e=void 0,r={},n=!1){const s=JD(n),i=new vD(s,new ID(s)),o=new fD(s,i),a=t(o,e,r);return o.receiveBackend(a),o}function JD(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return c_(QD,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function XD(t,e){if(t==null)return{};var r=ZD(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZD(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}let A0=0;const gc=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var e3=p.memo(function(e){var{children:r}=e,n=XD(e,["children"]);const[s,i]=t3(n);return p.useEffect(()=>{if(i){const o=m_();return++A0,()=>{--A0===0&&(o[gc]=null)}}},[]),c.jsx(l_.Provider,{value:s,children:r})});function t3(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=r3(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function r3(t,e=m_(),r,n){const s=e;return s[gc]||(s[gc]={dragDropManager:YD(t,e,r,n)}),s[gc]}function m_(){return typeof global<"u"?global:window}var n3=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const di=typeof window<"u"?p.useLayoutEffect:p.useEffect;function g_(t,e,r){const[n,s]=p.useState(()=>e(t)),i=p.useCallback(()=>{const o=e(t);n3(n,o)||(s(o),r&&r())},[n,t,r]);return di(i),[n,i]}function s3(t,e,r){const[n,s]=g_(t,e,r);return di(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(s,{handlerIds:[o]})},[t,s]),n}function v_(t,e,r){return s3(e,t||(()=>({})),()=>r.reconnect())}function y_(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),p.useMemo(()=>typeof t=="function"?t():t,r)}function i3(t){return p.useMemo(()=>t.hooks.dragSource(),[t])}function o3(t){return p.useMemo(()=>t.hooks.dragPreview(),[t])}let Yd=!1,Jd=!1;class a3{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){_e(!Yd,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Yd=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Yd=!1}}isDragging(){if(!this.sourceId)return!1;_e(!Jd,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Jd=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Jd=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Xd=!1;class l3{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;_e(!Xd,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Xd=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Xd=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function c3(t,e,r){const n=r.getRegistry(),s=n.addTarget(t,e);return[s,()=>n.removeTarget(s)]}function u3(t,e,r){const n=r.getRegistry(),s=n.addSource(t,e);return[s,()=>n.removeSource(s)]}function Uh(t,e,r,n){let s;if(s!==void 0)return!!s;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<i.length;l++){const u=i[l];if(!a(u))return!1;const d=t[u],h=e[u];if(s=void 0,s===!1||s===void 0&&d!==h)return!1}return!0}function Fh(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function d3(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function f3(t){return(e=null,r=null)=>{if(!p.isValidElement(e)){const i=e;return t(i,r),i}const n=e;return d3(n),h3(n,r?i=>t(i,r):t)}}function w_(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const s=f3(n);e[r]=()=>s}}),e}function I0(t,e){typeof t=="function"?t(e):t.current=e}function h3(t,e){const r=t.ref;return _e(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?p.cloneElement(t,{ref:n=>{I0(r,n),I0(e,n)}}):p.cloneElement(t,{ref:e})}class p3{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Uh(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Uh(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=w_({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Fh(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Fh(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class m3{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Uh(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=w_({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Fh(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function _i(){const{dragDropManager:t}=p.useContext(l_);return _e(t!=null,"Expected drag drop context"),t}function g3(t,e){const r=_i(),n=p.useMemo(()=>new p3(r.getBackend()),[r]);return di(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),di(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function v3(){const t=_i();return p.useMemo(()=>new a3(t),[t])}class y3{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,s=this.monitor,{isDragging:i}=n;return i?i(s):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:s}=e;s&&s(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function w3(t,e,r){const n=p.useMemo(()=>new y3(t,e,r),[e,r]);return p.useEffect(()=>{n.spec=t},[t]),n}function x3(t){return p.useMemo(()=>{const e=t.type;return _e(e!=null,"spec.type must be defined"),e},[t])}function b3(t,e,r){const n=_i(),s=w3(t,e,r),i=x3(t);di(function(){if(i!=null){const[a,l]=u3(i,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l}},[n,e,r,s,i])}function _3(t,e){const r=y_(t,e);_e(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=v3(),s=g3(r.options,r.previewOptions);return b3(r,n,s),[v_(r.collect,n,s),i3(s),o3(s)]}function S3(t){const r=_i().getMonitor(),[n,s]=g_(r,t);return p.useEffect(()=>r.subscribeToOffsetChange(s)),p.useEffect(()=>r.subscribeToStateChange(s)),n}function E3(t){return p.useMemo(()=>t.hooks.dropTarget(),[t])}function C3(t){const e=_i(),r=p.useMemo(()=>new m3(e.getBackend()),[e]);return di(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function k3(){const t=_i();return p.useMemo(()=>new l3(t),[t])}function T3(t){const{accept:e}=t;return p.useMemo(()=>(_e(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class j3{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function N3(t,e){const r=p.useMemo(()=>new j3(t,e),[e]);return p.useEffect(()=>{r.spec=t},[t]),r}function O3(t,e,r){const n=_i(),s=N3(t,e),i=T3(t);di(function(){const[a,l]=c3(i,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l},[n,e,s,r,i.map(o=>o.toString()).join("|")])}function P3(t,e){const r=y_(t,e),n=k3(),s=C3(r.options);return O3(r,n,s),[v_(r.collect,n,s),E3(s)]}function x_(t){let e=null;return()=>(e==null&&(e=t()),e)}function R3(t,e){return t.filter(r=>r!==e)}function A3(t,e){const r=new Set,n=i=>r.add(i);t.forEach(n),e.forEach(n);const s=[];return r.forEach(i=>s.push(i)),s}class I3{enter(e){const r=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=A3(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=R3(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class D3{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(r[n]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const b_="__NATIVE_FILE__",__="__NATIVE_URL__",S_="__NATIVE_TEXT__",E_="__NATIVE_HTML__";var D0=Object.freeze({__proto__:null,FILE:b_,HTML:E_,TEXT:S_,URL:__});function Zd(t,e,r){const n=e.reduce((s,i)=>s||t.getData(i),"");return n??r}const Bh={[b_]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[E_]:{exposeProperties:{html:(t,e)=>Zd(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[__]:{exposeProperties:{urls:(t,e)=>Zd(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[S_]:{exposeProperties:{text:(t,e)=>Zd(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function L3(t,e){const r=Bh[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new D3(r);return n.loadDataTransfer(e),n}function ef(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Bh).filter(r=>{const n=Bh[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const M3=x_(()=>/firefox/i.test(navigator.userAgent)),C_=x_(()=>!!window.safari);class L0{interpolate(e){const{xs:r,ys:n,c1s:s,c2s:i,c3s:o}=this;let a=r.length-1;if(e===r[a])return n[a];let l=0,u=o.length-1,d;for(;l<=u;){d=Math.floor(.5*(l+u));const m=r[d];if(m<e)l=d+1;else if(m>e)u=d-1;else return n[d]}a=Math.max(0,u);const h=e-r[a],f=h*h;return n[a]+s[a]*h+i[a]*f+o[a]*h*f}constructor(e,r){const{length:n}=e,s=[];for(let m=0;m<n;m++)s.push(m);s.sort((m,v)=>e[m]<e[v]?-1:1);const i=[],o=[];let a,l;for(let m=0;m<n-1;m++)a=e[m+1]-e[m],l=r[m+1]-r[m],i.push(a),o.push(l/a);const u=[o[0]];for(let m=0;m<i.length-1;m++){const v=o[m],g=o[m+1];if(v*g<=0)u.push(0);else{a=i[m];const b=i[m+1],x=a+b;u.push(3*x/((x+b)/v+(x+a)/g))}}u.push(o[o.length-1]);const d=[],h=[];let f;for(let m=0;m<u.length-1;m++){f=o[m];const v=u[m],g=1/i[m],b=v+u[m+1]-f-f;d.push((f-v-b)*g),h.push(b*g*g)}this.xs=e,this.ys=r,this.c1s=u,this.c2s=d,this.c3s=h}}const $3=1;function k_(t){const e=t.nodeType===$3?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function ql(t){return{x:t.clientX,y:t.clientY}}function U3(t){var e;return t.nodeName==="IMG"&&(M3()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function F3(t,e,r,n){let s=t?e.width:r,i=t?e.height:n;return C_()&&t&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function B3(t,e,r,n,s){const i=U3(e),a=k_(i?t:e),l={x:r.x-a.x,y:r.y-a.y},{offsetWidth:u,offsetHeight:d}=t,{anchorX:h,anchorY:f}=n,{dragPreviewWidth:m,dragPreviewHeight:v}=F3(i,e,u,d),g=()=>{let E=new L0([0,.5,1],[l.y,l.y/d*v,l.y+v-d]).interpolate(f);return C_()&&i&&(E+=(window.devicePixelRatio-1)*v),E},b=()=>new L0([0,.5,1],[l.x,l.x/u*m,l.x+m-u]).interpolate(h),{offsetX:x,offsetY:y}=s,w=x===0||x,_=y===0||y;return{x:w?x:b(),y:_?y:g()}}let z3=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}};function W3(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){W3(t,s,r[s])})}return t}class H3{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const s=o=>this.handleDragStart(o,e),i=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=o=>this.handleDragEnter(o,e),s=o=>this.handleDragOver(o,e),i=o=>this.handleDrop(o,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",s),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",s),r.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return M0({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return M0({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(D0).some(r=>D0[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=L3(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&k_(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=ql(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=s,l=ef(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const d=this.monitor.getSourceId(),h=this.sourceNodes.get(d),f=this.sourcePreviewNodes.get(d)||h;if(f){const{anchorX:m,anchorY:v,offsetX:g,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),w=B3(h,f,o,{anchorX:m,anchorY:v},{offsetX:g,offsetY:b});a.setDragImage(f,w.x,w.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,l=ef(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:ql(s)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=ql(s),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else ef(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:ql(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new z3(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new I3(this.isNodeInDocument)}}let Kl;function V3(){return Kl||(Kl=new Image,Kl.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Kl}const q3=function(e,r,n){return new H3(e,r,n)};function $0({isPremovedPiece:t=!1,piece:e,square:r,squares:n}){const{animationDuration:s,arePiecesDraggable:i,boardWidth:o,boardOrientation:a,chessPieces:l,currentPosition:u,deletePieceFromSquare:d,dropOffBoardAction:h,id:f,isDraggablePiece:m,isWaitingForAnimation:v,onPieceClick:g,onPieceDragBegin:b,onPieceDragEnd:x,onPieceDropOffBoard:y,onPromotionCheck:w,positionDifferences:_}=Hn(),[S,E]=p.useState({opacity:1,zIndex:5,touchAction:"none",cursor:i&&m({piece:e,sourceSquare:r})?"-webkit-grab":"default"}),[{canDrag:C,isDragging:j},L,M]=_3(()=>({type:"piece",item:()=>(b(e,r),{piece:e,square:r,id:f}),end:(U,K)=>{x(e,r),!K.didDrop()&&(h==="trash"&&d(r),y==null||y(r,e))},collect:U=>({canDrag:m({piece:e,sourceSquare:r}),isDragging:!!U.isDragging()})}),[e,r,u,f]);M(V3(),{captureDraggingState:!0}),p.useEffect(()=>{E(U=>Object.assign(Object.assign({},U),{opacity:j?0:1}))},[j]),p.useEffect(()=>{var U;const K=(U=_.removed)===null||U===void 0?void 0:U[r];if(!_.added||!K)return;const P=Object.entries(_.added).find(([H,$])=>$===K||w(r,H,K));if(v&&K&&P&&!t){const H=r,$=P[0];if(H&&$){const G=o/8;E(T=>Object.assign(Object.assign({},T),{transform:`translate(${(a==="black"?-1:1)*($.charCodeAt(0)-H.charCodeAt(0))*G}px, ${(a==="black"?-1:1)*(Number(H[1])-Number($[1]))*G}px)`,transition:`transform ${s}ms`,zIndex:6}))}}},[_]),p.useEffect(()=>{const{sourceSq:U}=J();U&&E(K=>Object.assign(Object.assign({},K),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[u]),p.useEffect(()=>{E(U=>Object.assign(Object.assign({},U),{cursor:i&&m({piece:e,sourceSquare:r})?"-webkit-grab":"default"}))},[r,u,i]);function J(){return{sourceSq:n[r]}}return c.jsx("div",Object.assign({ref:i&&C?L:null,onClick:()=>g(e,r),"data-piece":e,style:S},{children:typeof l[e]=="function"?l[e]({squareWidth:o/8,isDragging:j,square:r}):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:o/8,height:o/8,style:{display:"block"}},{children:c.jsx("g",{children:l[e]})}))}))}function K3({square:t,squareColor:e,setSquares:r,squareHasPremove:n,children:s}){const i=p.useRef(null),{autoPromoteToQueen:o,boardWidth:a,boardOrientation:l,clearArrows:u,currentPosition:d,currentRightClickDown:h,customBoardStyle:f,customDarkSquareStyle:m,customDropSquareStyle:v,customLightSquareStyle:g,customPremoveDarkSquareStyle:b,customPremoveLightSquareStyle:x,customSquare:y,customSquareStyles:w,drawNewArrow:_,handleSetPosition:S,handleSparePieceDrop:E,isWaitingForAnimation:C,lastPieceColour:j,lastSquareDraggedOver:L,onArrowDrawEnd:M,onDragOverSquare:J,onMouseOutSquare:U,onMouseOverSquare:K,onPieceDrop:P,onPromotionCheck:H,onRightClickDown:$,onRightClickUp:G,onSquareClick:T,setLastSquareDraggedOver:O,setPromoteFromSquare:V,setPromoteToSquare:ee,setShowPromoteDialog:k}=Hn(),[{isOver:W},z]=P3(()=>({accept:"piece",drop:X,collect:A=>({isOver:!!A.isOver()})}),[t,d,P,C,j]);function X(A){if(A.isSpare){E(A.piece,t);return}H(A.square,t,A.piece)?o?S(A.square,t,A.piece[0]==="w"?"wQ":"bQ"):(V(A.square),ee(t),k(!0)):S(A.square,t,A.piece,!0)}p.useEffect(()=>{if(i.current){const{x:A,y:re}=i.current.getBoundingClientRect();r(ye=>Object.assign(Object.assign({},ye),{[t]:{x:A,y:re}}))}},[a,l]);const se=Object.assign(Object.assign(Object.assign(Object.assign({},G3(t,l,f)),e==="black"?m:g),n&&(e==="black"?b:x)),W&&v);return c.jsx("div",Object.assign({ref:z,style:se,"data-square-color":e,"data-square":t,onTouchMove:A=>{var re;const ye=A.touches[0],oe=document.elementsFromPoint(ye.clientX,ye.clientY),ie=(re=oe==null?void 0:oe.find(ce=>ce.getAttribute("data-square")))===null||re===void 0?void 0:re.getAttribute("data-square");ie&&ie!==L&&(O(ie),J(ie))},onMouseOver:A=>{A.buttons===2&&h&&_(h,t),!(A.relatedTarget&&A.currentTarget.contains(A.relatedTarget))&&K(t)},onMouseOut:A=>{A.relatedTarget&&A.currentTarget.contains(A.relatedTarget)||U(t)},onMouseDown:A=>{A.button===2&&$(t)},onMouseUp:A=>{A.button===2&&(h&&M(h,t),G(t))},onDragEnter:()=>J(t),onClick:()=>{const A=d[t];T(t,A),u()},onContextMenu:A=>{A.preventDefault()}},{children:typeof y=="string"?c.jsx(y,Object.assign({ref:i,style:Object.assign(Object.assign(Object.assign({},F0(a)),U0),!n&&(w==null?void 0:w[t]))},{children:s})):c.jsx(y,Object.assign({ref:i,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},F0(a)),U0),!n&&(w==null?void 0:w[t]))},{children:s}))}))}const U0={display:"flex",justifyContent:"center"},F0=t=>({width:t/8,height:t/8}),G3=(t,e,r)=>r!=null&&r.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:r.borderRadius}:{borderTopRightRadius:r.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:r.borderRadius}:{borderBottomRightRadius:r.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:r.borderRadius}:{borderTopLeftRadius:r.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:r.borderRadius}:{borderBottomLeftRadius:r.borderRadius}:{}:{};function Q3(){const[t,e]=p.useState({}),{arePremovesAllowed:r,boardOrientation:n,boardWidth:s,currentPosition:i,id:o,premoves:a,showBoardNotation:l}=Hn(),u=p.useMemo(()=>{const d=[];return r?(a.forEach((h,f)=>{const{sourceSq:m,targetSq:v,piece:g}=h,b=d.find(x=>{var y;return x.piece===g&&((y=x.premovesRoute.at(-1))===null||y===void 0?void 0:y.targetSq)===m});b?b.premovesRoute.push({sourceSq:m,targetSq:v,index:f}):d.push({piece:g,premovesRoute:[{sourceSq:m,targetSq:v,index:f}]})}),d):[]},[a]);return c.jsx("div",Object.assign({"data-boardid":o},{children:[...Array(8)].map((d,h)=>c.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:s}},{children:[...Array(8)].map((f,m)=>{const v=n==="black"?Za[7-m]+(h+1):Za[m]+(8-h),g=m%2===h%2?"white":"black",b=a.find(y=>y.sourceSq===v||y.targetSq===v),x=u.filter(({premovesRoute:y})=>{var w;return((w=y.at(-1))===null||w===void 0?void 0:w.targetSq)===v}).sort((y,w)=>{var _,S;return((_=w.premovesRoute.at(-1))===null||_===void 0?void 0:_.index)-((S=y.premovesRoute.at(-1))===null||S===void 0?void 0:S.index)}).at(0);return c.jsxs(K3,Object.assign({square:v,squareColor:g,setSquares:e,squareHasPremove:!!b},{children:[!b&&i[v]&&c.jsx($0,{piece:i[v],square:v,squares:t}),x&&c.jsx($0,{isPremovedPiece:!0,piece:x.piece,square:v,squares:t}),l&&c.jsx(MI,{row:h,col:m})]}),`${m}${h}`)})}),h.toString()))}))}const Y3=()=>{const{arrows:t,newArrow:e,boardOrientation:r,boardWidth:n,customArrowColor:s}=Hn(),i=[...t,e].filter(Boolean);return c.jsx("svg",Object.assign({width:n,height:n,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:i.map((o,a)=>{const[l,u,d]=o;if(l===u)return null;const h=Lh(r,n,l),f=Lh(r,n,u);let m=n/32;const v=a===t.length;t.some(w=>w[0]!==l&&w[1]===u)&&!v&&(m=n/16);const g=f.x-h.x,b=f.y-h.y,x=Math.hypot(b,g),y={x:h.x+g*(x-m)/x,y:h.y+b*(x-m)/x};return c.jsxs(p.Fragment,{children:[c.jsx("marker",Object.assign({id:`arrowhead-${a}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:c.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:d??s})})),c.jsx("line",{x1:h.x,y1:h.y,x2:y.x,y2:y.y,opacity:v?"0.5":"0.65",stroke:d??s,strokeWidth:v?.9*n/40:n/40,markerEnd:`url(#arrowhead-${a})`})]},`${l}-${u}${v?"-active":""}`)})}))};function J3({option:t}){const[e,r]=p.useState(!1),{boardWidth:n,chessPieces:s,customDarkSquareStyle:i,customLightSquareStyle:o,handleSetPosition:a,onPromotionPieceSelect:l,promoteFromSquare:u,promoteToSquare:d,promotionDialogVariant:h}=Hn(),f=()=>{switch(t[1]){case"Q":return i.backgroundColor;case"R":return o.backgroundColor;case"N":return h==="default"?o.backgroundColor:i.backgroundColor;case"B":return h==="default"?i.backgroundColor:o.backgroundColor}};return c.jsx("div",Object.assign({onClick:()=>{l(t,u??void 0,d??void 0)&&a(u,d,t,!0)},onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?f():`${f()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof s[t]=="function"?c.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:s[t]({squareWidth:n/8,isDragging:!1})})):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:n/8,height:n/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:c.jsx("g",{children:s[t]})}))}))}function X3(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:r,promoteToSquare:n}=Hn(),s=(n==null?void 0:n[1])==="1"?"b":"w",i=[`${s??"w"}Q`,`${s??"w"}R`,`${s??"w"}N`,`${s??"w"}B`],o={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:`${e/4}px`,top:0,backgroundColor:"white",left:0}},a=Lh(t,e,n||"a8");return c.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${a==null?void 0:a.y}px`,left:`${a==null?void 0:a.x}px`,zIndex:1e3},o[r]),title:"Choose promotion piece"},{children:i.map(l=>c.jsx(J3,{option:l},l))}))}const Z3={whiteKing:c.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:c.jsx("g",{children:c.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function e4({children:t}){try{return c.jsx(c.Fragment,{children:t})}catch(e){return console.log(e),c.jsx(T_,{showError:!0})}}function T_({showError:t=!1}){return c.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[c.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:Z3.whiteKing})),t&&c.jsx("h1",{children:"Something went wrong"})]}))}function t4(){const t=p.useRef(null),{boardWidth:e,clearCurrentRightClickDown:r,onPromotionPieceSelect:n,setShowPromoteDialog:s,showPromoteDialog:i,customBoardStyle:o}=Hn();return p.useEffect(()=>{function a(l){t.current&&!t.current.contains(l.target)&&r()}return document.addEventListener("mouseup",a),()=>{document.removeEventListener("mouseup",a)}},[]),e?c.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:c.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},r4(e)),o)},{children:[c.jsx(Q3,{}),c.jsx(Y3,{}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{onClick:()=>{s(!1),n==null||n()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),c.jsx(X3,{})]})]}))})):c.jsx(T_,{})}const r4=t=>({cursor:"default",height:t,width:t});var Cs;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(Cs||(Cs={}));class n4{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,r,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&s!==void 0?s:0}get delayMouseStart(){var e,r,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&s!==void 0?s:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,r){this.args=e,this.context=r}}function s4(t,e,r,n){return Math.sqrt(Math.pow(Math.abs(r-t),2)+Math.pow(Math.abs(n-e),2))}function i4(t,e,r,n,s){if(!s)return!1;const i=Math.atan2(n-e,r-t)*180/Math.PI+180;for(let o=0;o<s.length;++o){const a=s[o];if(a&&(a.start==null||i>=a.start)&&(a.end==null||i<=a.end))return!0}return!1}const o4={Left:1,Right:2,Center:4},a4={Left:0,Center:1,Right:2};function tf(t){return t.button===void 0||t.button===a4.Left}function l4(t){return t.buttons===void 0||(t.buttons&o4.Left)===0}function j_(t){return!!t.targetTouches}const c4=1;function u4(t){const e=t.nodeType===c4?t:t.parentElement;if(!e)return;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function d4(t,e){if(t.targetTouches.length===1)return tu(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return tu(t.touches[0])}function tu(t,e){return j_(t)?d4(t,e):{x:t.clientX,y:t.clientY}}const B0=(()=>{let t=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return t=!0,!0}}))}catch{}return t})(),Zo={[Cs.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Cs.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Cs.keyboard]:{keydown:"keydown"}};class xa{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(_e(!xa.isSetUp,"Cannot have two Touch backends at the same time."),xa.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(xa.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,r,n,s=!1){const i=B0?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Zo[o][r];a&&e.addEventListener(a,n,i)})}removeEventListener(e,r,n,s=!1){const i=B0?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Zo[o][r];a&&e.removeEventListener(a,n,i)})}connectDragSource(e,r){const n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(e),this.removeEventListener(r,"start",n)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,r){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const s=i=>{if(!this.document||!n||!this.monitor.isDragging())return;let o;switch(i.type){case Zo.mouse.move:o={x:i.clientX,y:i.clientY};break;case Zo.touch.move:var a,l;o={x:((a=i.touches[0])===null||a===void 0?void 0:a.clientX)||0,y:((l=i.touches[0])===null||l===void 0?void 0:l.clientY)||0};break}const u=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,d=u&&r.contains(u);if(u===r||d)return this.handleMove(i,e)};return this.addEventListener(this.document.body,"move",s),this.targetNodes.set(e,r),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",s))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,r,n){this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&u4(i)},this.handleTopMoveStartCapture=s=>{tf(s)&&(this.moveStartSourceIds=[])},this.handleMoveStart=s=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(s)},this.handleTopMoveStart=s=>{if(!tf(s))return;const i=tu(s);i&&(j_(s)&&(this.lastTargetTouchFallback=s.targetTouches[0]),this._mouseClientOffset=i),this.waitingForDelay=!1},this.handleTopMoveStartDelay=s=>{if(!tf(s))return;const i=s.type===Zo.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,s),i),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(s,i)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(i)},this.handleTopMove=s=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:i,dragOverTargetIds:o}=this,a=this.options.enableHoverOutsideTarget,l=tu(s,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&i4(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&i&&s4(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(i,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),s.cancelable&&s.preventDefault();const d=(o||[]).map(v=>this.targetNodes.get(v)).filter(v=>!!v),h=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,d):this.document.elementsFromPoint(l.x,l.y),f=[];for(const v in h){if(!h.hasOwnProperty(v))continue;let g=h[v];for(g!=null&&f.push(g);g;)g=g.parentElement,g&&f.indexOf(g)===-1&&f.push(g)}const m=f.filter(v=>d.indexOf(v)>-1).map(v=>this._getDropTargetId(v)).filter(v=>!!v).filter((v,g,b)=>b.indexOf(v)===g);if(a)for(const v in this.targetNodes){const g=this.targetNodes.get(v);if(u&&g&&g.contains(u)&&m.indexOf(v)===-1){m.unshift(v);break}}m.reverse(),this.actions.hover(m,{clientOffset:l})},this._getDropTargetId=s=>{const i=this.targetNodes.keys();let o=i.next();for(;o.done===!1;){const a=o.value;if(s===this.targetNodes.get(a))return a;o=i.next()}},this.handleTopMoveEndCapture=s=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!l4(s)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}s.cancelable&&s.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=s=>{s.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new n4(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Cs.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Cs.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Cs.keyboard)}}const f4=function(e,r={},n={}){return new xa(e,r,n)},h4=p.createContext({isCustomDndProviderSet:!1}),p4=({children:t})=>c.jsx(c.Fragment,{children:t}),m4=({customDndBackend:t,customDndBackendOptions:e,children:r})=>{const[n,s]=p.useState(),[i,o]=p.useState(!1),[a,l]=p.useState(!1),{isCustomDndProviderSet:u}=p.useContext(h4);p.useEffect(()=>{l("ontouchstart"in window),o(!0),s(window)},[]);const d=u?p4:e3;return i?n?c.jsx(d,Object.assign({backend:t||(a?f4:q3),context:n,options:t?e:void 0},{children:r})):c.jsx(c.Fragment,{children:r}):null};function g4({boardContainer:t}){const{boardWidth:e,chessPieces:r,id:n,snapToCursor:s,allowDragOutsideBoard:i}=Hn(),o=S3(f=>({item:f.getItem(),clientOffset:f.getClientOffset(),sourceClientOffset:f.getSourceClientOffset(),isDragging:f.isDragging()})),{isDragging:a,item:l,clientOffset:u,sourceClientOffset:d}=o,h=p.useCallback((f,m)=>{if(!f||!m)return{display:"none"};let{x:v,y:g}=s?f:m;const b=e/8/2;if(s&&(v-=b,g-=b),!i){const{left:y,top:w}=t,_=y-b,S=w-b,E=y+e-b,C=w+e-b;v=Math.max(_,Math.min(v,E)),g=Math.max(S,Math.min(g,C))}const x=`translate(${v}px, ${g}px)`;return{transform:x,WebkitTransform:x,touchAction:"none"}},[e,i,s,t]);return a&&l.id===n?c.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:c.jsx("div",Object.assign({style:h(u,d)},{children:typeof r[l.piece]=="function"?r[l.piece]({squareWidth:e/8,isDragging:!0}):c.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:c.jsx("g",{children:r[l.piece]})}))}))})):null}const N_=p.forwardRef((t,e)=>{const{customDndBackend:r,customDndBackendOptions:n,onBoardWidthChange:s}=t,i=CI(t,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[o,a]=p.useState(t.boardWidth),l=p.useRef(null),u=p.useRef(null),[d,h]=p.useState({left:0,top:0}),f=p.useMemo(()=>{var m;return(m=l.current)===null||m===void 0?void 0:m.getBoundingClientRect()},[l.current]);return p.useEffect(()=>{o&&(s==null||s(o))},[o]),p.useEffect(()=>{h({left:f!=null&&f.left?f==null?void 0:f.left:0,top:f!=null&&f.top?f==null?void 0:f.top:0})},[f]),p.useEffect(()=>{var m;if(t.boardWidth===void 0&&(!((m=l.current)===null||m===void 0)&&m.offsetWidth)){const v=new ResizeObserver(()=>{var g;a((g=l.current)===null||g===void 0?void 0:g.offsetWidth)});return v.observe(l.current),()=>{v.disconnect()}}},[l.current]),c.jsx(e4,{children:c.jsxs("div",Object.assign({ref:u,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[c.jsx("div",{ref:l,style:{width:"100%"}}),c.jsx(m4,Object.assign({customDndBackend:r,customDndBackendOptions:n},{children:o&&c.jsxs(LI,Object.assign({boardWidth:o},i,{ref:e},{children:[c.jsx(g4,{boardContainer:d}),c.jsx(t4,{})]}))}))]}))})}),O_=()=>{const t=p.useRef(null),e=p.useCallback(()=>(t.current||(t.current=new(window.AudioContext||window.webkitAudioContext)),t.current),[]),r=p.useCallback((f,m,v="sine")=>{try{const g=e(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.value=f,b.type=v,x.gain.setValueAtTime(.3,g.currentTime),x.gain.exponentialRampToValueAtTime(.01,g.currentTime+m),b.start(g.currentTime),b.stop(g.currentTime+m)}catch{console.log("Audio not supported")}},[e]),n=p.useCallback(()=>{r(440,.1,"sine")},[r]),s=p.useCallback(()=>{r(220,.15,"square"),setTimeout(()=>r(180,.1,"square"),50)},[r]),i=p.useCallback(()=>{r(880,.1,"sine"),setTimeout(()=>r(660,.1,"sine"),100),setTimeout(()=>r(880,.15,"sine"),200)},[r]),o=p.useCallback(()=>{[0,100,200,300,400].forEach((f,m)=>{setTimeout(()=>r(440+m*110,.15,"sine"),f)})},[r]),a=p.useCallback(()=>{r(330,.08,"sine"),setTimeout(()=>r(440,.08,"sine"),80)},[r]),l=p.useCallback(()=>{[0,80,160,240].forEach((f,m)=>{setTimeout(()=>r(330+m*110,.12,"sine"),f)})},[r]),u=p.useCallback(()=>{r(262,.15,"sine"),setTimeout(()=>r(330,.15,"sine"),150),setTimeout(()=>r(392,.2,"sine"),300)},[r]),d=p.useCallback(()=>{r(880,.08,"square")},[r]),h=p.useCallback(()=>{r(440,.15,"sine"),setTimeout(()=>r(440,.15,"sine"),200)},[r]);return{playMove:n,playCapture:s,playCheck:i,playCheckmate:o,playCastle:a,playPromotion:l,playGameStart:u,playTimeWarning:d,playDraw:h}};var rf="focusScope.autoFocusOnMount",nf="focusScope.autoFocusOnUnmount",z0={bubbles:!1,cancelable:!0},v4="FocusScope",Rm=p.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),u=Lr(s),d=Lr(i),h=p.useRef(null),f=Be(e,g=>l(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(w){if(m.paused||!a)return;const _=w.target;a.contains(_)?h.current=_:Zn(h.current,{select:!0})},b=function(w){if(m.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||Zn(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Zn(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[n,a,m.paused]),p.useEffect(()=>{if(a){H0.add(m);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(rf,z0);a.addEventListener(rf,u),a.dispatchEvent(x),x.defaultPrevented||(y4(S4(P_(a)),{select:!0}),document.activeElement===g&&Zn(a))}return()=>{a.removeEventListener(rf,u),setTimeout(()=>{const x=new CustomEvent(nf,z0);a.addEventListener(nf,d),a.dispatchEvent(x),x.defaultPrevented||Zn(g??document.body,{select:!0}),a.removeEventListener(nf,d),H0.remove(m)},0)}}},[a,u,d,m]);const v=p.useCallback(g=>{if(!r&&!n||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(b&&x){const y=g.currentTarget,[w,_]=w4(y);w&&_?!g.shiftKey&&x===_?(g.preventDefault(),r&&Zn(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&Zn(_,{select:!0})):x===y&&g.preventDefault()}},[r,n,m.paused]);return c.jsx(ke.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});Rm.displayName=v4;function y4(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Zn(n,{select:e}),document.activeElement!==r)return}function w4(t){const e=P_(t),r=W0(e,t),n=W0(e.reverse(),t);return[r,n]}function P_(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function W0(t,e){for(const r of t)if(!x4(r,{upTo:e}))return r}function x4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function b4(t){return t instanceof HTMLInputElement&&"select"in t}function Zn(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&b4(t)&&e&&t.select()}}var H0=_4();function _4(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=V0(t,e),t.unshift(e)},remove(e){var r;t=V0(t,e),(r=t[0])==null||r.resume()}}}function V0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function S4(t){return t.filter(e=>e.tagName!=="A")}var sf=0;function R_(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??q0()),document.body.insertAdjacentElement("beforeend",t[1]??q0()),sf++,()=>{sf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sf--}},[])}function q0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vc="right-scroll-bar-position",yc="width-before-scroll-bar",E4="with-scroll-bars-hidden",C4="--removed-body-scroll-bar-size";function of(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function k4(t,e){var r=p.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var T4=typeof window<"u"?p.useLayoutEffect:p.useEffect,K0=new WeakMap;function j4(t,e){var r=k4(null,function(n){return t.forEach(function(s){return of(s,n)})});return T4(function(){var n=K0.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(a){i.has(a)||of(a,null)}),i.forEach(function(a){s.has(a)||of(a,o)})}K0.set(r,t)},[t]),r}function N4(t){return t}function O4(t,e){e===void 0&&(e=N4);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function P4(t){t===void 0&&(t={});var e=O4(null);return e.options=gn({async:!0,ssr:!1},t),e}var A_=function(t){var e=t.sideCar,r=Mo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,gn({},r))};A_.isSideCarExport=!0;function R4(t,e){return t.useMedium(e),A_}var I_=P4(),af=function(){},Vu=p.forwardRef(function(t,e){var r=p.useRef(null),n=p.useState({onScrollCapture:af,onWheelCapture:af,onTouchMoveCapture:af}),s=n[0],i=n[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,v=t.noIsolation,g=t.inert,b=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,w=t.gapMode,_=Mo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,E=j4([r,e]),C=gn(gn({},_),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:I_,removeScrollBar:u,shards:h,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:w}),o?p.cloneElement(p.Children.only(a),gn(gn({},C),{ref:E})):p.createElement(y,gn({},C,{className:l,ref:E}),a))});Vu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vu.classNames={fullWidth:yc,zeroRight:vc};var A4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=A4();return e&&t.setAttribute("nonce",e),t}function D4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function L4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var M4=function(){var t=0,e=null;return{add:function(r){t==0&&(e=I4())&&(D4(e,r),L4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$4=function(){var t=M4();return function(e,r){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},D_=function(){var t=$4(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},U4={left:0,top:0,right:0,gap:0},lf=function(t){return parseInt(t||"",10)||0},F4=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[lf(r),lf(n),lf(s)]},B4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return U4;var e=F4(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},z4=D_(),oo="data-scroll-locked",W4=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(E4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(oo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(yc,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(vc," .").concat(vc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yc," .").concat(yc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(oo,`] {
    `).concat(C4,": ").concat(a,`px;
  }
`)},G0=function(){var t=parseInt(document.body.getAttribute(oo)||"0",10);return isFinite(t)?t:0},H4=function(){p.useEffect(function(){return document.body.setAttribute(oo,(G0()+1).toString()),function(){var t=G0()-1;t<=0?document.body.removeAttribute(oo):document.body.setAttribute(oo,t.toString())}},[])},V4=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;H4();var i=p.useMemo(function(){return B4(s)},[s]);return p.createElement(z4,{styles:W4(i,!e,s,r?"":"!important")})},zh=!1;if(typeof window<"u")try{var Gl=Object.defineProperty({},"passive",{get:function(){return zh=!0,!0}});window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{zh=!1}var Ri=zh?{passive:!1}:!1,q4=function(t){return t.tagName==="TEXTAREA"},L_=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!q4(t)&&r[e]==="visible")},K4=function(t){return L_(t,"overflowY")},G4=function(t){return L_(t,"overflowX")},Q0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=M_(t,n);if(s){var i=$_(t,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Q4=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Y4=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},M_=function(t,e){return t==="v"?K4(e):G4(e)},$_=function(t,e){return t==="v"?Q4(e):Y4(e)},J4=function(t,e){return t==="h"&&e==="rtl"?-1:1},X4=function(t,e,r,n,s){var i=J4(t,window.getComputedStyle(e).direction),o=i*n,a=r.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=$_(t,a),v=m[0],g=m[1],b=m[2],x=g-b-i*v;(v||x)&&M_(t,a)&&(h+=x,f+=v);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},Ql=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Y0=function(t){return[t.deltaX,t.deltaY]},J0=function(t){return t&&"current"in t?t.current:t},Z4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tL=0,Ai=[];function rL(t){var e=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(tL++)[0],i=p.useState(D_)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=zP([t.lockRef.current],(t.shards||[]).map(J0),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Ql(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-x[0],_="deltaY"in g?g.deltaY:y[1]-x[1],S,E=g.target,C=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&E.type==="range")return!1;var j=Q0(C,E);if(!j)return!0;if(j?S=C:(S=C==="v"?"h":"v",j=Q0(C,E)),!j)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=S),!S)return!0;var L=n.current||S;return X4(L,b,g,L==="h"?w:_,!0)},[]),l=p.useCallback(function(g){var b=g;if(!(!Ai.length||Ai[Ai.length-1]!==i)){var x="deltaY"in b?Y0(b):Ql(b),y=e.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&Z4(S.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(J0).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=w.length>0?a(b,w[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(g,b,x,y){var w={name:g,delta:b,target:x,should:y,shadowParent:nL(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),d=p.useCallback(function(g){r.current=Ql(g),n.current=void 0},[]),h=p.useCallback(function(g){u(g.type,Y0(g),g.target,a(g,t.lockRef.current))},[]),f=p.useCallback(function(g){u(g.type,Ql(g),g.target,a(g,t.lockRef.current))},[]);p.useEffect(function(){return Ai.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ri),document.addEventListener("touchmove",l,Ri),document.addEventListener("touchstart",d,Ri),function(){Ai=Ai.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ri),document.removeEventListener("touchmove",l,Ri),document.removeEventListener("touchstart",d,Ri)}},[]);var m=t.removeScrollBar,v=t.inert;return p.createElement(p.Fragment,null,v?p.createElement(i,{styles:eL(s)}):null,m?p.createElement(V4,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function nL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const sL=R4(I_,rL);var Am=p.forwardRef(function(t,e){return p.createElement(Vu,gn({},t,{ref:e,sideCar:sL}))});Am.classNames=Vu.classNames;var iL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ii=new WeakMap,Yl=new WeakMap,Jl={},cf=0,U_=function(t){return t&&(t.host||U_(t.parentNode))},oL=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=U_(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},aL=function(t,e,r,n){var s=oL(e,Array.isArray(t)?t:[t]);Jl[r]||(Jl[r]=new WeakMap);var i=Jl[r],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(n),v=m!==null&&m!=="false",g=(Ii.get(f)||0)+1,b=(i.get(f)||0)+1;Ii.set(f,g),i.set(f,b),o.push(f),g===1&&v&&Yl.set(f,!0),b===1&&f.setAttribute(r,"true"),v||f.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(e),a.clear(),cf++,function(){o.forEach(function(h){var f=Ii.get(h)-1,m=i.get(h)-1;Ii.set(h,f),i.set(h,m),f||(Yl.has(h)||h.removeAttribute(n),Yl.delete(h)),m||h.removeAttribute(r)}),cf--,cf||(Ii=new WeakMap,Ii=new WeakMap,Yl=new WeakMap,Jl={})}},F_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=iL(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),aL(n,s,r,"aria-hidden")):function(){return null}},qu="Dialog",[B_,z_]=zn(qu),[lL,sn]=B_(qu),W_=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[u,d]=Co({prop:n,defaultProp:s??!1,onChange:i,caller:qu});return c.jsx(lL,{scope:e,triggerRef:a,contentRef:l,contentId:Ss(),titleId:Ss(),descriptionId:Ss(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};W_.displayName=qu;var H_="DialogTrigger",V_=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=sn(H_,r),i=Be(e,s.triggerRef);return c.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lm(s.open),...n,ref:i,onClick:de(t.onClick,s.onOpenToggle)})});V_.displayName=H_;var Im="DialogPortal",[cL,q_]=B_(Im,{forceMount:void 0}),K_=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=sn(Im,e);return c.jsx(cL,{scope:e,forceMount:r,children:p.Children.map(n,o=>c.jsx(wi,{present:r||i.open,children:c.jsx(_u,{asChild:!0,container:s,children:o})}))})};K_.displayName=Im;var ru="DialogOverlay",G_=p.forwardRef((t,e)=>{const r=q_(ru,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=sn(ru,t.__scopeDialog);return i.modal?c.jsx(wi,{present:n||i.open,children:c.jsx(dL,{...s,ref:e})}):null});G_.displayName=ru;var uL=Eo("DialogOverlay.RemoveScroll"),dL=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=sn(ru,r);return c.jsx(Am,{as:uL,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ke.div,{"data-state":Lm(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),fi="DialogContent",Q_=p.forwardRef((t,e)=>{const r=q_(fi,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=sn(fi,t.__scopeDialog);return c.jsx(wi,{present:n||i.open,children:i.modal?c.jsx(fL,{...s,ref:e}):c.jsx(hL,{...s,ref:e})})});Q_.displayName=fi;var fL=p.forwardRef((t,e)=>{const r=sn(fi,t.__scopeDialog),n=p.useRef(null),s=Be(e,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return F_(i)},[]),c.jsx(Y_,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:de(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:de(t.onFocusOutside,i=>i.preventDefault())})}),hL=p.forwardRef((t,e)=>{const r=sn(fi,t.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return c.jsx(Y_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Y_=p.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=sn(fi,r),l=p.useRef(null),u=Be(e,l);return R_(),c.jsxs(c.Fragment,{children:[c.jsx(Rm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(al,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Lm(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(mL,{titleId:a.titleId}),c.jsx(vL,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Dm="DialogTitle",J_=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=sn(Dm,r);return c.jsx(ke.h2,{id:s.titleId,...n,ref:e})});J_.displayName=Dm;var X_="DialogDescription",Z_=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=sn(X_,r);return c.jsx(ke.p,{id:s.descriptionId,...n,ref:e})});Z_.displayName=X_;var eS="DialogClose",tS=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=sn(eS,r);return c.jsx(ke.button,{type:"button",...n,ref:e,onClick:de(t.onClick,()=>s.onOpenChange(!1))})});tS.displayName=eS;function Lm(t){return t?"open":"closed"}var rS="DialogTitleWarning",[pL,nS]=s2(rS,{contentName:fi,titleName:Dm,docsSlug:"dialog"}),mL=({titleId:t})=>{const e=nS(rS),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},gL="DialogDescriptionWarning",vL=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nS(gL).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},sS=W_,yL=V_,iS=K_,Mm=G_,$m=Q_,Um=J_,Fm=Z_,Bm=tS;const wL=sS,xL=iS,oS=p.forwardRef(({className:t,...e},r)=>c.jsx(Mm,{ref:r,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));oS.displayName=Mm.displayName;const aS=p.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(xL,{children:[c.jsx(oS,{}),c.jsxs($m,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(Bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(ku,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aS.displayName=$m.displayName;const lS=({className:t,...e})=>c.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});lS.displayName="DialogHeader";const cS=p.forwardRef(({className:t,...e},r)=>c.jsx(Um,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",t),...e}));cS.displayName=Um.displayName;const bL=p.forwardRef(({className:t,...e},r)=>c.jsx(Fm,{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));bL.displayName=Fm.displayName;const _L=[{type:"q",name:"Queen",whiteSymbol:"",blackSymbol:""},{type:"r",name:"Rook",whiteSymbol:"",blackSymbol:""},{type:"b",name:"Bishop",whiteSymbol:"",blackSymbol:""},{type:"n",name:"Knight",whiteSymbol:"",blackSymbol:""}],uS=({isOpen:t,color:e,onSelect:r})=>c.jsx(wL,{open:t,children:c.jsxs(aS,{className:"sm:max-w-md",onPointerDownOutside:n=>n.preventDefault(),children:[c.jsx(lS,{children:c.jsx(cS,{className:"text-center text-xl",children:"Choose Promotion"})}),c.jsx("div",{className:"grid grid-cols-4 gap-3 py-4",children:_L.map(n=>c.jsx(be,{variant:"outline",className:"h-20 text-5xl hover:bg-primary hover:text-primary-foreground transition-all",onClick:()=>r(n.type),children:e==="white"?n.whiteSymbol:n.blackSymbol},n.type))}),c.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a piece to promote your pawn"})]})}),SL=()=>{const{gameId:t}=gP(),{profile:e}=bi(),{toast:r}=yi(),n=fl(),s=O_(),[i,o]=p.useState(new pn),[a,l]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,v]=p.useState(600),[g,b]=p.useState(600),[x,y]=p.useState(!0),[w,_]=p.useState(null),[S,E]=p.useState([]),[C,j]=p.useState(null),[L,M]=p.useState(null),[J,U]=p.useState(!1),K=(e==null?void 0:e.id)===(a==null?void 0:a.white_player_id),P=(e==null?void 0:e.id)===(a==null?void 0:a.black_player_id),H=K||P,$=i.turn()==="w"&&K||i.turn()==="b"&&P,G=K?"white":"black",T=(a==null?void 0:a.white_ready)&&(a==null?void 0:a.black_ready),O=T&&(a==null?void 0:a.result)==="in_progress";p.useEffect(()=>{if(t)return V(),ee()},[t]),p.useEffect(()=>{if(T&&(a==null?void 0:a.result)==="in_progress"){const Q=setInterval(()=>{i.turn()==="w"?v(fe=>{const he=Math.max(0,fe-1);return he===30&&K&&!J&&(s.playTimeWarning(),U(!0)),he}):b(fe=>{const he=Math.max(0,fe-1);return he===30&&P&&!J&&(s.playTimeWarning(),U(!0)),he})},1e3);return()=>clearInterval(Q)}},[T,a==null?void 0:a.result,i,K,P,J,s]),p.useEffect(()=>{U(!1)},[i.turn()]);const V=async()=>{if(!t)return;const{data:Q}=await Z.from("games").select("*").eq("id",t).single();if(Q){l(Q);const fe=new pn;Q.fen&&fe.load(Q.fen),o(fe),v(Q.white_time_remaining||600),b(Q.black_time_remaining||600);const{data:he}=await Z.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, rating").eq("id",Q.white_player_id).single(),{data:je}=await Z.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, rating").eq("id",Q.black_player_id).single();he&&d(he),je&&f(je),s.playGameStart()}y(!1)},ee=()=>{const Q=Z.channel(`game-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"games",filter:`id=eq.${t}`},fe=>{const he=fe.new;l(he);const je=new pn;he.fen&&je.load(he.fen),o(je),he.pgn&&s.playMove()}).subscribe();return()=>{Z.removeChannel(Q)}},k=p.useCallback(Q=>{Q.san.includes("#")?s.playCheckmate():Q.san.includes("+")?s.playCheck():Q.captured?s.playCapture():Q.flags.includes("k")||Q.flags.includes("q")?s.playCastle():Q.san.includes("=")?s.playPromotion():s.playMove()},[s]),W=p.useCallback((Q,fe)=>{const he=i.get(Q);if(!he||he.type!=="p")return!1;const je=fe[1];return he.color==="w"&&je==="8"||he.color==="b"&&je==="1"},[i]),z=p.useCallback((Q,fe,he="q")=>{if(!a)return!1;try{const je=new pn(i.fen()),Je=je.move({from:Q,to:fe,promotion:he});if(!Je)return!1;o(je),_(null),E([]),M({from:Q,to:fe}),k(Je);const Zt=je.fen(),at=je.pgn();let Ie="in_progress";return je.isCheckmate()?Ie=je.turn()==="w"?"black_wins":"white_wins":je.isDraw()&&(Ie="draw"),Z.from("games").update({fen:Zt,pgn:at,result:Ie,white_time_remaining:m,black_time_remaining:g,...Ie!=="in_progress"?{ended_at:new Date().toISOString()}:{}}).eq("id",t).then(()=>{Ie!=="in_progress"&&(ce(Ie),r({title:"Game Over!",description:`Result: ${Ie.replace(/_/g," ")}`}))}),!0}catch{return!1}},[i,a,t,m,g,k,r]),X=p.useCallback(Q=>{C&&(z(C.from,C.to,Q),j(null))},[C,z]),se=p.useCallback(Q=>i.moves({square:Q,verbose:!0}).map(he=>he.to),[i]),A=p.useCallback(Q=>{if(!$||!O||C)return;if(w&&S.includes(Q)){if(W(w,Q)){j({from:w,to:Q});return}z(w,Q);return}const fe=i.get(Q),he=K?"w":"b";fe&&fe.color===he?(_(Q),E(se(Q))):(_(null),E([]))},[i,$,O,w,S,K,C,W,z,se]),re=p.useCallback((Q,fe)=>!$||!O||C?!1:(_(fe),E(se(fe)),!0),[$,O,C,se]),ye=p.useCallback(()=>{_(null),E([])},[]),oe=p.useCallback((Q,fe)=>{if(!$||!O||C)return!1;const he=Q,je=fe;return i.moves({square:he,verbose:!0}).some(at=>at.to===je)?W(he,je)?(j({from:he,to:je}),!0):z(he,je):!1},[i,$,O,C,W,z]),ie=p.useMemo(()=>{const Q={};return L&&(Q[L.from]={backgroundColor:"rgba(155, 199, 0, 0.4)"},Q[L.to]={backgroundColor:"rgba(155, 199, 0, 0.5)"}),w&&(Q[w]={backgroundColor:"rgba(255, 255, 0, 0.4)"}),S.forEach(fe=>{const he=i.get(fe);Q[fe]={...Q[fe],background:he?"radial-gradient(circle, rgba(255, 0, 0, 0.4) 85%, transparent 85%)":"radial-gradient(circle, rgba(0, 128, 0, 0.4) 25%, transparent 25%)"}}),Q},[w,S,i,L]),ce=async Q=>{if(!a)return;let fe=0,he=0,je=0,Je=0;const{data:Zt}=await Z.from("profiles").select("rating").eq("id",a.white_player_id).single(),{data:at}=await Z.from("profiles").select("rating").eq("id",a.black_player_id).single(),Ie=(Zt==null?void 0:Zt.rating)||1200,wt=(at==null?void 0:at.rating)||1200,on=1/(1+Math.pow(10,(wt-Ie)/400)),Sn=1-on,Vt=32;Q==="white_wins"?(fe=1,je=Math.round(Vt*(1-on)),Je=Math.round(Vt*(0-Sn))):Q==="black_wins"?(he=1,je=Math.round(Vt*(0-on)),Je=Math.round(Vt*(1-Sn))):Q==="draw"&&(fe=.5,he=.5,je=Math.round(Vt*(.5-on)),Je=Math.round(Vt*(.5-Sn)));const{data:Mr}=await Z.from("tournament_players").select("score").eq("tournament_id",a.tournament_id).eq("player_id",a.white_player_id).single(),{data:$r}=await Z.from("tournament_players").select("score").eq("tournament_id",a.tournament_id).eq("player_id",a.black_player_id).single();Mr&&await Z.from("tournament_players").update({score:Number(Mr.score)+fe}).eq("tournament_id",a.tournament_id).eq("player_id",a.white_player_id),$r&&await Z.from("tournament_players").update({score:Number($r.score)+he}).eq("tournament_id",a.tournament_id).eq("player_id",a.black_player_id);const{data:er}=await Z.from("profiles").select("games_played, games_won, games_lost, games_drawn, score").eq("id",a.white_player_id).single(),{data:lt}=await Z.from("profiles").select("games_played, games_won, games_lost, games_drawn, score").eq("id",a.black_player_id).single();if(er){const dr=Q==="white_wins"?1:0,tr=Q==="black_wins"?1:0,an=Q==="draw"?1:0;await Z.from("profiles").update({rating:Ie+je,games_played:(er.games_played||0)+1,games_won:(er.games_won||0)+dr,games_lost:(er.games_lost||0)+tr,games_drawn:(er.games_drawn||0)+an,score:Number(er.score||0)+fe}).eq("id",a.white_player_id)}else await Z.from("profiles").update({rating:Ie+je}).eq("id",a.white_player_id);if(lt){const dr=Q==="black_wins"?1:0,tr=Q==="white_wins"?1:0,an=Q==="draw"?1:0;await Z.from("profiles").update({rating:wt+Je,games_played:(lt.games_played||0)+1,games_won:(lt.games_won||0)+dr,games_lost:(lt.games_lost||0)+tr,games_drawn:(lt.games_drawn||0)+an,score:Number(lt.score||0)+he}).eq("id",a.black_player_id)}else await Z.from("profiles").update({rating:wt+Je}).eq("id",a.black_player_id)},ze=async()=>{if(!a||!H)return;const Q=K?{white_ready:!0}:{black_ready:!0},fe=K?a.black_ready:a.white_ready&&!0;await Z.from("games").update({...Q,...fe?{result:"in_progress",started_at:new Date().toISOString()}:{}}).eq("id",t),fe?(s.playGameStart(),r({title:"Game Started!",description:"White moves first. Good luck!"})):r({title:K?"Game Started!":"Ready!",description:"Waiting for opponent..."})},yt=async()=>{if(!a||!H||!T)return;const Q=K?"black_wins":"white_wins";await Z.from("games").update({result:Q,ended_at:new Date().toISOString()}).eq("id",t),await ce(Q),r({title:"You resigned",description:"Better luck next time!"})},Lt=async()=>{!a||!H||!O||(await Z.from("games").update({draw_offered_by:e==null?void 0:e.id}).eq("id",t),r({title:"Draw offered",description:"Waiting for opponent's response..."}))},ht=async()=>{!a||!H||!O||(await Z.from("games").update({result:"draw",ended_at:new Date().toISOString(),draw_offered_by:null}).eq("id",t),await ce("draw"),r({title:"Draw accepted",description:"Game ended in a draw!"}))},ur=async()=>{!a||!H||(await Z.from("games").update({draw_offered_by:null}).eq("id",t),r({title:"Draw declined",description:"The game continues!"}))},Ht=Q=>{const fe=Math.floor(Q/60),he=Q%60;return`${fe}:${he.toString().padStart(2,"0")}`};return x?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(sr,{className:"h-8 w-8 animate-spin text-primary"})}):a?c.jsxs("div",{className:"min-h-screen bg-background p-4",children:[c.jsx(uS,{isOpen:!!C,color:G,onSelect:X}),c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs(Le,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(cr,{avatarUrl:h==null?void 0:h.avatar_url,initials:h==null?void 0:h.avatar_initials,name:h==null?void 0:h.full_name,size:"sm"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:(h==null?void 0:h.username)||"Black"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Black  ",(h==null?void 0:h.rating)||1200]})]})]}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors ${i.turn()==="b"?g<=30?"bg-destructive text-destructive-foreground animate-pulse":"bg-primary text-primary-foreground":"bg-muted"}`,children:[c.jsx(ah,{className:"h-4 w-4"}),c.jsx("span",{className:"font-mono font-bold",children:Ht(g)})]})]}),c.jsx("div",{className:"max-w-[min(100%,400px)] mx-auto",children:c.jsx(N_,{position:i.fen(),onPieceDrop:oe,onSquareClick:A,onPieceDragBegin:re,onPieceDragEnd:ye,boardOrientation:P?"black":"white",arePiecesDraggable:H&&$&&O&&!C,customSquareStyles:ie})}),c.jsxs("div",{className:"flex items-center justify-between mt-4 p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(cr,{avatarUrl:u==null?void 0:u.avatar_url,initials:u==null?void 0:u.avatar_initials,name:u==null?void 0:u.full_name,size:"sm"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:(u==null?void 0:u.username)||"White"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["White  ",(u==null?void 0:u.rating)||1200]})]})]}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors ${i.turn()==="w"?m<=30?"bg-destructive text-destructive-foreground animate-pulse":"bg-primary text-primary-foreground":"bg-muted"}`,children:[c.jsx(ah,{className:"h-4 w-4"}),c.jsx("span",{className:"font-mono font-bold",children:Ht(m)})]})]})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Le,{children:[c.jsx(St,{children:c.jsx(Et,{children:"Game Status"})}),c.jsxs(Fe,{className:"space-y-4",children:[c.jsx("div",{className:"text-center py-4 bg-muted rounded-lg",children:T?a.result==="in_progress"?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-bold text-lg",children:i.turn()==="w"?"White's Turn":"Black's Turn"}),$&&c.jsx("p",{className:"text-sm text-primary",children:"Your move!"})]}):c.jsx("p",{className:"font-bold text-lg capitalize",children:a.result.replace(/_/g," ")}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-bold text-lg",children:"Waiting to Start"}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx("p",{className:`text-sm ${a.white_ready?"text-green-500":"text-muted-foreground"}`,children:a.white_ready?" White is ready":" White not ready"}),c.jsx("p",{className:`text-sm ${a.black_ready?"text-green-500":"text-muted-foreground"}`,children:a.black_ready?" Black is ready":" Black not ready"})]})]})}),i.isCheck()&&O&&c.jsx("div",{className:"p-3 bg-destructive/10 text-destructive rounded-lg text-center font-bold animate-pulse",children:"CHECK!"}),H&&!T&&a.result==="pending"&&c.jsxs(c.Fragment,{children:[K&&!a.white_ready&&c.jsxs(be,{className:"w-full bg-green-600 hover:bg-green-700",onClick:ze,children:[c.jsx(nm,{className:"h-4 w-4 mr-2"}),"Start Game"]}),K&&a.white_ready&&!a.black_ready&&c.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg text-center",children:[c.jsx(sr,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),c.jsx("p",{className:"text-sm",children:"Waiting for Black to accept..."})]}),P&&!a.black_ready&&a.white_ready&&c.jsxs(be,{className:"w-full bg-green-600 hover:bg-green-700",onClick:ze,children:[c.jsx(tT,{className:"h-4 w-4 mr-2"}),"Accept & Start"]}),P&&!a.white_ready&&c.jsx("div",{className:"p-3 bg-muted rounded-lg text-center",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiting for White to start the game..."})})]}),H&&O&&a.draw_offered_by&&a.draw_offered_by!==(e==null?void 0:e.id)&&c.jsxs("div",{className:"p-3 bg-amber-500/20 border border-amber-500/30 rounded-lg space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-center",children:"Opponent offers a draw"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(be,{variant:"outline",className:"flex-1",onClick:ht,children:[c.jsx(hv,{className:"h-4 w-4 mr-2"}),"Accept"]}),c.jsxs(be,{variant:"outline",className:"flex-1",onClick:ur,children:[c.jsx(ku,{className:"h-4 w-4 mr-2"}),"Decline"]})]})]}),H&&O&&a.draw_offered_by===(e==null?void 0:e.id)&&c.jsxs("div",{className:"p-3 bg-muted rounded-lg text-center",children:[c.jsx(sr,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Draw offer pending..."})]}),H&&O&&c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(be,{variant:"secondary",className:"flex-1",onClick:Lt,disabled:!!a.draw_offered_by,children:[c.jsx(hv,{className:"h-4 w-4 mr-2"}),"Offer Draw"]}),c.jsxs(be,{variant:"destructive",className:"flex-1",onClick:yt,children:[c.jsx(a1,{className:"h-4 w-4 mr-2"}),"Resign"]})]}),c.jsxs(be,{variant:"outline",className:"w-full",onClick:()=>n("/standings"),children:[c.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Back to Standings"]})]})]}),c.jsxs(Le,{children:[c.jsx(St,{children:c.jsx(Et,{children:"Moves"})}),c.jsx(Fe,{children:c.jsx("div",{className:"text-sm font-mono bg-muted p-3 rounded-lg max-h-48 overflow-y-auto",children:i.history().length>0?c.jsx("div",{className:"space-y-1",children:i.history().reduce((Q,fe,he)=>(he%2===0?Q.push([fe]):Q[Q.length-1].push(fe),Q),[]).map((Q,fe)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("span",{className:"text-muted-foreground w-6",children:[fe+1,"."]}),c.jsx("span",{className:"w-16",children:Q[0]}),c.jsx("span",{className:"w-16",children:Q[1]||""})]},fe))}):c.jsx("span",{className:"text-muted-foreground",children:"No moves yet"})})})]})]})]})})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground",children:"Game not found"})})};function X0(t,[e,r]){return Math.min(r,Math.max(e,t))}function EL(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var CL=[" ","Enter","ArrowUp","ArrowDown"],kL=[" ","Enter"],hi="Select",[Ku,Gu,TL]=Xp(hi),[$o,OM]=zn(hi,[TL,Ou]),Qu=Ou(),[jL,Is]=$o(hi),[NL,OL]=$o(hi),dS=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:v}=t,g=Qu(e),[b,x]=p.useState(null),[y,w]=p.useState(null),[_,S]=p.useState(!1),E=Em(u),[C,j]=Co({prop:n,defaultProp:s??!1,onChange:i,caller:hi}),[L,M]=Co({prop:o,defaultProp:a,onChange:l,caller:hi}),J=p.useRef(null),U=b?v||!!b.closest("form"):!0,[K,P]=p.useState(new Set),H=Array.from(K).map($=>$.props.value).join(";");return c.jsx(JN,{...g,children:c.jsxs(jL,{required:m,scope:e,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Ss(),value:L,onValueChange:M,open:C,onOpenChange:j,dir:E,triggerPointerDownPosRef:J,disabled:f,children:[c.jsx(Ku.Provider,{scope:e,children:c.jsx(NL,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback($=>{P(G=>new Set(G).add($))},[]),onNativeOptionRemove:p.useCallback($=>{P(G=>{const T=new Set(G);return T.delete($),T})},[]),children:r})}),U?c.jsxs(DS,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:L,onChange:$=>M($.target.value),disabled:f,form:v,children:[L===void 0?c.jsx("option",{value:""}):null,Array.from(K)]},H):null]})})};dS.displayName=hi;var fS="SelectTrigger",hS=p.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Qu(r),o=Is(fS,r),a=o.disabled||n,l=Be(e,o.onTriggerChange),u=Gu(r),d=p.useRef("touch"),[h,f,m]=MS(g=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===o.value),y=$S(b,g,x);y!==void 0&&o.onValueChange(y.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(V1,{asChild:!0,...i,children:c.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":LS(o.value)?"":void 0,...s,ref:l,onClick:de(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:de(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:de(s.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(b&&g.key===" ")&&CL.includes(g.key)&&(v(),g.preventDefault())})})})});hS.displayName=fS;var pS="SelectValue",mS=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=t,l=Is(pS,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=Be(e,l.onValueNodeChange);return Dt(()=>{u(d)},[u,d]),c.jsx(ke.span,{...a,ref:h,style:{pointerEvents:"none"},children:LS(l.value)?c.jsx(c.Fragment,{children:o}):i})});mS.displayName=pS;var PL="SelectIcon",gS=p.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return c.jsx(ke.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});gS.displayName=PL;var RL="SelectPortal",vS=t=>c.jsx(_u,{asChild:!0,...t});vS.displayName=RL;var pi="SelectContent",yS=p.forwardRef((t,e)=>{const r=Is(pi,t.__scopeSelect),[n,s]=p.useState();if(Dt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?vi.createPortal(c.jsx(wS,{scope:t.__scopeSelect,children:c.jsx(Ku.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(xS,{...t,ref:e})});yS.displayName=pi;var zr=10,[wS,Ds]=$o(pi),AL="SelectContentImpl",IL=Eo("SelectContent.RemoveScroll"),xS=p.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b,...x}=t,y=Is(pi,r),[w,_]=p.useState(null),[S,E]=p.useState(null),C=Be(e,A=>_(A)),[j,L]=p.useState(null),[M,J]=p.useState(null),U=Gu(r),[K,P]=p.useState(!1),H=p.useRef(!1);p.useEffect(()=>{if(w)return F_(w)},[w]),R_();const $=p.useCallback(A=>{const[re,...ye]=U().map(ce=>ce.ref.current),[oe]=ye.slice(-1),ie=document.activeElement;for(const ce of A)if(ce===ie||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===re&&S&&(S.scrollTop=0),ce===oe&&S&&(S.scrollTop=S.scrollHeight),ce==null||ce.focus(),document.activeElement!==ie))return},[U,S]),G=p.useCallback(()=>$([j,w]),[$,j,w]);p.useEffect(()=>{K&&G()},[K,G]);const{onOpenChange:T,triggerPointerDownPosRef:O}=y;p.useEffect(()=>{if(w){let A={x:0,y:0};const re=oe=>{var ie,ce;A={x:Math.abs(Math.round(oe.pageX)-(((ie=O.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((ce=O.current)==null?void 0:ce.y)??0))}},ye=oe=>{A.x<=10&&A.y<=10?oe.preventDefault():w.contains(oe.target)||T(!1),document.removeEventListener("pointermove",re),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",ye,{capture:!0})}}},[w,T,O]),p.useEffect(()=>{const A=()=>T(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[T]);const[V,ee]=MS(A=>{const re=U().filter(ie=>!ie.disabled),ye=re.find(ie=>ie.ref.current===document.activeElement),oe=$S(re,A,ye);oe&&setTimeout(()=>oe.ref.current.focus())}),k=p.useCallback((A,re,ye)=>{const oe=!H.current&&!ye;(y.value!==void 0&&y.value===re||oe)&&(L(A),oe&&(H.current=!0))},[y.value]),W=p.useCallback(()=>w==null?void 0:w.focus(),[w]),z=p.useCallback((A,re,ye)=>{const oe=!H.current&&!ye;(y.value!==void 0&&y.value===re||oe)&&J(A)},[y.value]),X=n==="popper"?Wh:bS,se=X===Wh?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return c.jsx(wS,{scope:r,content:w,viewport:S,onViewportChange:E,itemRefCallback:k,selectedItem:j,onItemLeave:W,itemTextRefCallback:z,focusSelectedItem:G,selectedItemText:M,position:n,isPositioned:K,searchRef:V,children:c.jsx(Am,{as:IL,allowPinchZoom:!0,children:c.jsx(Rm,{asChild:!0,trapped:y.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:de(s,A=>{var re;(re=y.trigger)==null||re.focus({preventScroll:!0}),A.preventDefault()}),children:c.jsx(al,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(X,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:A=>A.preventDefault(),...x,...se,onPlaced:()=>P(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:de(x.onKeyDown,A=>{const re=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!re&&A.key.length===1&&ee(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let oe=U().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(A.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const ie=A.target,ce=oe.indexOf(ie);oe=oe.slice(ce+1)}setTimeout(()=>$(oe)),A.preventDefault()}})})})})})})});xS.displayName=AL;var DL="SelectItemAlignedPosition",bS=p.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=Is(pi,r),o=Ds(pi,r),[a,l]=p.useState(null),[u,d]=p.useState(null),h=Be(e,C=>d(C)),f=Gu(r),m=p.useRef(!1),v=p.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=o,w=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&b&&x){const C=i.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),M=x.getBoundingClientRect();if(i.dir!=="rtl"){const ie=M.left-j.left,ce=L.left-ie,ze=C.left-ce,yt=C.width+ze,Lt=Math.max(yt,j.width),ht=window.innerWidth-zr,ur=X0(ce,[zr,Math.max(zr,ht-Lt)]);a.style.minWidth=yt+"px",a.style.left=ur+"px"}else{const ie=j.right-M.right,ce=window.innerWidth-L.right-ie,ze=window.innerWidth-C.right-ce,yt=C.width+ze,Lt=Math.max(yt,j.width),ht=window.innerWidth-zr,ur=X0(ce,[zr,Math.max(zr,ht-Lt)]);a.style.minWidth=yt+"px",a.style.right=ur+"px"}const J=f(),U=window.innerHeight-zr*2,K=g.scrollHeight,P=window.getComputedStyle(u),H=parseInt(P.borderTopWidth,10),$=parseInt(P.paddingTop,10),G=parseInt(P.borderBottomWidth,10),T=parseInt(P.paddingBottom,10),O=H+$+K+T+G,V=Math.min(b.offsetHeight*5,O),ee=window.getComputedStyle(g),k=parseInt(ee.paddingTop,10),W=parseInt(ee.paddingBottom,10),z=C.top+C.height/2-zr,X=U-z,se=b.offsetHeight/2,A=b.offsetTop+se,re=H+$+A,ye=O-re;if(re<=z){const ie=J.length>0&&b===J[J.length-1].ref.current;a.style.bottom="0px";const ce=u.clientHeight-g.offsetTop-g.offsetHeight,ze=Math.max(X,se+(ie?W:0)+ce+G),yt=re+ze;a.style.height=yt+"px"}else{const ie=J.length>0&&b===J[0].ref.current;a.style.top="0px";const ze=Math.max(z,H+g.offsetTop+(ie?k:0)+se)+ye;a.style.height=ze+"px",g.scrollTop=re-z+g.offsetTop}a.style.margin=`${zr}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=U+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,a,u,g,b,x,i.dir,n]);Dt(()=>w(),[w]);const[_,S]=p.useState();Dt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=p.useCallback(C=>{C&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return c.jsx(ML,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(ke.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});bS.displayName=DL;var LL="SelectPopperPosition",Wh=p.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=zr,...i}=t,o=Qu(r);return c.jsx(q1,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wh.displayName=LL;var[ML,zm]=$o(pi,{}),Hh="SelectViewport",_S=p.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Ds(Hh,r),o=zm(Hh,r),a=Be(e,i.onViewportChange),l=p.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Ku.Slot,{scope:r,children:c.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-zr*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),x=Math.max(g,b);if(x<v){const y=x+m,w=Math.min(v,y),_=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});_S.displayName=Hh;var SS="SelectGroup",[$L,UL]=$o(SS),FL=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Ss();return c.jsx($L,{scope:r,id:s,children:c.jsx(ke.div,{role:"group","aria-labelledby":s,...n,ref:e})})});FL.displayName=SS;var ES="SelectLabel",CS=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=UL(ES,r);return c.jsx(ke.div,{id:s.id,...n,ref:e})});CS.displayName=ES;var nu="SelectItem",[BL,kS]=$o(nu),TS=p.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,a=Is(nu,r),l=Ds(nu,r),u=a.value===n,[d,h]=p.useState(i??""),[f,m]=p.useState(!1),v=Be(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,s)}),g=Ss(),b=p.useRef("touch"),x=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(BL,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(Ku.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:c.jsx(ke.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:de(o.onFocus,()=>m(!0)),onBlur:de(o.onBlur,()=>m(!1)),onClick:de(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:de(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:de(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:de(o.onPointerMove,y=>{var w;b.current=y.pointerType,s?(w=l.onItemLeave)==null||w.call(l):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:de(o.onKeyDown,y=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(kL.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});TS.displayName=nu;var oa="SelectItemText",jS=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=Is(oa,r),a=Ds(oa,r),l=kS(oa,r),u=OL(oa,r),[d,h]=p.useState(null),f=Be(e,x=>h(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=p.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Dt(()=>(g(v),()=>b(v)),[g,b,v]),c.jsxs(c.Fragment,{children:[c.jsx(ke.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vi.createPortal(i.children,o.valueNode):null]})});jS.displayName=oa;var NS="SelectItemIndicator",OS=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return kS(NS,r).isSelected?c.jsx(ke.span,{"aria-hidden":!0,...n,ref:e}):null});OS.displayName=NS;var Vh="SelectScrollUpButton",PS=p.forwardRef((t,e)=>{const r=Ds(Vh,t.__scopeSelect),n=zm(Vh,t.__scopeSelect),[s,i]=p.useState(!1),o=Be(e,n.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(AS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});PS.displayName=Vh;var qh="SelectScrollDownButton",RS=p.forwardRef((t,e)=>{const r=Ds(qh,t.__scopeSelect),n=zm(qh,t.__scopeSelect),[s,i]=p.useState(!1),o=Be(e,n.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(AS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});RS.displayName=qh;var AS=p.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Ds("SelectScrollButton",r),o=p.useRef(null),a=Gu(r),l=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),Dt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(ke.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:de(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:de(s.onPointerLeave,()=>{l()})})}),zL="SelectSeparator",IS=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(ke.div,{"aria-hidden":!0,...n,ref:e})});IS.displayName=zL;var Kh="SelectArrow",WL=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Qu(r),i=Is(Kh,r),o=Ds(Kh,r);return i.open&&o.position==="popper"?c.jsx(K1,{...s,...n,ref:e}):null});WL.displayName=Kh;var HL="SelectBubbleInput",DS=p.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=p.useRef(null),i=Be(n,s),o=EL(e);return p.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),c.jsx(ke.select,{...r,style:{...Lx,...r.style},ref:i,defaultValue:e})});DS.displayName=HL;function LS(t){return t===""||t===void 0}function MS(t){const e=Lr(t),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(o=>{const a=r.current+o;e(a),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function $S(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=VL(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function VL(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var qL=dS,US=hS,KL=mS,GL=gS,QL=vS,FS=yS,YL=_S,BS=CS,zS=TS,JL=jS,XL=OS,WS=PS,HS=RS,VS=IS;const Gh=qL,Qh=KL,su=p.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(US,{ref:n,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(GL,{asChild:!0,children:c.jsx(o1,{className:"h-4 w-4 opacity-50"})})]}));su.displayName=US.displayName;const qS=p.forwardRef(({className:t,...e},r)=>c.jsx(WS,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(eT,{className:"h-4 w-4"})}));qS.displayName=WS.displayName;const KS=p.forwardRef(({className:t,...e},r)=>c.jsx(HS,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(o1,{className:"h-4 w-4"})}));KS.displayName=HS.displayName;const iu=p.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>c.jsx(QL,{children:c.jsxs(FS,{ref:s,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(qS,{}),c.jsx(YL,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(KS,{})]})}));iu.displayName=FS.displayName;const ZL=p.forwardRef(({className:t,...e},r)=>c.jsx(BS,{ref:r,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ZL.displayName=BS.displayName;const Rt=p.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(zS,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(XL,{children:c.jsx(i1,{className:"h-4 w-4"})})}),c.jsx(JL,{children:e})]}));Rt.displayName=zS.displayName;const eM=p.forwardRef(({className:t,...e},r)=>c.jsx(VS,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",t),...e}));eM.displayName=VS.displayName;const Z0=["Ooh, spicy move! ","I've seen better... in my dreams!","Bold strategy, Cotton!","That piece had a family!","Interesting... very interesting...","My grandma plays faster than this!","Chess isn't a game, it's a lifestyle! ","Someone's been watching too much Queen's Gambit!","The board is getting heated!","Plot twist incoming!"],ey=["CHECK! Your king is sweating! ","Knock knock! Who's there? CHECK!","Your king just felt that one!","Oof! That's gonna leave a mark!","The king is in trouble! DRAMA!"],ty=["RIP to that piece! ","Yoink! Mine now!","That piece just got yeeted!","Nom nom nom! ","And just like that... gone!","Savage! No mercy!"],ry=["CHECKMATE! GG EZ! ","That's all she wrote, folks!","FATALITY! ","And the crowd goes WILD!","Pack it up, we're done here!"],ny=["A draw? How... diplomatic! ","Nobody wins! Everyone gets a participation trophy!","It's a tie! How anti-climactic!"],tM=({lastMove:t,isCheck:e,isCheckmate:r,isDraw:n,moveCount:s})=>{const[i,o]=p.useState("Let the games begin! "),[a,l]=p.useState(!1),[u,d]=p.useState(!1);p.useEffect(()=>{if(s===0){o("Let the games begin! ");return}let f="";r?f=ry[Math.floor(Math.random()*ry.length)]:n?f=ny[Math.floor(Math.random()*ny.length)]:e?f=ey[Math.floor(Math.random()*ey.length)]:t&&t.includes("x")?f=ty[Math.floor(Math.random()*ty.length)]:s>0&&(f=Z0[Math.floor(Math.random()*Z0.length)]),f&&o(f)},[t,e,r,n,s]),p.useEffect(()=>{s>0&&s%5===0&&!r&&!n&&h()},[s]);const h=async()=>{if(!u){d(!0);try{const{data:f,error:m}=await Z.functions.invoke("chess-commentary",{body:{moveCount:s,lastMove:t}});f!=null&&f.commentary&&o(f.commentary)}catch{console.log("Commentary fetch failed, using local")}finally{d(!1)}}};return c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg p-4 border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(iT,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-semibold text-sm",children:"AI Commentator"})]}),c.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(!a),children:a?c.jsx(mT,{className:"h-4 w-4"}):c.jsx(pT,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"text-sm font-medium animate-in fade-in slide-in-from-bottom-2 duration-300",children:i})]})},rM=()=>{const{toast:t}=yi(),e=O_(),[r,n]=p.useState(new pn),[s,i]=p.useState("intermediate"),[o,a]=p.useState("white"),[l,u]=p.useState(!1),[d,h]=p.useState("playing"),[f,m]=p.useState([]),[v,g]=p.useState(null),[b,x]=p.useState([]),[y,w]=p.useState(null),[_,S]=p.useState(null),E=p.useCallback(k=>{k.san.includes("#")?e.playCheckmate():k.san.includes("+")?e.playCheck():k.captured?e.playCapture():k.flags.includes("k")||k.flags.includes("q")?e.playCastle():k.san.includes("=")?e.playPromotion():e.playMove()},[e]),C=p.useCallback(k=>{if(k.isCheckmate()){const W=k.turn()==="w"?"black":"white";return o==="white"&&W==="white"||o==="black"&&W==="black"?(h("won"),t({title:" Congratulations!",description:"You won the game!"})):(h("lost"),t({title:"Game Over",description:"The bot won this time. Try again!"})),!0}return k.isDraw()?(h("draw"),t({title:"Draw!",description:"The game ended in a draw."}),!0):!1},[o,t]),j=p.useCallback(async k=>{if(!(C(k)||k.turn()==="w"&&o==="white"||k.turn()==="b"&&o==="black")){u(!0);try{const{data:z,error:X}=await Z.functions.invoke("chess-bot",{body:{fen:k.fen(),difficulty:s}});if(X){console.error("Bot error:",X);const A=k.moves({verbose:!0});if(A.length>0){const re=A[Math.floor(Math.random()*A.length)],ye=new pn(k.fen()),oe=ye.move(re);oe&&(n(ye),m(ie=>[...ie,oe.san]),S(oe.san),E(oe),C(ye))}u(!1);return}const se=z==null?void 0:z.move;if(se){const A=new pn(k.fen());try{const re=A.move({from:se.slice(0,2),to:se.slice(2,4),promotion:se[4]||"q"});if(re)n(A),m(ye=>[...ye,re.san]),S(re.san),E(re),C(A);else throw new Error("Invalid move")}catch{const re=k.moves({verbose:!0});if(re.length>0){const ye=re[Math.floor(Math.random()*re.length)];A.load(k.fen());const oe=A.move(ye);oe&&(n(A),m(ie=>[...ie,oe.san]),S(oe.san),E(oe),C(A))}}}}catch(z){console.error("Bot move error:",z)}finally{u(!1)}}},[s,o,C,E]);p.useEffect(()=>{o==="black"&&r.history().length===0&&d==="playing"&&(e.playGameStart(),j(r))},[o,r,d,j,e]);const L=p.useCallback((k,W)=>{const z=r.get(k);if(!z||z.type!=="p")return!1;const X=W[1];return z.color==="w"&&X==="8"||z.color==="b"&&X==="1"},[r]),M=p.useCallback((k,W,z="q")=>{try{const X=new pn(r.fen()),se=X.move({from:k,to:W,promotion:z});return se?(n(X),m(A=>[...A,se.san]),S(se.san),g(null),x([]),E(se),C(X)||setTimeout(()=>j(X),500),!0):!1}catch{return!1}},[r,C,j,E]),J=p.useCallback(k=>{y&&(M(y.from,y.to,k),w(null))},[y,M]),U=p.useCallback(k=>r.moves({square:k,verbose:!0}).map(z=>z.to),[r]),K=p.useCallback(k=>{if(d!=="playing"||l||y||!(r.turn()==="w"&&o==="white"||r.turn()==="b"&&o==="black"))return;if(v&&b.includes(k)){if(L(v,k)){w({from:v,to:k});return}M(v,k);return}const z=r.get(k);z&&(z.color==="w"&&o==="white"||z.color==="b"&&o==="black")?(g(k),x(U(k))):(g(null),x([]))},[r,o,d,l,v,b,y,L,M,U]),P=p.useCallback((k,W)=>d!=="playing"||l||y||!(r.turn()==="w"&&o==="white"||r.turn()==="b"&&o==="black")?!1:(g(W),x(U(W)),!0),[r,o,d,l,y,U]),H=p.useCallback(()=>{g(null),x([])},[]),$=p.useCallback((k,W)=>{if(d!=="playing"||l||y||!(r.turn()==="w"&&o==="white"||r.turn()==="b"&&o==="black"))return!1;const X=k,se=W;return r.moves({square:X,verbose:!0}).some(ye=>ye.to===se)?L(X,se)?(w({from:X,to:se}),!0):M(X,se):!1},[r,o,d,l,y,L,M]),G=p.useMemo(()=>{const k={};return v&&(k[v]={backgroundColor:"rgba(255, 255, 0, 0.4)"}),b.forEach(W=>{const z=r.get(W);k[W]={background:z?"radial-gradient(circle, rgba(255, 0, 0, 0.4) 85%, transparent 85%)":"radial-gradient(circle, rgba(0, 128, 0, 0.4) 25%, transparent 25%)"}}),k},[v,b,r]),T=()=>{n(new pn),h("playing"),m([]),g(null),x([]),S(null),w(null),e.playGameStart(),o==="black"&&setTimeout(()=>{const k=new pn;j(k)},500)},O=()=>{h("lost"),t({title:"You resigned",description:"Better luck next time!"})},V=()=>{a(o==="white"?"black":"white"),T()},ee={beginner:"text-green-500",intermediate:"text-yellow-500",advanced:"text-orange-500",master:"text-red-500"};return c.jsxs("div",{className:"min-h-screen bg-background p-4",children:[c.jsx(uS,{isOpen:!!y,color:o,onSelect:J}),c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground flex items-center justify-center gap-3",children:[c.jsx(oh,{className:"h-8 w-8 text-primary"}),"Practice vs AI Bot",c.jsx(u1,{className:"h-6 w-6 text-accent"})]}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Sharpen your skills against our AI opponent"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs(Le,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/20 flex items-center justify-center",children:c.jsx(oh,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:"AI Bot"}),c.jsx("p",{className:`text-xs capitalize ${ee[s]}`,children:s})]})]}),l&&c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(sr,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"text-sm",children:"Thinking..."})]})]}),c.jsxs("div",{className:"relative max-w-[min(100%,400px)] mx-auto",children:[c.jsx(N_,{position:r.fen(),onPieceDrop:$,onSquareClick:K,onPieceDragBegin:P,onPieceDragEnd:H,boardOrientation:o,arePiecesDraggable:d==="playing"&&!l&&!y,customSquareStyles:G}),d!=="playing"&&c.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"text-center p-6 bg-card rounded-xl border shadow-lg",children:[c.jsxs("p",{className:"text-2xl font-bold mb-4",children:[d==="won"&&" Victory!",d==="lost"&&" Defeat",d==="draw"&&" Draw"]}),c.jsxs(be,{onClick:T,className:"gap-2",children:[c.jsx(Wc,{className:"h-4 w-4"}),"Play Again"]})]})})]}),c.jsx("div",{className:"flex items-center justify-between mt-4 p-3 bg-muted rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-accent/20 flex items-center justify-center",children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:"You"}),c.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:o})]})]})})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(tM,{fen:r.fen(),lastMove:_,isCheck:r.isCheck(),isCheckmate:r.isCheckmate(),isDraw:r.isDraw(),moveCount:f.length}),c.jsxs(Le,{children:[c.jsx(St,{children:c.jsx(Et,{children:"Game Settings"})}),c.jsxs(Fe,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Difficulty"}),c.jsxs(Gh,{value:s,onValueChange:k=>i(k),disabled:d==="playing"&&f.length>0,children:[c.jsx(su,{children:c.jsx(Qh,{})}),c.jsxs(iu,{children:[c.jsx(Rt,{value:"beginner",children:" Beginner"}),c.jsx(Rt,{value:"intermediate",children:" Intermediate"}),c.jsx(Rt,{value:"advanced",children:" Advanced"}),c.jsx(Rt,{value:"master",children:" Master"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Play as"}),c.jsx(be,{variant:"outline",className:"w-full",onClick:V,disabled:d==="playing"&&f.length>0,children:o==="white"?" White":" Black"})]}),c.jsxs("div",{className:"pt-2 space-y-2",children:[c.jsxs(be,{variant:"outline",className:"w-full gap-2",onClick:T,children:[c.jsx(Wc,{className:"h-4 w-4"}),"New Game"]}),d==="playing"&&f.length>0&&c.jsxs(be,{variant:"destructive",className:"w-full gap-2",onClick:O,children:[c.jsx(a1,{className:"h-4 w-4"}),"Resign"]})]})]})]}),c.jsxs(Le,{children:[c.jsx(St,{children:c.jsx(Et,{children:"Move History"})}),c.jsx(Fe,{children:c.jsx("div",{className:"text-sm font-mono bg-muted p-3 rounded-lg max-h-48 overflow-y-auto",children:f.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:f.map((k,W)=>c.jsxs("span",{className:W%2===0?"text-foreground":"text-muted-foreground",children:[W%2===0&&c.jsxs("span",{className:"text-xs text-muted-foreground mr-1",children:[Math.floor(W/2)+1,"."]}),k]},W))}):c.jsx("span",{className:"text-muted-foreground",children:"No moves yet"})})})]}),r.isCheck()&&d==="playing"&&c.jsx("div",{className:"p-3 bg-destructive/10 text-destructive rounded-lg text-center font-bold animate-pulse",children:"CHECK!"})]})]})]})]})};var GS="AlertDialog",[nM,PM]=zn(GS,[z_]),Vn=z_(),QS=t=>{const{__scopeAlertDialog:e,...r}=t,n=Vn(e);return c.jsx(sS,{...n,...r,modal:!0})};QS.displayName=GS;var sM="AlertDialogTrigger",YS=p.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vn(r);return c.jsx(yL,{...s,...n,ref:e})});YS.displayName=sM;var iM="AlertDialogPortal",JS=t=>{const{__scopeAlertDialog:e,...r}=t,n=Vn(e);return c.jsx(iS,{...n,...r})};JS.displayName=iM;var oM="AlertDialogOverlay",XS=p.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vn(r);return c.jsx(Mm,{...s,...n,ref:e})});XS.displayName=oM;var ao="AlertDialogContent",[aM,lM]=nM(ao),cM=Px("AlertDialogContent"),ZS=p.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=Vn(r),o=p.useRef(null),a=Be(e,o),l=p.useRef(null);return c.jsx(pL,{contentName:ao,titleName:eE,docsSlug:"alert-dialog",children:c.jsx(aM,{scope:r,cancelRef:l,children:c.jsxs($m,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:de(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(cM,{children:n}),c.jsx(dM,{contentRef:o})]})})})});ZS.displayName=ao;var eE="AlertDialogTitle",tE=p.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vn(r);return c.jsx(Um,{...s,...n,ref:e})});tE.displayName=eE;var rE="AlertDialogDescription",nE=p.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vn(r);return c.jsx(Fm,{...s,...n,ref:e})});nE.displayName=rE;var uM="AlertDialogAction",sE=p.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vn(r);return c.jsx(Bm,{...s,...n,ref:e})});sE.displayName=uM;var iE="AlertDialogCancel",oE=p.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=lM(iE,r),i=Vn(r),o=Be(e,s);return c.jsx(Bm,{...i,...n,ref:o})});oE.displayName=iE;var dM=({contentRef:t})=>{const e=`\`${ao}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ao}\` by passing a \`${rE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ao}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},fM=QS,hM=YS,pM=JS,aE=XS,lE=ZS,cE=sE,uE=oE,dE=tE,fE=nE;const sy=fM,iy=hM,mM=pM,hE=p.forwardRef(({className:t,...e},r)=>c.jsx(aE,{className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));hE.displayName=aE.displayName;const Yh=p.forwardRef(({className:t,...e},r)=>c.jsxs(mM,{children:[c.jsx(hE,{}),c.jsx(lE,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Yh.displayName=lE.displayName;const Jh=({className:t,...e})=>c.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",t),...e});Jh.displayName="AlertDialogHeader";const Xh=({className:t,...e})=>c.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Xh.displayName="AlertDialogFooter";const Zh=p.forwardRef(({className:t,...e},r)=>c.jsx(dE,{ref:r,className:Se("text-lg font-semibold",t),...e}));Zh.displayName=dE.displayName;const ep=p.forwardRef(({className:t,...e},r)=>c.jsx(fE,{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));ep.displayName=fE.displayName;const tp=p.forwardRef(({className:t,...e},r)=>c.jsx(cE,{ref:r,className:Se(eu(),t),...e}));tp.displayName=cE.displayName;const rp=p.forwardRef(({className:t,...e},r)=>c.jsx(uE,{ref:r,className:Se(eu({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));rp.displayName=uE.displayName;const gM="CheckmateCup2K25Admin",vM="Admin",yM="P@s$w0rd",wM=()=>{const[t,e]=p.useState(!1),[r,n]=p.useState(""),[s,i]=p.useState(""),[o,a]=p.useState(!1),[l,u]=p.useState(!1),[d,h]=p.useState(null),[f,m]=p.useState([]),[v,g]=p.useState([]),[b,x]=p.useState([]),[y,w]=p.useState("swiss"),[_,S]=p.useState("10 | 5"),{toast:E}=yi();p.useEffect(()=>{t&&(j(),L(),M())},[t]);const C=async(k,W={})=>{const{data:z,error:X}=await Z.functions.invoke("admin-action",{body:{action:k,data:W,adminKey:gM}});if(X)throw X;if(z!=null&&z.error)throw new Error(z.error);return z},j=async()=>{const{data:k}=await Z.from("tournaments").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(k){h(k),w(k.format),S(k.time_control);const{data:W}=await Z.from("tournament_players").select("player_id").eq("tournament_id",k.id);W&&g(W.map(z=>z.player_id))}},L=async()=>{const{data:k}=await Z.from("profiles").select("id, username, full_name, avatar_url, avatar_initials, score").order("username");k&&m(k)},M=async()=>{if(!d)return;const{data:k}=await Z.from("games").select(`
        id,
        result,
        round,
        white_player:profiles!games_white_player_id_fkey(username, avatar_url, avatar_initials),
        black_player:profiles!games_black_player_id_fkey(username, avatar_url, avatar_initials)
      `).eq("tournament_id",d.id).eq("round",d.current_round||1).order("created_at",{ascending:!0});k&&x(k)};p.useEffect(()=>{d&&M()},[d]);const J=k=>{k.preventDefault(),r===vM&&s===yM?(e(!0),E({title:"Admin access granted"})):E({variant:"destructive",title:"Invalid credentials"})},U=async()=>{u(!0);try{const k=await C("createTournament",{name:"Checkmate Cup 2K25",format:y,timeControl:_});h(k),E({title:"Tournament created!"}),j()}catch(k){E({variant:"destructive",title:"Failed to create tournament",description:String(k)})}u(!1)},K=async()=>{if(d){u(!0);try{await C("updateTournament",{tournamentId:d.id,format:y,timeControl:_}),E({title:"Settings updated!"}),j()}catch(k){E({variant:"destructive",title:"Failed to update",description:String(k)})}u(!1)}},P=async()=>{if(d){u(!0);try{const k=await C("registerAllPlayers",{tournamentId:d.id});E({title:"All players registered!",description:`${k.count} players added`}),j()}catch(k){E({variant:"destructive",title:"Failed to register players",description:String(k)})}u(!1)}},H=async()=>{if(!d||v.length<2){E({variant:"destructive",title:"Need at least 2 players to start"});return}u(!0);let k=Math.ceil(Math.log2(v.length));y==="swiss"||y==="swiss_playoffs"||y==="swiss_super_league"?k=Math.ceil(Math.log2(v.length))+1:y==="round_robin_playoffs"?k=v.length-1:y==="arena"&&(k=10);try{await C("startTournament",{tournamentId:d.id,totalRounds:k}),await $(),E({title:"Tournament started!"}),j()}catch(W){E({variant:"destructive",title:"Failed to start tournament",description:String(W)})}u(!1)},$=async()=>{if(!d)return;const{data:k}=await Z.from("tournament_players").select("player_id, score").eq("tournament_id",d.id).eq("is_eliminated",!1).order("score",{ascending:!1});if(!k||k.length<2)return;const W=k.map(z=>z.player_id);for(let z=0;z<W.length-1;z+=2)await C("createGame",{tournamentId:d.id,round:(d.current_round||0)+1,whitePlayerId:W[z],blackPlayerId:W[z+1]});if(W.length%2===1){const z=W[W.length-1],X=k[k.length-1].score;await C("updatePlayerScore",{tournamentId:d.id,playerId:z,score:Number(X)+1})}},G=async()=>{var k,W,z;if(d){u(!0);try{const{data:X}=await Z.from("tournament_players").select("player_id, score").eq("tournament_id",d.id).order("score",{ascending:!1}).limit(3);X&&X.length>=1&&(await C("publishResults",{tournamentId:d.id,firstPlace:((k=X[0])==null?void 0:k.player_id)||null,secondPlace:((W=X[1])==null?void 0:W.player_id)||null,thirdPlace:((z=X[2])==null?void 0:z.player_id)||null}),E({title:"Results published!",description:"Champions page is now live!"}),j())}catch(X){E({variant:"destructive",title:"Failed to publish results",description:String(X)})}u(!1)}},T=async()=>{if(d){u(!0);try{await C("resetTournament",{tournamentId:d.id}),h(null),g([]),E({title:"Tournament reset!",description:"All data has been cleared."})}catch(k){E({variant:"destructive",title:"Failed to reset",description:String(k)})}u(!1)}},O=async()=>{u(!0);try{await C("deleteAllAccounts",{}),m([]),g([]),E({title:"All accounts deleted!",description:"All user data has been removed."})}catch(k){E({variant:"destructive",title:"Failed to delete accounts",description:String(k)})}u(!1)},V=async()=>{if(d){u(!0);try{const{data:k}=await Z.from("games").select("id").eq("tournament_id",d.id).eq("round",d.current_round||1).in("result",["pending","in_progress"]);if(k&&k.length>0){E({variant:"destructive",title:"Cannot start next round",description:`${k.length} games still pending in current round`}),u(!1);return}await C("advanceRound",{tournamentId:d.id}),await $(),E({title:"Next round started!",description:`Round ${(d.current_round||0)+1} pairings created`}),j()}catch(k){E({variant:"destructive",title:"Failed to start next round",description:String(k)})}u(!1)}},ee=async()=>{if(d){u(!0);try{const{data:k}=await Z.from("tournament_players").select("player_id, score").eq("tournament_id",d.id).order("score",{ascending:!1}).limit(4);if(!k||k.length<4){E({variant:"destructive",title:"Not enough players",description:"Need at least 4 players for super league"}),u(!1);return}const W=k.map(X=>X.player_id),z=(d.current_round||0)+1;for(let X=0;X<W.length;X++)for(let se=X+1;se<W.length;se++)await C("createGame",{tournamentId:d.id,round:z,whitePlayerId:W[X],blackPlayerId:W[se]});await C("advanceRound",{tournamentId:d.id}),E({title:"Super League started!",description:"Top 4 players will face each other"}),j()}catch(k){E({variant:"destructive",title:"Failed to start super league",description:String(k)})}u(!1)}};return t?c.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(An,{className:"h-8 w-8 text-primary"}),c.jsx("h1",{className:"font-display text-2xl md:text-3xl font-bold",children:"Tournament Admin"})]}),c.jsx(be,{variant:"outline",onClick:()=>e(!1),children:"Logout"})]}),c.jsxs(Le,{children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx($n,{className:"h-5 w-5"}),"Tournament Status"]})}),c.jsx(Fe,{children:d?c.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Format"}),c.jsx("p",{className:"font-bold capitalize",children:d.format.replace(/_/g," ")})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),c.jsx("p",{className:"font-bold capitalize",children:d.status.replace(/_/g," ")})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Round"}),c.jsxs("p",{className:"font-bold",children:[d.current_round," / ",d.total_rounds||"?"]})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),c.jsx("p",{className:"font-bold",children:v.length})]})]}):c.jsx("p",{className:"text-muted-foreground",children:"No tournament created yet."})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(Le,{children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(pv,{className:"h-5 w-5"}),"Tournament Settings"]})}),c.jsxs(Fe,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{children:"Format"}),c.jsxs(Gh,{value:y,onValueChange:w,disabled:(d==null?void 0:d.status)==="in_progress",children:[c.jsx(su,{children:c.jsx(Qh,{})}),c.jsxs(iu,{children:[c.jsx(Rt,{value:"swiss",children:"Swiss Only"}),c.jsx(Rt,{value:"knockouts",children:"Knockouts Only"}),c.jsx(Rt,{value:"round_robin_playoffs",children:"Round Robin + Playoffs"}),c.jsx(Rt,{value:"swiss_playoffs",children:"Swiss + Playoffs"}),c.jsx(Rt,{value:"swiss_super_league",children:"Swiss + Super League"}),c.jsx(Rt,{value:"arena",children:"Arena"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{children:"Time Control"}),c.jsxs(Gh,{value:_,onValueChange:S,disabled:(d==null?void 0:d.status)==="in_progress",children:[c.jsx(su,{children:c.jsx(Qh,{})}),c.jsxs(iu,{children:[c.jsx(Rt,{value:"1 | 1",children:"1 | 1 (Bullet)"}),c.jsx(Rt,{value:"3 | 2",children:"3 | 2 (Blitz)"}),c.jsx(Rt,{value:"5 | 3",children:"5 | 3 (Blitz)"}),c.jsx(Rt,{value:"10 | 0",children:"10 | 0 (Rapid)"}),c.jsx(Rt,{value:"10 | 5",children:"10 | 5 (Rapid)"}),c.jsx(Rt,{value:"15 | 10",children:"15 | 10 (Rapid)"})]})]})]}),c.jsx("div",{className:"flex flex-col gap-2",children:d?d.status==="registration"?c.jsxs(c.Fragment,{children:[c.jsx(be,{onClick:K,disabled:l,variant:"outline",children:"Save Settings"}),c.jsxs(be,{onClick:P,disabled:l,variant:"secondary",children:[l?c.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(hT,{className:"h-4 w-4 mr-2"}),"Register All Players"]}),c.jsxs(be,{onClick:H,disabled:l||v.length<2,children:[l?c.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(nm,{className:"h-4 w-4 mr-2"}),"Start Tournament"]})]}):d.status==="in_progress"?c.jsxs("div",{className:"space-y-2",children:[c.jsxs(be,{onClick:V,disabled:l,className:"w-full",children:[l?c.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(cT,{className:"h-4 w-4 mr-2"}),"Start Next Round"]}),(d.format==="swiss_super_league"||d.format==="swiss_playoffs")&&c.jsxs(be,{onClick:ee,disabled:l,variant:"secondary",className:"w-full",children:[l?c.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(h1,{className:"h-4 w-4 mr-2"}),"Start Super League / Playoffs"]}),c.jsxs(be,{onClick:G,disabled:l,variant:"outline",className:"w-full",children:[l?c.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):c.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Publish Results"]})]}):c.jsx("p",{className:"text-muted-foreground",children:"Tournament completed"}):c.jsxs(be,{onClick:U,disabled:l,className:"w-full",children:[l?c.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create Tournament"]})}),c.jsxs("div",{className:"pt-4 border-t border-destructive/20 space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-destructive",children:"Danger Zone"}),c.jsxs(sy,{children:[c.jsx(iy,{asChild:!0,children:c.jsxs(be,{variant:"outline",className:"w-full border-destructive/50 text-destructive hover:bg-destructive/10",disabled:l,children:[c.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Reset Tournament"]})}),c.jsxs(Yh,{children:[c.jsxs(Jh,{children:[c.jsx(Zh,{children:"Reset Tournament?"}),c.jsx(ep,{children:"This will delete the current tournament, all games, and remove all registered players. This action cannot be undone."})]}),c.jsxs(Xh,{children:[c.jsx(rp,{children:"Cancel"}),c.jsx(tp,{onClick:T,className:"bg-destructive hover:bg-destructive/90",children:"Reset Tournament"})]})]})]}),c.jsxs(sy,{children:[c.jsx(iy,{asChild:!0,children:c.jsxs(be,{variant:"outline",className:"w-full border-destructive/50 text-destructive hover:bg-destructive/10",disabled:l,children:[c.jsx(dT,{className:"h-4 w-4 mr-2"}),"Delete All Accounts"]})}),c.jsxs(Yh,{children:[c.jsxs(Jh,{children:[c.jsx(Zh,{children:"Delete All Accounts?"}),c.jsx(ep,{children:"This will permanently delete ALL user accounts and their data. This action is IRREVERSIBLE and should only be used for complete reset."})]}),c.jsxs(Xh,{children:[c.jsx(rp,{children:"Cancel"}),c.jsx(tp,{onClick:O,className:"bg-destructive hover:bg-destructive/90",children:"Delete All Accounts"})]})]})]})]})]})]}),c.jsxs(Le,{children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(ko,{className:"h-5 w-5"}),"Round ",(d==null?void 0:d.current_round)||1," Matches (",b.length,")"]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[b.map(k=>{var W,z,X,se,A,re,ye,oe;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cr,{avatarUrl:(W=k.white_player)==null?void 0:W.avatar_url,initials:(z=k.white_player)==null?void 0:z.avatar_initials,name:((X=k.white_player)==null?void 0:X.username)||"",size:"sm"}),c.jsx("span",{className:"font-medium",children:(se=k.white_player)==null?void 0:se.username})]}),c.jsx("div",{className:`px-3 py-1 rounded text-sm font-bold ${k.result==="white_wins"?"bg-green-500/20 text-green-500":k.result==="black_wins"?"bg-red-500/20 text-red-500":k.result==="draw"?"bg-yellow-500/20 text-yellow-500":k.result==="in_progress"?"bg-blue-500/20 text-blue-500":"bg-muted-foreground/20 text-muted-foreground"}`,children:k.result==="pending"?"Scheduled":k.result==="in_progress"?"Playing":k.result.replace("_"," ")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:(A=k.black_player)==null?void 0:A.username}),c.jsx(cr,{avatarUrl:(re=k.black_player)==null?void 0:re.avatar_url,initials:(ye=k.black_player)==null?void 0:ye.avatar_initials,name:((oe=k.black_player)==null?void 0:oe.username)||"",size:"sm"})]})]},k.id)}),b.length===0&&c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No matches in this round yet"})]})})]}),c.jsxs(Le,{children:[c.jsx(St,{children:c.jsxs(Et,{className:"flex items-center gap-2",children:[c.jsx(f1,{className:"h-5 w-5"}),"Registered Players (",v.length,")"]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[f.filter(k=>v.includes(k.id)).map(k=>c.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted rounded-lg",children:[c.jsx(cr,{avatarUrl:k.avatar_url,initials:k.avatar_initials,name:k.full_name,size:"sm"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:k.username}),c.jsx("p",{className:"text-xs text-muted-foreground",children:k.full_name})]})]},k.id)),v.length===0&&c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No players registered yet"})]})})]})]})]})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:c.jsxs(Le,{className:"w-full max-w-md border-2",children:[c.jsxs(St,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(pv,{className:"h-12 w-12 text-primary"})}),c.jsx(Et,{className:"font-display",children:"Admin Access"}),c.jsx(Ja,{children:"Enter admin credentials to continue"})]}),c.jsx(Fe,{children:c.jsxs("form",{onSubmit:J,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{children:"Username"}),c.jsx(Xr,{value:r,onChange:k=>n(k.target.value),placeholder:"Admin username"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gr,{children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Xr,{type:o?"text":"password",value:s,onChange:k=>i(k.target.value),placeholder:"Admin password"}),c.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>a(!o),children:o?c.jsx(lh,{className:"h-4 w-4"}):c.jsx($a,{className:"h-4 w-4"})})]})]}),c.jsx(be,{type:"submit",className:"w-full",children:"Access Dashboard"})]})})]})})},xM=()=>{const t=dl();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},bM=new UO,_M=()=>c.jsx(BO,{client:bM,children:c.jsx(_A,{children:c.jsxs(mO,{children:[c.jsx(JT,{}),c.jsx(Nj,{}),c.jsxs(MP,{children:[c.jsx(CA,{}),c.jsxs(Wv,{children:[c.jsx(Tr,{path:"/admin",element:c.jsx(wM,{})}),c.jsx(Tr,{path:"*",element:c.jsxs(c.Fragment,{children:[c.jsx(EA,{}),c.jsxs(Wv,{children:[c.jsx(Tr,{path:"/",element:c.jsx(TA,{})}),c.jsx(Tr,{path:"/auth",element:c.jsx(KA,{})}),c.jsx(Tr,{path:"/profile",element:c.jsx(JA,{})}),c.jsx(Tr,{path:"/standings",element:c.jsx(ZA,{})}),c.jsx(Tr,{path:"/champions",element:c.jsx(eI,{})}),c.jsx(Tr,{path:"/games",element:c.jsx(tI,{})}),c.jsx(Tr,{path:"/game/:gameId",element:c.jsx(SL,{})}),c.jsx(Tr,{path:"/practice",element:c.jsx(rM,{})}),c.jsx(Tr,{path:"*",element:c.jsx(xM,{})})]})]})})]})]})]})})});jx(document.getElementById("root")).render(c.jsx(_M,{}));
